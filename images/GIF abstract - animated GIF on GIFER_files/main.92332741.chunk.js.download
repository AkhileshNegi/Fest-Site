(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{130:function(e,t){},134:function(e,t,n){e.exports=n.p+"static/media/angry.002f9282.svg"},135:function(e,t,n){e.exports=n.p+"static/media/crying.638a172b.svg"},136:function(e,t,n){e.exports=n.p+"static/media/facepalm.678e0819.svg"},137:function(e,t,n){e.exports=n.p+"static/media/fuck-you.f970b8a2.svg"},138:function(e,t,n){e.exports=n.p+"static/media/lol.c52c9ef5.svg"},139:function(e,t,n){e.exports=n.p+"static/media/love.ac7fb986.svg"},140:function(e,t,n){e.exports=n.p+"static/media/thumbs-up.ab95a7a8.svg"},141:function(e,t,n){e.exports=n.p+"static/media/shock.bae3848f.svg"},142:function(e,t,n){e.exports=n.p+"static/media/share-social-en.b169f9b2.png"},143:function(e,t,n){e.exports=n.p+"static/media/share-social-ru.e9aea4d6.png"},146:function(e,t,n){e.exports=n.p+"static/media/empty-favorites.d5aa73e0.gif"},154:function(e,t,n){n(155),e.exports=n(537)},179:function(e,t){},185:function(e,t){},221:function(e,t,n){},224:function(e,t,n){},226:function(e,t,n){},228:function(e,t,n){},230:function(e,t,n){},232:function(e,t,n){},234:function(e,t,n){},239:function(e,t,n){},241:function(e,t,n){},243:function(e,t,n){},248:function(e,t,n){},261:function(e,t,n){},273:function(e,t,n){},275:function(e,t,n){},277:function(e,t,n){},279:function(e,t,n){},281:function(e,t,n){},283:function(e,t,n){},285:function(e,t,n){},287:function(e,t,n){},289:function(e,t,n){},291:function(e,t,n){},299:function(e,t,n){},301:function(e,t,n){},303:function(e,t,n){},306:function(e,t,n){},315:function(e,t){},316:function(e,t,n){},318:function(e,t,n){},320:function(e,t,n){},322:function(e,t,n){},324:function(e,t,n){},326:function(e,t,n){},330:function(e,t,n){},332:function(e,t,n){},334:function(e,t,n){},336:function(e,t,n){},338:function(e,t,n){},340:function(e,t,n){},342:function(e,t,n){},37:function(e,t,n){e.exports=n.p+"static/media/logo-cube.b930741c.svg"},38:function(e,t,n){e.exports=n.p+"static/media/empty-uploaded.37a253bb.gif"},393:function(e,t,n){},395:function(e,t,n){},398:function(e,t,n){},400:function(e,t,n){},402:function(e,t,n){},404:function(e,t,n){},406:function(e,t,n){},408:function(e,t,n){},410:function(e,t,n){},412:function(e,t,n){},414:function(e,t,n){},416:function(e,t,n){},418:function(e,t,n){},420:function(e,t,n){},422:function(e,t,n){},424:function(e,t,n){},426:function(e,t,n){},428:function(e,t,n){},430:function(e,t,n){},432:function(e,t,n){},434:function(e,t,n){},436:function(e,t,n){},438:function(e,t,n){},440:function(e,t,n){},442:function(e,t,n){},444:function(e,t,n){},446:function(e,t,n){},448:function(e,t,n){},450:function(e,t,n){},452:function(e,t,n){},454:function(e,t,n){},456:function(e,t,n){},458:function(e,t,n){},460:function(e,t,n){},462:function(e,t,n){},464:function(e,t,n){},466:function(e,t,n){},468:function(e,t,n){},470:function(e,t,n){},472:function(e,t,n){},474:function(e,t,n){},476:function(e,t,n){},519:function(e,t,n){},521:function(e,t,n){},523:function(e,t,n){},525:function(e,t,n){},527:function(e,t,n){},529:function(e,t,n){},537:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6),i=n(82),c=n.n(i),s=n(11),u=n(129),l=n.n(u);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var f="en;ru".split(";"),m=function(){var e=p(/^\/(\w{2})(\/.*|)$/.exec(window.location.pathname)||[],3),t=e[1],n=e[2];return n||(n=window.location.pathname),!1===f.includes(t)&&(t=(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage?navigator.userLanguage:navigator.language).slice(0,2),!1===f.includes(t)&&(t="en"),window.history.replaceState(void 0,void 0,"/".concat(t).concat(n))),t},d="undefined"===typeof window?{}:l()({basename:"/".concat(m())}),h=n(542),y="INIT_ENV",b=function(e,t){return{name:e,value:t,type:"CHANGE_ENV_VARIABLE"}},v="INIT_INTL",g="START_FETCH_MESSAGES",E=function(e){return{type:"SET_LOCALE",locale:e}},w=function(e,t){return{type:"SET_MESSAGES",locale:e,messages:t}},O=function(e){return{type:g,locale:e}},_="INIT_AUTH",S="SOCIAL_LOGIN_REQUEST",C="LOGIN_REQUEST",k="SIGNUP_REQUEST",j="LOGOUT_REQUEST",D="CHECK_EMAIL_REQUEST",P=function(){return{type:"INIT_AUTH_SUCCESS"}},A=function(e){return{provider:e,type:S}},x=function(e){return{error:e,type:"LOGIN_FAILURE"}},T=function(e,t){return{id:e,entities:t,type:"LOGIN_SUCCESS"}},N=function(e){return{error:e,type:"SIGNUP_FAILURE"}},F=function(){return{type:"LOGOUT_SUCCESS"}},M=function(e){return{error:e,type:"LOGOUT_FAILURE"}},L=function(e,t){return{email:e,error:t,type:"CHECK_EMAIL_FAILURE"}},I=function(e,t){return{email:e,exists:t,type:"CHECK_EMAIL_SUCCESS"}},R="FETCH_CATEGORIES_REQUEST",U="CATEGORY_TAGS_REQUEST",B=function(e,t){return{type:"FETCH_CATEGORIES_SUCCESS",ids:e,entities:t}},H=function(e){return{type:"FETCH_CATEGORIES_FAILURE",error:e}},z=function(e,t,n){return{type:"CATEGORY_TAGS_SUCCESS",categoryId:e,ids:t,entities:n}},W=function(e,t){return{type:"CATEGORY_TAGS_FAILURE",categoryId:e,error:t}},q="FETCH_UPLOAD_SERVERS_REQUEST",G=function(e){return{type:"FETCH_UPLOAD_SERVERS_SUCCESS",data:e}},V=function(e){return{type:"FETCH_UPLOAD_SERVERS_FAILURE",error:e}},K=n(4),Y=n(540),Q=n(305),J=n(541),X=n(12),$=n.n(X),Z=n(13),ee=n.n(Z),te=n(223);n(221);function ne(e){return(ne="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){oe(e,t,n[t])})}return e}function oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return!t||"object"!==ne(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ue=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ie(this,ce(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(t,r["Component"]),n=t,(a=[{key:"prepareClasses",value:function(){var e=[];return e.push("button"),e.push("type-".concat(this.props.type)),e.push("size-".concat(this.props.size)),e.push("shape-".concat(this.props.shape)),this.props.children||e.push("without-children"),this.props.block&&e.push("block"),this.props.animateIcon&&e.push("animate-icon"),this.props.disabled&&e.push("disabled"),"".concat(e.join(" ")," ").concat(this.props.className)}},{key:"render",value:function(){var e=this.props,t=e.icon,n=e.iconPosition,r=e.children,a=e.href,i=e.disabled,c=e.onClick,s=e.iconStyle,u="button";a&&(u=this.props.external?"a":te.a);var l=re({},this.props.style);this.props.color&&(l.backgroundColor=this.props.color);var p=re({},this.props.nativeProps,{className:this.prepareClasses(),style:l});return a?(this.props.external?(p.target="_blank",p.href=a):p.to=a,p.activeClassName=this.props.activeClassName,p.exact=this.props.exact,p.rel=this.props.rel):p.onClick=!i&&c,o.a.createElement(u,Object.assign({},p,{"aria-label":"Button"}),t&&"left"===n&&o.a.createElement("span",{style:s,className:"button-icon ".concat(r?"left-icon":"")},t),!!r&&o.a.createElement("span",{className:"children"},r),t&&"right"===n&&o.a.createElement("span",{style:s,className:"button-icon ".concat(r?"right-icon":"")},t))}}])&&ae(n.prototype,a),i&&ae(n,i),t}();ue.defaultProps={style:{},nativeProps:{},color:null,rel:null,animateIcon:!1,external:!1,children:"",className:"",iconStyle:{},block:!1,disabled:!1,type:"default",size:"middle",shape:"box",iconPosition:"left",exact:!0,onClick:function(){}};var le=ue;n(224),n(226);function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fe(e,t,n[t])})}return e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=function(e){return o.a.createElement("span",{className:"".concat(e.name," ").concat(e.className," icon"),style:pe({},e.style,{color:e.color,fontSize:e.size})})};me.defaultProps={color:void 0,size:void 0,style:{},className:""};var de=me,he=(n(228),n(230),function(e){return o.a.createElement("div",Object.assign({className:"overlay"},e))}),ye=(n(232),function(e){var t=e.element||"div";return t=e.href?te.a:t,o.a.createElement(t,{to:e.href,className:"page-header"},e.title,o.a.createElement("span",{className:"icon"},e.icon))}),be=(n(234),function(e){var t=null;return e.parts&&(t=o.a.createElement("span",{className:"parts"},"".concat(e.done,"/").concat(e.parts))),o.a.createElement("div",{className:"linear-progress"},o.a.createElement("div",{className:"value",style:{width:"".concat(e.value,"%")}}),o.a.createElement("div",{className:"text"},o.a.createElement(K.b,{id:"upload.progress_text"}),t))}),ve=n(36),ge=n.n(ve),Ee=n(46),we=n.n(Ee);function Oe(e){return(Oe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Se(e,t){return!t||"object"!==Oe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t){return(ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var je=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Se(this,(e=Ce(t)).call.apply(e,[this].concat(o)))).handleReceiveDimensions=function(){var e=n.ref.getBoundingClientRect(),t=e.top+window.scrollY,r=Math.min(Math.floor(e.width/n.props.minWidth),n.props.maxCollCount),o=(e.width-n.props.gutter*(r-1))/r;r===n.collCount&&o===n.cellWidth&&t===n.top||(n.collCount=r,n.cellWidth=o,n.top=t,n.props.onChange({collCount:r,cellWidth:o,top:t}))},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.handleReceiveDimensions(),window.addEventListener("resize",this.handleReceiveDimensions)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleReceiveDimensions)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{ref:function(t){return e.ref=t},style:{height:1,opacity:0}})}}])&&_e(n.prototype,r),a&&_e(n,a),t}();je.defaultProps={minWidth:150,maxCollCount:4,gutter:15};var De=je;function Pe(e){return(Pe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ae(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ne(e,t){return!t||"object"!==Pe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fe(e){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Le=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ne(this,Fe(t).call(this,e))).handleScroll=function(){n.calcVisible(n.state),n.lazyLoad()},n.handleReceiveDimensions=function(e){n.calc(n.props,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xe(e,t,n[t])})}return e}({},n.state,e)),n.setState(e)},n.height=0,n.cells=[],n.state={top:0,collCount:0,cellWidth:0,visible:[]},n.handleScroll=we()(n.handleScroll,50),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillReceiveProps",value:function(e){e.data!==this.props.data&&this.calc(e,this.state)}},{key:"shouldComponentUpdate",value:function(e,t){return this.state.refresh!==t.refresh}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"lazyLoad",value:function(){var e=this.props,t=e.onInfiniteLoad,n=e.isInfiniteLoading,r=e.data,o=e.offset;t&&!n&&this.lastDataLength!==r.length&&document.body.clientHeight-(window.scrollY+window.innerHeight)<=o&&(this.lastDataLength=r.length,t())}},{key:"calc",value:function(e,t){var n=this,r=new Array(t.collCount).fill(0);this.cells=[],e.data.forEach(function(o,a){var i=e.cellHeight(a,t.cellWidth),c=r.reduce(function(e,t,n){return t<r[e]?n:e},0);n.cells.push({height:i,index:a,width:t.cellWidth,left:c*(t.cellWidth+e.gutter),top:r[c],bottom:r[c]+i}),r[c]+=i+e.gutter}),this.height=Math.max.apply(Math,Ae(r)),this.calcVisible(t)}},{key:"calcVisible",value:function(e){var t=window.scrollY-e.top,n=t+window.innerHeight,r=this.cells.filter(function(e){return e.top<=n&&e.bottom>=t});this.setState({visible:r,refresh:!e.refresh})}},{key:"render",value:function(){var e=this,t={height:this.height,position:"relative"};return o.a.createElement("div",null,o.a.createElement(De,Object.assign({},this.props,{onChange:this.handleReceiveDimensions})),o.a.createElement("div",{style:t},this.state.visible.map(function(t){return o.a.createElement("div",{key:t.index,style:{backgroundColor:ge()({luminosity:"light",seed:t.index}),position:"absolute",left:t.left,top:t.top,width:t.width,height:t.height}},e.props.render(t.index,t.width,t.height))})))}}])&&Te(n.prototype,r),a&&Te(n,a),t}();Le.defaultProps={offset:0,isInfiniteLoading:!1,onInfiniteLoad:null};var Ie=Le,Re=function(e){return o.a.createElement("div",{style:{columnCount:e.columnCount,columnGap:10}},e.data.map(function(t,n){return o.a.createElement("div",{key:t,style:{width:"100%",marginBottom:10,breakInside:"avoid"}},e.render(n))}))};Re.defaultProps={columnCount:1};var Ue=Re,Be=function(e){return"undefined"===typeof window?o.a.createElement(Ue,e):o.a.createElement(Ie,e)};n(239);function He(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var ze=function(e){return o.a.createElement("div",Object.assign({className:"common-list"},e))},We=function(e){var t=e.icon,n=e.children,r=He(e,["icon","children"]),a=r.href?"a":"div";return o.a.createElement(a,Object.assign({className:"common-list__item"},r),t&&o.a.createElement("div",{className:"common-list__item-icon"},t),o.a.createElement("div",{className:"common-list__item-children"},n))};We.defaultProps={icon:void 0};n(241);function qe(e){return(qe="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ge(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Ve(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ke(e,t){return!t||"object"!==qe(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ye(e){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qe(e,t){return(Qe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Je=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ke(this,Ye(t).call(this,e))).handleDocumentClick=function(e){n.tooltip.current.contains(e.target)||n.props.closeRequest()},n.tooltip=o.a.createRef(),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qe(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"render",value:function(){var e=this.props,t=(e.closeRequest,Ge(e,["closeRequest"]));return o.a.createElement("div",Object.assign({className:"tooltip",ref:this.tooltip},t))}}])&&Ve(n.prototype,a),i&&Ve(n,i),t}();Je.defaultProps={closeRequest:function(){}};var Xe=Je,$e=(n(243),function(e){return o.a.createElement("div",{className:"autoplay-button"},e.text?o.a.createElement("span",{className:"text"},o.a.createElement(K.b,{id:"autoplay"})):null,e.autoPlay?o.a.createElement(le,{size:"small",onClick:e.disable,type:"pause",icon:o.a.createElement(de,{name:"icon-pause",size:"24px"})}):o.a.createElement(le,{size:"small",onClick:e.enable,type:"play",icon:o.a.createElement(de,{name:"icon-play",size:"24px"})}))}),Ze=function(){return{type:"ENABLE_AUTOPLAY"}};var et=function(){try{return localStorage.setItem("test","test"),localStorage.removeItem("test"),!0}catch(e){return!1}}()?window.localStorage:{getItem:function(){return null},setItem:function(){},removeItem:function(){}},tt=Object(a.b)(function(e){return{autoPlay:e.autoPlay,text:e.env.width>420}},function(e){return{enable:function(){e(Ze()),et.setItem("autoplay",JSON.stringify(!0))},disable:function(){e({type:"DISABLE_AUTOPLAY"}),et.setItem("autoplay",JSON.stringify(!1))}}})($e),nt="FETCH_MEDIA_LIST_REQUEST",rt=function(e,t,n){return{list:e,skip:t,limit:n,type:nt}},ot=function(e,t,n,r,o){return{type:"FETCH_MEDIA_LIST_SUCCESS",list:e,ids:t,append:r,count:o,entities:n}},at=function(e,t){return{type:"FETCH_MEDIA_LIST_FAILURE",list:e,error:t}},it=function(e){return{filter:e,type:"SAVE_MEDIA_LIST_FILTER"}},ct="FETCH_MEDIA_REQUEST",st="CREATE_MEDIA_REQUEST",ut="INC_MEDIA_STAT",lt=function(e){return{id:e,type:ct}},pt=function(e){return{error:e,type:"FETCH_MEDIA_FAILURE"}},ft=function(e,t){return{id:e,entities:t,type:"FETCH_MEDIA_SUCCESS"}},mt=function(e){return{media:e,type:st}},dt=function(e){return{error:e,type:"CREATE_MEDIA_FAILURE"}},ht=function(e,t){return{id:e,entities:t,type:"CREATE_MEDIA_SUCCESS"}},yt=function(e,t){return{id:t,list:e,type:"ADD_MEDIA_TO_LIST"}},bt=function(e){return{data:e,type:ut}},vt=function(e){return{error:e,type:"INC_MEDIA_STAT_FAILURE"}},gt=n(26),Et=n.n(gt),wt=n(1),Ot=n.n(wt),_t=function(e,t,n){var r,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=o.width,i=o.height,c=o.preset,s=o.addHttp,u=void 0!==s&&s,l="".concat(t,".").concat(n),p=[];return a&&p.push("w".concat(a)),i&&p.push("h".concat(i)),p.length?(p.push("preview"),r="".concat(e,"/fetch/").concat(p.join("-"),"/").concat(l)):r=c?"".concat(e,"/preset/").concat(c,"/").concat(l):"".concat(e,"/origin/").concat(l),u&&!/^http/.test(r)&&(r="https:".concat(r)),r},St="undefined"===typeof navigator||"undefined"===typeof navigator.connection?void 0:navigator.connection.downlink;n(248);function Ct(e){return(Ct="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dt(e,t){return(Dt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var At=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=jt(t).call(this,e))||"object"!==Ct(o)&&"function"!==typeof o?Pt(r):o).state={previewLoaded:!1,touchStart:!1,touchEnd:!1},n.handleTouchStart=n.handleTouchStart.bind(Pt(Pt(n))),n.handleTouchEnd=n.handleTouchEnd.bind(Pt(Pt(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){this.props.id!==e.id&&this.setState({toucheStart:!1,touchEnd:!1}),this.props.autoPlay===e.autoPlay||e.autoPlay||(this.animatedPreviewRef&&this.animatedPreviewRef.setAttribute("src",""),this.animatedWebp&&this.animatedWebp.setAttribute("srcSet",""),this.animatedGif&&this.animatedGif.setAttribute("srcSet",""))}},{key:"componentWillUnmount",value:function(){this.mediaRef&&this.mediaRef.setAttribute("src",""),this.previewRef&&this.previewRef.setAttribute("src",""),this.animatedPreviewRef&&this.animatedPreviewRef.setAttribute("src",""),this.animatedWebp&&this.animatedWebp.setAttribute("srcSet",""),this.animatedGif&&this.animatedGif.setAttribute("srcSet","")}},{key:"getPreviewImage",value:function(){var e=this;if(!this.props.file)return null;var t=this.props.alt||this.context.intl.formatMessage({id:this.props.imagePreviewAltId},this.props.textValues),n={};return this.props.main&&"google"===this.props.clientType?n.preset="vk_play":n.width=300,o.a.createElement("img",{alt:t,itemProp:"thumbnail",ref:function(t){return e.previewRef=t},src:_t(this.props.server,this.props.file.path,"gif",n),role:"presentation"})}},{key:"getFullMediaSrc",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gif";return"".concat(this.props.server,"/").concat(this.props.id,".").concat(e)}},{key:"getFullMedia",value:function(){var e=this.getFullMediaSrc("gif"),t=this.props.alt||this.context.intl.formatMessage({id:"imageAlt"},this.props.textValues),n=this.props.file.formats||[];if("undefined"===typeof window||!n.includes("mp4"))return o.a.createElement("picture",null,n.includes("webp")&&o.a.createElement("source",{srcSet:this.getFullMediaSrc("webp"),type:"image/webp"}),o.a.createElement("source",{srcSet:e,type:"image/gif"}),o.a.createElement("img",{key:e,className:"full-media",itemProp:"contentUrl",alt:t,src:e,onLoad:this.props.onLoad}));var r="".concat(this.props.server,"/").concat(this.props.id,".mp4"),a=_t(this.props.server,this.props.file.path,"gif",{width:300});return o.a.createElement("div",null,o.a.createElement("video",{key:r,poster:a,className:"full-media",loop:!0,autoPlay:!0,muted:!0,playsInline:!0,onError:this.props.onError,onLoadedData:this.props.onLoad},o.a.createElement("source",{src:r,type:"video/mp4"})))}},{key:"getPreviewMedia",value:function(){var e=this,t=this.props.file,n=t.formats,r=void 0===n?[]:n,a=t.path,i=this.props.isMobile&&r.includes("mgif")&&St<8?"mob":"w200",c=_t(this.props.server,"".concat(a,"_").concat(i),"gif"),s=r.includes("webp200")?_t(this.props.server,"".concat(a,"_w200"),"webp"):null,u=this.props.alt||this.context.intl.formatMessage({id:this.props.imagePreviewAltId},this.props.textValues);return o.a.createElement("picture",{key:c},s&&o.a.createElement("source",{srcSet:s,type:"image/webp",ref:function(t){return e.animatedWebp=t}}),o.a.createElement("source",{srcSet:c,type:"image/gif",ref:function(t){return e.animatedGif=t}}),o.a.createElement("img",{alt:u,className:"preview-media ".concat(this.state.previewLoaded?"preview-media_loaded":""),ref:function(t){return e.animatedPreviewRef=t},onLoad:function(){return e.setState({previewLoaded:!0})},src:c,role:"presentation"}))}},{key:"handleTouchStart",value:function(){var e=this;this.timeout&&clearTimeout(this.timeout),this.props.main?this.setState({touchStart:!0,touchEnd:!1}):this.timeout=setTimeout(function(){e.setState({touchStart:!0,touchEnd:!1})},500)}},{key:"handleTouchEnd",value:function(){this.timeout&&clearTimeout(this.timeout),this.props.main&&this.setState({touchEnd:!0})}},{key:"render",value:function(){var e=this;if(!this.props.server)return null;var t=this.props.width>this.props.height?"width":"height",n=Math.min(Math.max(450,this.props[t]),this.props.maxHeight)/this.props[t],r=this.props.width*n,a=this.props.height*n,i={paddingTop:this.props.paddingTop||"".concat(a/r*100,"%")},c={};this.props.main&&(c.width=r);var s="undefined"===typeof window,u=!1,l=!1;if(!this.props.main){var p=s&&!this.props.mainMedia;l=this.props.autoPlay||p,u=!p&&!(l&&this.state.previewLoaded)}return o.a.createElement("div",{className:"media ".concat(this.props.isMobile?"mobile":"desktop"),style:c,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchEnd,onTouchMove:this.handleTouchEnd,onContextMenu:function(){return e.props.onContextMenu(e.props.id)}},o.a.createElement("div",{style:i},this.state.touchStart&&o.a.createElement("img",{className:"media-op-image",src:"".concat(this.props.server,"/").concat(this.props.id,".gif"),role:"presentation",style:{zIndex:this.state.touchEnd?1:5},alt:this.props.alt}),o.a.createElement("div",{className:"media-container1"},o.a.createElement("div",{className:"media-container2",style:c},u&&this.getPreviewImage(),l&&this.getPreviewMedia(),this.props.main&&this.getFullMedia(),!l&&this.props.addMetaContentUrl&&o.a.createElement("link",{itemProp:"contentUrl",content:this.getFullMediaSrc("gif")}),!l&&this.props.dateCreated&&o.a.createElement("meta",{itemProp:"dateCreated",content:this.props.dateCreated})))))}}])&&kt(n.prototype,r),a&&kt(n,a),t}();At.defaultProps={imagePreviewAltId:"imagePreviewAlt",file:{},addMetaContentUrl:!1,maxHeight:520,onContextMenu:function(){},onError:function(){},onLoad:function(){}},At.contextTypes={intl:Ot.a.object.isRequired};var xt=At,Tt=n(131),Nt=n.n(Tt),Ft=function(e){var t=e.media,n=void 0===t?{}:t,r=e.creator,o={},a=[];n.tags&&(a=n.tags.map(function(e){return e.tag.id}),a=Nt()(a));for(var i=1,c=0;i<11;i++,c++){var s=a[c],u=s?"".concat(s.charAt(0).toUpperCase()).concat(s.slice(1)):"";o["tag".concat(i)]=s?"".concat(s,", "):"",o["Tag".concat(i)]=s?"".concat(u,", "):"",o["tag".concat(i,"_s")]=s?"".concat(s," "):"",o["Tag".concat(i,"_s")]=s?"".concat(u," "):""}return o.tag11_=a.slice(10).join(", "),o.tag11_=o.tag11_?"".concat(o.tag11_," "):o.tag11_,o.tags=a.join(", "),o.tags=o.tags?"".concat(o.tags," "):o.tags,o.x=n.width||"",o.y=n.height||"",o.user=r?r.username:"",o};function Mt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Lt=Object(a.b)(function(e,t){var n=e.media.entities[t.id];if(!n)return{};var r=e.users.entities[n.creator],o=n.date;return o&&(o=new Date(o).toISOString()),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Mt(e,t,n[t])})}return e}({},n,{textValues:t.textValues||Ft({media:n,creator:r}),dateCreated:o,server:n.file&&e.uploadServers.data[n.file.server],autoPlay:t.autoPlay||e.autoPlay,isMobile:e.env.isMobile,clientType:e.env.clientType})})(xt),It=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?e.trim().toLowerCase().replace(/[-\/\s]+/g,"-").replace(/[^-0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDF00-\uDF1C\uDF27\uDF30-\uDF45]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF1A]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDE9D\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFF1]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/g,"").replace(/^-+|-+$/g,""):"";return t?encodeURIComponent(n):n},Rt=function(e){try{e=decodeURIComponent(e)}catch(t){}return e.replace(/-/g," ")};n(261);function Ut(e){return(Ut="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Bt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e){return(Ht=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zt(e,t){return(zt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Wt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var qt=function(e){return o.a.createElement("div",{itemProp:e.itemProp,className:"media-thumb-tags"},e.tags.map(function(e){var t=e.tag;return o.a.createElement("span",{key:t.id},o.a.createElement(te.a,{to:"/gifs/".concat(It(t.id))},t.id),"\xa0")}))};qt.defaultProps={tags:[],itemProp:void 0};var Gt=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Ht(t).call(this,e))||"object"!==Ut(o)&&"function"!==typeof o?Wt(r):o).state={mouseHovered:!1},n.handleClick=n.handleClick.bind(Wt(Wt(n))),n.handleMouseEnter=n.handleMouseEnter.bind(Wt(Wt(n))),n.handleMouseLeave=n.handleMouseLeave.bind(Wt(Wt(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&zt(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"handleClick",value:function(){this.props.onClick(this.props.id)}},{key:"handleMouseEnter",value:function(){var e=this;this.props.isMobile||(this.timeout=setTimeout(function(){e.setState({mouseHovered:!0})},100))}},{key:"handleMouseLeave",value:function(){this.props.isMobile||(clearTimeout(this.timeout),this.setState({mouseHovered:!1}))}},{key:"render",value:function(){var e=["media-thumb",this.props.isMobile?"mobile":"desktop"];"undefined"===typeof window&&e.push("static");var t=!!this.props.mainMedia,n="undefined"===typeof window||this.props.showActions&&this.state.mouseHovered;return o.a.createElement("div",{itemProp:this.props.itemProp,itemScope:t,itemType:t?"http://schema.org/ImageObject":null,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleClick},o.a.createElement("figure",{className:e.join(" ")},o.a.createElement(te.a,{itemProp:t?"url":null,to:{pathname:this.props.href||"/".concat(this.props.id),state:{thumb:!0}}},o.a.createElement(Lt,{alt:this.props.alt,addMetaContentUrl:!0,paddingTop:this.props.paddingTop,id:this.props.id,autoPlay:this.state.mouseHovered,mainMedia:this.props.mainMedia,onContextMenu:this.props.onContextMenu,imagePreviewAltId:this.props.imagePreviewAltId}),this.props.title&&o.a.createElement("figcaption",null,this.props.title)),this.props.showActions&&this.state.mouseHovered&&o.a.createElement("div",{className:"media-thumb__actions"},o.a.createElement(le,{onClick:this.props.onClickLike,type:"transparent",icon:o.a.createElement(de,{name:"icon-like",color:this.props.liked?"#ef4a4a":"white",size:24})}),o.a.createElement(Et.a,{text:this.props.downloadURL},o.a.createElement(le,{onClick:this.props.onClickCopy,type:"transparent",icon:o.a.createElement(de,{name:"icon-copy-url",color:"white",size:24})}))),n&&o.a.createElement("figcaption",null,o.a.createElement(qt,{itemProp:t?"keywords":null,tags:this.props.tags}))))}}])&&Bt(n.prototype,r),a&&Bt(n,a),t}();Gt.defaultProps={mainMedia:void 0,itemProp:void 0,id:void 0,alt:void 0,paddingTop:void 0,tags:void 0,title:void 0,downloadURL:void 0,liked:void 0,href:void 0,isMobile:!1,imagePreviewAltId:void 0,showActions:!0,onClickLike:void 0,onClickCopy:void 0,onContextMenu:void 0,onClick:function(){}};var Vt=Gt,Kt="LIKE_MEDIA_REQUEST",Yt=function(e){return{id:e,like:!(arguments.length>1&&void 0!==arguments[1])||arguments[1],type:Kt}},Qt=function(e,t,n){return{id:t,like:n,error:e,type:"LIKE_MEDIA_FAILURE"}},Jt=function(e,t){return{id:e,like:t,type:"LIKE_MEDIA_SUCCESS"}},Xt=function(e){return{component:e,props:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},type:"OPEN_MODAL"}},$t=function(){return{type:"CLOSE_MODAL"}},Zt=n(132),en=n.n(Zt),tn=(n(273),function(e){return o.a.createElement(le,{type:"transparent",className:"auth-back-button",onClick:e.onClick,icon:o.a.createElement(de,{name:"icon-arrow-left",color:"#fff",size:22})})});n(275);function nn(e){return(nn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rn(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function on(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function an(e){return(an=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function cn(e,t){return(cn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var un=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=an(t).call(this,e))||"object"!==nn(o)&&"function"!==typeof o?sn(r):o).handleKeyPress=n.handleKeyPress.bind(sn(sn(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&cn(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.props.onSubmit()}},{key:"render",value:function(){var e=this.props,t=e.style,n=e.error,r=rn(e,["style","error"]);return n&&(t.borderBottomColor="#e75152"),o.a.createElement("input",Object.assign({},r,{style:t,className:"auth-input",onKeyPress:this.handleKeyPress}))}}])&&on(n.prototype,r),a&&on(n,a),t}();un.defaultProps={style:{},error:null,onSubmit:function(){}};var ln=un;function pn(e){return(pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mn(e){return(mn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dn(e,t){return(dn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var yn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=mn(t).call(this,e))||"object"!==pn(o)&&"function"!==typeof o?hn(r):o).state={password:""},n.handleChangePassword=n.handleChange.bind(hn(hn(n)),"password"),n.handleSubmit=n.handleSubmit.bind(hn(hn(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dn(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleChange",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t.target.value))}},{key:"handleSubmit",value:function(){this.props.onSubmit({email:this.props.email,password:this.state.password})}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-part-login content"},o.a.createElement("div",{className:"sub-header"},o.a.createElement(tn,{onClick:this.props.onClickBack}),o.a.createElement(K.b,{id:"auth.greeting_login"})),o.a.createElement("div",{className:"user-email"},this.props.email),o.a.createElement(ln,{autoFocus:!0,type:"password",error:this.props.error,style:{marginTop:10},value:this.state.password,onChange:this.handleChangePassword,onSubmit:this.handleSubmit,placeholder:this.props.intl.formatMessage({id:"auth.placeholder.password"})}),this.props.error&&o.a.createElement("div",{className:"auth-error"},o.a.createElement(K.b,{id:"auth.wrong_password"})),o.a.createElement(le,{block:!0,type:"gradient",onClick:this.handleSubmit,style:{marginTop:10}},o.a.createElement(K.b,{id:"auth.loginButton"})))}}])&&fn(n.prototype,r),a&&fn(n,a),t}(),bn=Object(K.e)(yn),vn={onSubmit:function(e){return{data:e,type:C}}},gn=Object(a.b)(function(e){return{error:e.auth.error}},vn)(bn);function En(e){return(En="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function On(e){return(On=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _n(e,t){return(_n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Sn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Cn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=On(t).call(this,e))||"object"!==En(o)&&"function"!==typeof o?Sn(r):o).state={password:""},n.handleChangePassword=n.handleChange.bind(Sn(Sn(n)),"password"),n.handleSubmit=n.handleSubmit.bind(Sn(Sn(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_n(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleChange",value:function(e,t){this.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t.target.value))}},{key:"handleSubmit",value:function(){this.props.onSubmit({email:this.props.email,password:this.state.password})}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-part-signup content"},o.a.createElement("div",null,o.a.createElement("div",{className:"sub-header"},o.a.createElement(tn,{onClick:this.props.onClickBack}),o.a.createElement(K.b,{id:"auth.greeting_signup"})),o.a.createElement("div",{className:"user-email"},this.props.email),o.a.createElement(ln,{autoFocus:!0,type:"password",error:this.props.error,style:{marginTop:10},value:this.state.password,onChange:this.handleChangePassword,onSubmit:this.handleSubmit,placeholder:this.props.intl.formatMessage({id:"auth.placeholder.password"})}),this.props.error&&o.a.createElement("div",{className:"auth-error"},o.a.createElement(K.b,{id:"auth.signup_wrong_email_or_password"})),o.a.createElement(le,{block:!0,style:{marginTop:10},type:"gradient",onClick:this.handleSubmit},o.a.createElement(K.b,{id:"auth.signupButton"}))))}}])&&wn(n.prototype,r),a&&wn(n,a),t}(),kn=Object(K.e)(Cn),jn={onSubmit:function(e){return{data:e,type:k}}},Dn=Object(a.b)(function(e){return{error:e.auth.error}},jn)(kn);n(277);function Pn(e){return(Pn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function An(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e){return(xn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Tn(e,t){return(Tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Fn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=xn(t).call(this,e))||"object"!==Pn(o)&&"function"!==typeof o?Nn(r):o).handleFacebookClick=n.handleClick.bind(Nn(Nn(n)),"facebook"),n.handleGoogleClick=n.handleClick.bind(Nn(Nn(n)),"google"),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tn(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleClick",value:function(e){this.props.onClick(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"auth-social"},o.a.createElement(le,{block:!0,size:"s50",type:"facebook",color:"#3163a2",icon:o.a.createElement(de,{name:"icon-facebook",color:"#fff",size:27}),onClick:this.handleFacebookClick},o.a.createElement(K.b,{id:"auth.facebook"})),o.a.createElement(le,{size:"s50",color:"#dc3534",icon:o.a.createElement(de,{name:"icon-google",size:27}),onClick:this.handleGoogleClick}))}}])&&An(n.prototype,r),a&&An(n,a),t}();n(279);function Mn(e){return(Mn="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function In(e){return(In=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rn(e,t){return(Rn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Bn=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=In(t).call(this,e))||"object"!==Mn(o)&&"function"!==typeof o?Un(r):o).state={email:e.email},n.handleSubmit=n.handleSubmit.bind(Un(Un(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Rn(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){this.props.clearAuthError()}},{key:"componentWillReceiveProps",value:function(e){var t=e.emailChecks[this.state.email];"undefined"!==typeof t&&this.props.onSubmitEmail(this.state.email,t)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.checkEmail(this.state.email)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"auth-part-home content"},o.a.createElement("div",{className:"header"},o.a.createElement(K.b,{id:"auth.greeting"})),o.a.createElement(Fn,{onClick:this.props.socialLogin}),o.a.createElement("div",{style:{marginTop:10}},this.props.showInput?o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement(ln,{autoFocus:!0,required:!0,type:"email",value:this.state.email,onChange:function(t){return e.setState({email:t.target.value})},placeholder:this.props.intl.formatMessage({id:"auth.placeholder.email"})}),o.a.createElement(le,{block:!0,nativeProps:{type:"submit"},type:"gradient",iconPosition:"right",icon:o.a.createElement(de,{name:"icon-arrow-right",color:"#fff",size:23}),style:{marginTop:10},size:"s50"},o.a.createElement(K.b,{id:"next"}))):o.a.createElement(le,{block:!0,onClick:this.props.toggleInput,size:"s50"},o.a.createElement(K.b,{id:"auth.email_login_button"}))),o.a.createElement("div",{className:"other-methods-button",onClick:this.props.showOtherMethods},o.a.createElement(K.b,{id:"auth.header_social_auth"})))}}])&&Ln(n.prototype,r),a&&Ln(n,a),t}();Bn.defaultProps={email:""};var Hn=Object(K.e)(Bn),zn={clearAuthError:function(){return{type:"CLEAR_AUTH_ERROR"}},checkEmail:function(e){return{email:e,type:D}},socialLogin:A},Wn=Object(a.b)(function(e){return{emailChecks:e.auth.emailChecks}},zn)(Hn),qn=(n(281),function(e){return o.a.createElement("div",{className:"social-button",style:{backgroundColor:e.color},onClick:e.onClick},o.a.createElement("div",{className:"icon-block"},e.icon),o.a.createElement("div",{className:"title"},e.title))}),Gn=function(e){return o.a.createElement("div",{className:"auth-part-social content"},o.a.createElement("div",{className:"sub-header"},o.a.createElement(tn,{onClick:e.onClickBack}),o.a.createElement(K.b,{id:"auth.header_social_auth"})),o.a.createElement("div",{className:"buttons"},o.a.createElement(qn,{title:"Facebook",icon:o.a.createElement(de,{name:"icon-facebook",color:"#fff",size:27}),color:"#3163a2",onClick:function(){return e.socialLogin("facebook")}}),o.a.createElement(qn,{title:"Vkontakte",icon:o.a.createElement(de,{name:"icon-vkontakte",color:"#fff",size:27}),color:"#44688a",onClick:function(){return e.socialLogin("vk")}}),o.a.createElement(qn,{title:"Google",color:"#dc3534",icon:o.a.createElement(de,{name:"icon-google",size:27}),onClick:function(){return e.socialLogin("google")}}),o.a.createElement(qn,{title:"E-mail",icon:o.a.createElement(de,{name:"icon-mail",color:"#fff",size:27}),color:"#3d3e42",onClick:e.onClickEmail})))},Vn={socialLogin:A},Kn=Object(a.b)(null,Vn)(Gn),Yn=(n(283),function(e){return o.a.createElement("div",{className:"modal-container"},o.a.createElement(he,{onClick:e.closeModal}),o.a.createElement("div",{className:"modal-close-button",onClick:e.closeModal},o.a.createElement(de,{name:"icon-close",color:"#fff",size:27})),o.a.createElement("div",{className:"modal ".concat(e.className)},e.children))});Yn.defaultProps={className:""};var Qn=Yn,Jn={closeModal:$t},Xn=Object(a.b)(null,Jn)(Qn);n(285);function $n(e){return($n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function er(e){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tr(e,t){return(tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function nr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var rr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=er(t).call(this,e))||"object"!==$n(o)&&"function"!==typeof o?nr(r):o).state={part:"home",email:"",showEmailInput:!1},n.handleSubmitEmail=n.handleSubmitEmail.bind(nr(nr(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tr(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleSubmitEmail",value:function(e,t){this.setState({email:e,part:t?"login":"signup"})}},{key:"render",value:function(){var e,t=this;if(this.props.isAuth)return null;switch(this.state.part){case"home":e=o.a.createElement(Wn,{key:"home",email:this.state.email,showInput:this.state.showEmailInput,toggleInput:function(){return t.setState({showEmailInput:!t.state.showEmailInput})},onSubmitEmail:this.handleSubmitEmail,showOtherMethods:function(){return t.setState({part:"social"})}});break;case"login":e=o.a.createElement(gn,{key:"login",email:this.state.email,onClickBack:function(){return t.setState({part:"home"})}});break;case"signup":e=o.a.createElement(Dn,{key:"signup",email:this.state.email,onClickBack:function(){return t.setState({part:"home"})}});break;case"social":e=o.a.createElement(Kn,{key:"social",onClickBack:function(){return t.setState({part:"home"})},onClickEmail:function(){return t.setState({part:"home",showEmailInput:!0})}});break;default:e=""}return o.a.createElement(Xn,{className:"page-auth ".concat(this.props.isMobile?"mobile":"desktop")},o.a.createElement(en.a,{component:"ul",className:"page-auth__animation-container",transitionName:"home"!==this.state.part?"fade-wait":"fade-wait-reverse",transitionEnterTimeout:500,transitionLeaveTimeout:500},e))}}])&&Zn(n.prototype,r),a&&Zn(n,a),t}(),or=Object(a.b)(function(e){return{isAuth:!!e.auth.myId,isMobile:e.env.isMobile}})(rr),ar=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success";return{values:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},message:e,alertType:t,type:"SHOW_ALERT"}};function ir(e){return(ir="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sr(e){return(sr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ur(e,t){return(ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var pr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=sr(t).call(this,e))||"object"!==ir(o)&&"function"!==typeof o?lr(r):o).handleClickCopy=n.handleClickCopy.bind(lr(lr(n))),n.handleClickLike=n.handleClickLike.bind(lr(lr(n))),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ur(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleClickCopy",value:function(e){e.stopPropagation(),this.props.incMediaStat({type:"other",media:this.props.id,tag:this.props.mainTag}),this.props.showAlert("alert.url_copied")}},{key:"handleClickLike",value:function(e){e.stopPropagation();var t=!this.props.liked;this.props.isAuth?this.props.likeMediaRequest(this.props.id,t):this.props.openModal(or),t&&this.props.incMediaStat({type:"like",media:this.props.id,tag:this.props.mainTag})}},{key:"render",value:function(){return o.a.createElement(Vt,Object.assign({},this.props,{onClickCopy:this.handleClickCopy,onClickLike:this.handleClickLike}))}}])&&cr(n.prototype,a),i&&cr(n,i),t}(),fr={incMediaStat:bt,likeMediaRequest:Yt,openModal:Xt,showAlert:ar},mr=Object(a.b)(function(e,t){var n=e.media.entities[t.id],r=$()(e.media.entities,[t.id,"tags"]),o=$()(e.media.entities,[t.mainMedia,"tags"]);r&&t.mainMedia&&o?r=r.sort(function(n,r){var o=e.media.entities[t.mainMedia].tags.indexOf(n),a=e.media.entities[t.mainMedia].tags.indexOf(r);return-1===o&&(o=100),-1===a&&(a=100),o-a}):r&&t.mainTag&&r.includes(t.mainTag)&&r.splice(0,0,r.splice(r.indexOf(t.mainTag),1)[0]),"undefined"===typeof window&&r&&(r=r.slice(0,4));var a=n&&n.file&&e.uploadServers.data[n.file.server],i=a?"".concat(a,"/").concat(t.id,".gif"):"";return{tags:r,liked:!!n.liked,isMobile:e.env.isMobile,isAuth:!!e.auth.myId,downloadURL:i}},fr)(pr);function dr(e){return(dr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return!t||"object"!==dr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function br(e){return(br=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vr(e,t){return(vr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var gr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=yr(this,(e=br(t)).call.apply(e,[this].concat(a)))).handleRenderItem=function(e){var t=n.props.mediaList[e];return o.a.createElement(mr,{imagePreviewAltId:n.props.imagePreviewAltId,mainTag:n.props.query,itemProp:n.props.itemProp,mainMedia:n.props.mainMedia,id:t,onClick:n.props.onClick,onContextMenu:n.props.onContextMenu})},n.handleCellHeight=function(e,t){var r=n.props.mediaList[e],o=n.props.mediaEntities[r];return t/o.width*o.height},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vr(e,t)}(t,o.a.Component),n=t,(r=[{key:"render",value:function(){return o.a.createElement(Be,{gutter:this.props.gutter,offset:this.props.offset,columnCount:this.props.columnCount,data:this.props.mediaList,render:this.handleRenderItem,cellHeight:this.handleCellHeight,onInfiniteLoad:this.props.onInfiniteLoad,isInfiniteLoading:this.props.isLoading})}}])&&hr(n.prototype,r),a&&hr(n,a),t}();gr.defaultProps={imagePreviewAltId:void 0,offset:0,columnCount:4,query:void 0,itemProp:void 0,mainMedia:void 0,onInfiniteLoad:void 0,onClick:void 0,onContextMenu:void 0};var Er=gr,wr=function(e){return("undefined"===typeof window?[]:$()(window,"dataLayer",[])).push(e)},Or=function(e){var t=e?e.split("/"):[];switch(t[0]){case"search":return{query:t[1],section:t[0]};case"tag":return{tag:decodeURIComponent(t[1]),section:t[0]};case"media":return{media:t[1],section:t[0]};case"user":return{user:t[1],type:t[2],section:t[0]};case"event":case"smile":return{id:t[1],slug:t[2],section:t[0],query:t[3]};default:return{section:t[0]}}};function _r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Sr(e){return(Sr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){kr(e,t,n[t])})}return e}function kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dr(e){return(Dr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pr(e,t){return(Pr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var xr=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Dr(t).call(this,e))||"object"!==Sr(o)&&"function"!==typeof o?Ar(r):o).handleInfiniteLoad=n.handleInfiniteLoad.bind(Ar(Ar(n))),n.handleMediaClick=n.handleMediaClick.bind(Ar(Ar(n))),n.handleContextMenu=n.handleContextMenu.bind(Ar(Ar(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pr(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.save&&this.props.saveMediaListFilter(this.props.id),this.props.isLoaded&&!this.props.forceUpdate||this.loadMediaList(this.props.id,0,this.props.limit)}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&(this.loadMediaList(e.id,e.skip,e.limit),e.save&&e.saveMediaListFilter(e.id))}},{key:"loadMediaList",value:function(e,t,n){this.props.fetchMediaListRequest(e,t,n)}},{key:"handleInfiniteLoad",value:function(){this.props.mediaList&&this.loadMediaList(this.props.id,this.props.realMediaListSize,this.props.limit)}},{key:"handleMediaClick",value:function(e){this.props.incMediaStat(Cr({},this.props.statPayload,{media:e,autoPlay:this.props.autoPlay,type:"click"}))}},{key:"handleContextMenu",value:function(e){this.props.incMediaStat(Cr({},this.props.statPayload,{media:e,autoPlay:this.props.autoPlay,type:"other"}));var t=this.props.contextMenuEvent||(this.props.isMobile?"mobile_copy_image_s":"desktop_right_button_s");wr({event:t})}},{key:"render",value:function(){return this.props.isLoaded?0===this.props.mediaList.length&&this.props.empty?this.props.empty:o.a.createElement(Er,Object.assign({},this.props,{onClick:this.handleMediaClick,onInfiniteLoad:this.handleInfiniteLoad,onContextMenu:this.handleContextMenu})):o.a.createElement("div",null,"loading...")}}])&&jr(n.prototype,r),a&&jr(n,a),t}();xr.defaultProps={isMobile:!1,save:!1,mediaList:null,empty:null,skip:0,limit:80,statPayload:{},contextMenuEvent:void 0,forceUpdate:!1};var Tr={fetchMediaListRequest:rt,saveMediaListFilter:it,incMediaStat:bt},Nr=Object(a.b)(function(e,t){var n=e.env.isMobile?1:"undefined"===typeof window?3:4,r=e.media.lists[t.id]||{},o=r.ids;if(o&&t.mainMedia){var a="media"===Or(t.id).section?0:o.indexOf(t.mainMedia);if(a>=0){var i=Math.min(20,o.length),c=o.slice(a+1);c.length<i&&(c=[].concat(_r(c),_r(o.slice(0,i-c.length-1)))),o=c}}return{mediaList:o,columnCount:n,isMobile:e.env.isMobile,isLoaded:!!r.isLoaded,isLoading:!!r.isLoading,realMediaListSize:r.ids?r.ids.length:0,mediaEntities:e.media.entities,gutter:e.env.isMobile?5:15,autoPlay:e.autoPlay}},Tr)(xr),Fr=Object(K.e)(function(e){var t=e.intl,n="https://gifer.com";return o.a.createElement("div",{className:"popular-media",itemScope:!0,itemType:"http://schema.org/ImageGallery"},o.a.createElement("link",{itemProp:"url",content:n}),o.a.createElement("link",{itemProp:"mainEntityOfPage",content:n}),o.a.createElement("meta",{itemProp:"keywords",content:t.formatMessage({id:"page_home.article_keywords"})}),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"d1"},o.a.createElement(ye,{element:"h1",title:o.a.createElement("span",{itemProp:"headline name"},t.formatMessage({id:"page_home.popular_gifs"}))}),"undefined"===typeof window&&o.a.createElement("div",{className:"sub-header"},o.a.createElement(K.b,{id:"page_home.popular_gifs_desc"}))),o.a.createElement(tt,null)),o.a.createElement(Nr,{save:!0,id:"popular"}))});function Mr(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ir=function(e){var t=e.id,n=e.values,r=e.intl,a=e.url,i=e.locales,c=e.page,s=void 0===c?1:c,u=e.meta,l=e.links,p=e.showHreflang,f=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lr(e,t,n[t])})}return e}({},n,{page:""});s&&s>1&&(f.page=r.formatMessage({id:"page_tag.meta_page"},{page:s}));var m=[{property:"og:title",content:r.formatMessage({id:"".concat(t,".meta_og_title")},f)},{property:"og:description",content:r.formatMessage({id:"".concat(t,".meta_og_description")},f)},{name:"description",content:r.formatMessage({id:"".concat(t,".meta_description")},f)},{name:"keywords",content:r.formatMessage({id:"".concat(t,".meta_keywords")},f)}].concat(Mr(u));m.push({name:"author",content:f.user||r.formatMessage({id:"meta.author"})});var d=[];return p&&1===s&&i.forEach(function(e){return d.push({rel:"alternate",hreflang:e,href:"".concat("https://gifer.com","/").concat(e).concat("/"===a?"":a)})}),o.a.createElement(Z.Helmet,{title:r.formatMessage({id:"".concat(t,".meta_title")},f),meta:m,link:[].concat(Mr(l),d)})};Ir.defaultProps={url:null,links:[],meta:[],showHreflang:!0};var Rr=Object(K.e)(Ir),Ur=Object(a.b)(function(e){return{locales:e.intl.locales}})(Rr),Br=(n(287),function(e){var t=e.slug,n=e.borderColor,r=e.cover,a=e.name,i=e.description,c=r.file.path,s=_t("https://i.gifer.com",c,"gif"),u=_t("https://i.gifer.com",c,"webp");return o.a.createElement(te.a,{to:"/events/".concat(t),className:"page-home-events-item"},o.a.createElement("div",{className:"page-home-events-item__image-container",style:{borderColor:n}},o.a.createElement("picture",null,o.a.createElement("source",{srcSet:u,type:"image/webp"}),o.a.createElement("source",{srcSet:s,type:"image/gif"}),o.a.createElement("img",{className:"page-event__photostatus-image",src:s,alt:""}))),o.a.createElement("div",{className:"page-home-events-item__info"},o.a.createElement("div",{className:"page-home-events-item__title"},a),o.a.createElement("div",{className:"page-home-events-item__description"},i)))});Br.defaultProps={slug:0,borderColor:"red",cover:{file:{}},name:void 0,description:void 0};var Hr=Br,zr=(n(289),function(e){var t=e.data,n=e.colors,r=e.slideWidth,a=e.slidesToShow;return o.a.createElement("div",{className:"page-home-events-carousel-mobile"},t.map(function(e,t){return o.a.createElement("div",{key:e.id,className:"page-home-events__item",style:{width:"".concat(100*r/a,"%")}},o.a.createElement(Hr,Object.assign({},e,{borderColor:n[t%n.length]})))}))});zr.defaultProps={data:[],colors:[],slideWidth:1,slidesToShow:1};var Wr=zr,qr=n(152);n(291);function Gr(e){return(Gr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kr(e,t){return!t||"object"!==Gr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Yr(e){return(Yr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Jr=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Kr(this,(e=Yr(t)).call.apply(e,[this].concat(o)))).state={currentSlide:0},n.handlePrevSlide=function(){n.setState(function(e){return{currentSlide:e.currentSlide-1}})},n.handleNextSlide=function(){n.setState(function(e){return{currentSlide:e.currentSlide+1}})},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.initialSlideWidth,a=t.initialSlideHeight,i=t.slidesToShow,c=t.slideWidth,s=t.colors;return o.a.createElement("div",{className:"page-home-events__carousel",style:{height:a}},o.a.createElement(qr.a,{key:"".concat(n.length,"_").concat(a),withoutControls:!0,disableKeyboardControls:!0,heightMode:"max",edgeEasing:"easeLinear",initialSlideHeight:a,initialSlideWidth:r,slideWidth:c,slideIndex:this.state.currentSlide,slidesToShow:i,afterSlide:function(t){return e.setState({currentSlide:t})}},n.map(function(e,t){return o.a.createElement("div",{key:e.id,className:"page-home-events__item",style:{height:a}},o.a.createElement(Hr,Object.assign({},e,{borderColor:s[t%s.length]})))})),this.state.currentSlide>0&&o.a.createElement("div",{className:"page-home-events__navigation page-home-events__navigation-prev",onClick:this.handlePrevSlide},o.a.createElement(de,{className:"page-home-events__navigation-icon",name:"icon-arrow-left-2"})),n.length>i&&this.state.currentSlide!==n.length-i&&o.a.createElement("div",{className:"page-home-events__navigation page-home-events__navigation-next",onClick:this.handleNextSlide},o.a.createElement(de,{className:"page-home-events__navigation-icon",name:"icon-arrow-right-2"})))}}])&&Vr(n.prototype,a),i&&Vr(n,i),t}();n(299);function Xr(e){return(Xr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function eo(e,t){return!t||"object"!==Xr(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function to(e){return(to=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function no(e,t){return(no=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ro=["#C65656","#C6A056","#56C65A","#56C6AB","#56B2C6","#5668C6","#BD56C6"],oo=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=$r((n=eo(this,to(t).call(this,e))).getSlideWidth(),2),o=r[0],a=r[1];return n.state={slideWidth:o,slidesToShow:a,initialSlideWidth:300,initialSlideHeight:200},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&no(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){var e=this.state,t=e.slidesToShow,n=e.slideWidth,r=this.containerEl.offsetWidth/t*n-20,o=.54*r;this.setState({initialSlideWidth:r,initialSlideHeight:o})}},{key:"getSlideWidth",value:function(){var e=1,t=.95;return"undefined"!==typeof window&&(window.innerWidth>=1366?(e=2,t=.85):window.innerWidth>=768?(e=2,t=.9):window.innerWidth>=480&&(t=.65)),[t,e]}},{key:"render",value:function(){var e=this,t=this.props.isMobile?Wr:Jr;return o.a.createElement("div",{className:"page-home-events",ref:function(t){return e.containerEl=t}},o.a.createElement("div",{className:"page-home-events__title"},o.a.createElement(K.b,{id:"page-home.title-events"})),o.a.createElement("div",{className:"page-home-events__carousel",style:{height:this.state.initialSlideHeight}},o.a.createElement(t,{data:this.props.data,colors:ro,initialSlideWidth:this.state.initialSlideWidth,initialSlideHeight:this.state.initialSlideHeight,slidesToShow:this.state.slidesToShow,slideWidth:this.state.slideWidth})))}}])&&Zr(n.prototype,r),a&&Zr(n,a),t}();oo.defaultProps={data:[],isMobile:!1};var ao=oo,io="FETCH_EVENTS_REQUEST",co="FETCH_EVENT_REQUEST",so=function(e){return{type:"FETCH_EVENTS_SUCCESS",data:e}},uo=function(e){return{type:"FETCH_EVENTS_FAILURE",error:e}},lo=function(e){return{type:"FETCH_EVENT_SUCCESS",data:e}},po=function(e){return{type:"FETCH_EVENT_FAILURE",error:e}};function fo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mo(e){return(mo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yo(e,t){return!t||"object"!==mo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function bo(e){return(bo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function vo(e,t){return(vo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var go=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yo(this,bo(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vo(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){!1===this.props.isLoaded&&this.props.fetchEventsRequest(this.props.locale)}},{key:"render",value:function(){return o.a.createElement(ao,this.props)}}])&&ho(n.prototype,a),i&&ho(n,i),t}(),Eo={fetchEventsRequest:function(){return{type:io}}},wo=Object(a.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fo(e,t,n[t])})}return e}({},e.events,{locale:e.intl.locale})},Eo)(go);n(301);function Oo(e){return(Oo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function So(e,t){return!t||"object"!==Oo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Co(e){return(Co=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ko(e,t){return(ko=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var jo=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=So(this,Co(t).call(this,e))).state={isHovered:!1,color:ge()({luminosity:"light"})},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ko(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this,t=this.state,n=t.color,r=t.isHovered,a=this.props.hint;return o.a.createElement(te.a,{onMouseEnter:function(){return e.setState({isHovered:!0})},onMouseLeave:function(){return e.setState({isHovered:!1})},onTouchStart:function(){return e.setState({isHovered:!0})},onTouchEnd:function(){return e.setState({isHovered:!1})},style:{color:r?"black":n,background:r?n:void 0},key:a,to:"/gifs/".concat(It(a))},a)}}])&&_o(n.prototype,a),i&&_o(n,i),t}(),Do=function(e){return o.a.createElement("div",{className:"search-hints ".concat(e.isMobile?"mobile":"desktop")},e.hints.map(function(e){return o.a.createElement(jo,{hint:e,key:e})}))};Do.defaultProps={isMobile:!1};var Po=Do,Ao="SEARCH_REQUEST",xo="FETCH_SEARCH_HINTS_REQUEST",To=function(e){return{type:"SEARCH_FAILURE",error:e}},No=function(e){return{type:"SEARCH_SUCCESS",matches:e}},Fo=function(e){return{error:e,type:"FETCH_SEARCH_HINTS_FAILURE"}},Mo=function(e){return{hints:e,type:"FETCH_SEARCH_HINTS_SUCCESS"}};function Lo(e){return(Lo="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ro(e,t){return!t||"object"!==Lo(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Uo(e){return(Uo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bo(e,t){return(Bo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ho=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ro(this,Uo(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bo(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.fetchSearchHints()}},{key:"render",value:function(){return o.a.createElement(Po,this.props)}}])&&Io(n.prototype,r),a&&Io(n,a),t}(),zo={fetchSearchHints:function(){return{type:xo}}},Wo=Object(a.b)(function(e){return{hints:e.search.searchHints,isMobile:e.env.isMobile}},zo)(Ho),qo=n(539),Go=(n(303),function(e){var t=e.slug,n=e.src,r=["smiles-panel-smile-item",e.isDimmed?"smiles-panel-smile-item_dimmed":"",e.isActive?"smiles-panel-smile-item_active":""];return o.a.createElement(qo.a,{className:r.join(" "),to:"/emoji/".concat(t)},o.a.createElement("img",{src:n,alt:"smile",className:"smiles-panel-smile-item__image"}))}),Vo=n(134),Ko=n.n(Vo),Yo=n(135),Qo=n.n(Yo),Jo=n(136),Xo=n.n(Jo),$o=n(137),Zo=n.n($o),ea=n(138),ta=n.n(ea),na=n(139),ra=n.n(na),oa=n(140),aa=n.n(oa),ia=n(141),ca=n.n(ia),sa={angry:Ko.a,crying:Qo.a,facepalm:Xo.a,lol:ta.a,shock:ca.a,love:ra.a,"fuck-you":Zo.a,"thumbs-up":aa.a},ua=(n(306),function(e){var t=e.locale,n=e.data,r=e.isDimmed,a=e.activeSlug;return o.a.createElement("div",{className:"smiles-panel"},n.filter(function(e){return e.locales.includes(t)}).map(function(e){return o.a.createElement("div",{className:"smiles-panel__item",key:e.id},o.a.createElement(Go,Object.assign({isActive:a===e.slug,isDimmed:r,src:sa[e.cover]},e)))}))});ua.defaultProps={data:[],isDimmed:!1,activeSlug:void 0,locale:"en"};var la=ua,pa="FETCH_SMILES_REQUEST",fa="FETCH_SMILE_REQUEST",ma=function(e){return{type:"FETCH_SMILES_SUCCESS",data:e}},da=function(e){return{type:"FETCH_SMILES_FAILURE",error:e}},ha=function(e){return{type:"FETCH_SMILE_SUCCESS",data:e}},ya=function(){return{type:"FETCH_SMILE_FAILURE"}};function ba(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function va(e){return(va="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ea(e,t){return!t||"object"!==va(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wa(e){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oa(e,t){return(Oa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ea(this,wa(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oa(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){!1===this.props.isLoaded&&this.props.fetchSmilesRequest(this.props.id)}},{key:"render",value:function(){return o.a.createElement(la,this.props)}}])&&ga(n.prototype,a),i&&ga(n,i),t}(),Sa={fetchSmilesRequest:function(){return{type:pa}}},Ca=Object(a.b)(function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ba(e,t,n[t])})}return e}({},e.smiles,{locale:e.intl.locale})},Sa)(_a),ka=n(63),ja=n.n(ka),Da=function(e){var t=e.intl,n=e.intlPrefix,r=e.media,o=e.server,a=e.url,i=e.seedKey,c=e.messageValues,s=r.author||"unknown",u=r.meta&&r.meta.date?new Date(r.meta.date).toISOString():r.createdAt,l=_t(o,r.file.path,"gif",{width:300}),p=new Date;p.setHours(0,0,0,0);var f=ja()(i),m=new Date(1408532845667+126230426515*f());return{"@context":"http://schema.org","@type":"Article",author:t.formatMessage({id:"".concat(n,"author")},c),creator:t.formatMessage({id:"".concat(n,"creator")},c),headline:t.formatMessage({id:"".concat(n,"headline")},c),name:t.formatMessage({id:"".concat(n,"name")},c),url:a,mainEntityOfPage:a,keywords:t.formatMessage({id:"".concat(n,"keywords")},c),datePublished:m,dateModified:p.toISOString(),publisher:{"@context":"http://schema.org","@type":"Organization",name:t.formatMessage({id:"".concat(n,"publisher")},c),logo:{"@type":"ImageObject",url:"https://gifer.b-cdn.net/icons/768x1004.png"}},image:{"@context":"http://schema.org","@type":"ImageObject",author:s,creator:s,name:t.formatMessage({id:"".concat(n,"image_name")},c),keywords:t.formatMessage({id:"".concat(n,"image_keywords")},c),description:t.formatMessage({id:"".concat(n,"image_description")},c),url:a,contentUrl:"".concat(o,"/").concat(r.id,".gif"),thumbnailUrl:l,width:r.width,height:r.height,dateCreated:u,uploadDate:u,representativeOfPage:!0},video:{"@context":"http://schema.org","@type":"VideoObject",author:s,creator:s,name:t.formatMessage({id:"".concat(n,"image_name")},c),keywords:t.formatMessage({id:"".concat(n,"image_keywords")},c),description:t.formatMessage({id:"".concat(n,"image_description")},c),url:a,contentUrl:"".concat(o,"/").concat(r.id,".mp4"),thumbnailUrl:l,width:r.width,height:r.height,dateCreated:u,uploadDate:u}}},Pa=n(142),Aa=n.n(Pa),xa=n(143),Ta=n.n(xa),Na=(n(316),function(e){var t,n,r=e.isMobile,a=e.firstMedia,i=e.server,c=e.intl,s=e.locale;return a&&"undefined"===typeof window&&(t={"@context":"http://schema.org","@type":"WebSite",url:"https://gifer.com/",potentialAction:{"@type":"SearchAction",target:"https://gifer.com/s/{search_term_string}","query-input":"required name=search_term_string"}},n=Da({intl:c,media:a,server:i,messageValues:{},seedKey:a.id,url:"https://gifer.com",intlPrefix:"page_home.article_"})),o.a.createElement("div",{className:"page-home ".concat(r?"mobile":"desktop")},o.a.createElement(Ur,{id:"page_home",url:"/",meta:[{property:"og:image",content:"ru"===s?Ta.a:Aa.a}]}),o.a.createElement(Z.Helmet,null,t&&o.a.createElement("script",{type:"application/ld+json"},JSON.stringify(t)),n&&o.a.createElement("script",{type:"application/ld+json"},JSON.stringify(n))),o.a.createElement(Wo,null),o.a.createElement("div",{className:"page-home__smiles"},o.a.createElement(Ca,null)),o.a.createElement("div",{className:"page-home__events"},o.a.createElement(wo,{isMobile:r})),o.a.createElement(Fr,{isMobile:r}))});Na.defaultProps={isMobile:!1,server:void 0,locale:"en"};var Fa=Object(K.e)(Na),Ma=Object(a.b)(function(e){var t=$()(e.media.lists.popular,"ids.0"),n=e.media.entities[t];return{locale:e.intl.locale,firstMedia:n,isMobile:e.env.isMobile,server:n&&n.file&&e.uploadServers.data[n.file.server]}})(Fa),La=(n(318),function(e){var t=Rt(e.id);return e.rel?t=o.a.createElement("h3",{rel:e.rel},t):e.itemProp&&(t=o.a.createElement("h3",{itemProp:e.itemProp},t)),o.a.createElement("div",{className:"page-media-tag"},o.a.createElement(te.a,{to:"/gifs/".concat(It(e.id))},t),"\xa0")});n(320);function Ia(e){return(Ia="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ua(e,t){return!t||"object"!==Ia(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ba(e){return(Ba=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ha(e,t){return(Ha=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var za=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Ua(this,Ba(t).call(this,e))).state={showMore:!1,extend:!1,maxWidth:void 0},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ha(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){this.props.isMobile||this.calcMaxWidth()}},{key:"calcMaxWidth",value:function(){for(var e=this.container.clientWidth-40,t=0,n=0;n<this.container.children.length;n+=1){var r=t+this.container.children[n].getBoundingClientRect().width;if(r>e){this.setState({showMore:!0,maxWidth:t});break}t=r}}},{key:"render",value:function(){var e=this,t=["page-media-tags",[this.state.showMore?"page-media-tags_show-more":""],[this.state.extend?"page-media-tags_extend":""]].join(" ");return o.a.createElement("div",{className:t,style:this.props.style},o.a.createElement("div",{itemProp:"keywords",className:"tags",ref:function(t){return e.container=t},style:{maxWidth:this.state.maxWidth?"".concat(this.state.maxWidth,"px"):void 0}},this.props.tags.map(function(e){var t=e.tag;return o.a.createElement(La,{id:t.id,key:t.id,rel:"tag"})})),this.props.showMore&&this.state.showMore&&o.a.createElement(le,{className:"page-media-tags__show-more-button",size:"small",shape:"circle",type:"transparent",onClick:function(){return e.setState({showMore:!1,extend:!0,maxWidth:void 0})},icon:o.a.createElement(de,{name:"icon-point",size:"27px"})}))}}])&&Ra(n.prototype,a),i&&Ra(n,i),t}();za.defaultProps={tags:[],style:{},isMobile:!1,showMore:!0};var Wa=za,qa=Object(a.b)(function(e,t){return{tags:e.media.entities[t.id].tags}})(Wa),Ga=(n(322),function(e){return e.name?o.a.createElement("div",{className:"page-media-user",style:e.style},o.a.createElement(K.b,{id:"page_media.author"}),":\xa0",o.a.createElement(te.a,{to:"/user/".concat(e.id)},e.name)):null});Ga.defaultProps={id:"",name:"",style:{}};var Va=Ga;function Ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ya=Object(a.b)(function(e,t){var n=e.users.entities[t.id]||{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ka(e,t,n[t])})}return e}({},n,{name:n.username,href:"/user/".concat(n.id)})})(Va);n(324);function Qa(e){return(Qa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ja(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xa(e,t){return!t||"object"!==Qa(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Za(e,t){return(Za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ei=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xa(this,$a(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Za(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){void 0===this.props.filter.section?wr({event:"view_related_gifs"}):["tag","search"].includes(this.props.filter.section)?wr({event:"view_tag_gifs"}):"popular"===this.props.filter.section?wr({event:"view_popular_gifs"}):"event"===this.props.filter.section?wr({event:"view_events_gifs"}):"smile"===this.props.filter.section&&wr({event:"view_smiles_gifs"})}},{key:"render",value:function(){return this.props.sourceTag||this.props.showAutoPlay?o.a.createElement("div",{style:this.props.style,className:"page-media-other-controls"},o.a.createElement("div",null,"user"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/user/".concat(It(this.props.filter.user)).concat("uploaded"===this.props.filter.type?"":"/".concat(this.props.filter.type)),className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},o.a.createElement(K.b,{id:"page_media.other_gif_user",values:{user:this.props.name}}))),"tag"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/gifs/".concat(It(this.props.sourceTag)),className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},Rt(this.props.sourceTag))),"search"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/s/".concat(It(this.props.sourceTag)),className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},Rt(this.props.sourceTag))),"popular"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/",className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},o.a.createElement(K.b,{id:"page_media.other_gif_popular"}))),"event"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/events/".concat(this.props.filter.slug),className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},this.props.name)),"smile"===this.props.filter.section&&o.a.createElement(te.a,{push:!0,to:"/emoji/".concat(this.props.filter.slug),className:"other-gif-title"},o.a.createElement(de,{size:"27px",name:"icon-arrow-left-2"}),o.a.createElement("span",{className:"page-media-other-controls__soource-tag"},o.a.createElement("img",{src:this.props.image,alt:"return to the smile set",style:{width:35,marginRight:10}}),o.a.createElement(K.b,{id:"common.back"}))),void 0===this.props.filter.section&&o.a.createElement("h2",{className:"other-gif-title"},o.a.createElement(K.b,{id:"page_media.other_gif"}))),this.props.showAutoPlay&&o.a.createElement(tt,null)):null}}])&&Ja(n.prototype,a),i&&Ja(n,i),t}();ei.defaultProps={section:void 0,name:void 0,image:void 0,sourceTag:void 0,filter:{}};var ti=ei,ni=Object(a.b)(function(e){var t,n,r=Or(e.media.lastFilter);"user"===r.section&&(t=(e.users.fullEntities[r.user]||{}).username);"event"===r.section&&(t=e.events.data.find(function(e){return e.slug===r.slug}).name);if("smile"===r.section){var o=e.smiles.data.find(function(e){return e.slug===r.slug});n=sa[o.cover]}return{filter:r,name:t,image:n}})(ti);function ri(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var oi=function(e){var t=e.className,n=e.icon,r=e.title,a=ri(e,["className","icon","title"]),i=a.href?"a":"div";return o.a.createElement(i,Object.assign({className:"action-button ".concat(t)},a),n,o.a.createElement("span",{className:"text"},r))};oi.defaultProps={icon:null,href:null,className:"",title:""};var ai=oi,ii=(n(326),function(e){var t=e.handleClickClose;return o.a.createElement("div",{className:"popup-review-success"},o.a.createElement("h1",{className:"popup-review-success__title"},o.a.createElement(K.b,{id:"page-media.popup-review__success-title"})),o.a.createElement("span",{className:"popup-review-success__description"},o.a.createElement(K.b,{id:"page-media.popup-review__success-description"})),o.a.createElement("div",{className:"popup-review-success__action"},o.a.createElement(le,{type:"gradient",onClick:t,block:!0},o.a.createElement(K.b,{id:"page-media.popup-review__success-done"}))))});ii.defaultProps={handleClickClose:void 0};var ci=ii,si=n(5),ui=n.n(si),li=n(14);function pi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){fi(e,t,n[t])})}return e}function fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mi(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}var di="https://gifer.com";function hi(){var e;return e=ui.a.mark(function e(t){var n,r,o,a,i,c,s=arguments;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},r="".concat(di,"/").concat(t),o=pi({credentials:"include",headers:{"Content-Type":"application/json","Accept-Language":n.locale||"*"}},n),n.data&&(o.body=JSON.stringify(n.data)),e.next=6,fetch(r,o);case 6:if(204!==(a=e.sent).status){e.next=11;break}e.t0={},e.next=14;break;case 11:return e.next=13,a.json();case 13:e.t0=e.sent;case 14:if(i=e.t0,!1!==a.ok){e.next=17;break}throw i.message;case 17:return n.normalize&&(i=Object(li.a)(i,n.normalize)),(c=a.headers.get("X-Count"))&&(i.count=Number(c)),e.abrupt("return",i);case 21:case"end":return e.stop()}},e,this)}),(hi=function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){mi(a,r,o,i,c,"next",e)}function c(e){mi(a,r,o,i,c,"throw",e)}i(void 0)})}).apply(this,arguments)}var yi=function(e){return hi.apply(this,arguments)};n(330);function bi(e){return(bi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gi(e,t){return!t||"object"!==bi(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ei(e){return(Ei=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Oi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=gi(this,Ei(t).call(this,e))).handleClickSend=function(e){if(n.formEl.current.checkValidity()){e.preventDefault(),n.setState({isSent:!0});var t=n.formEl.current.elements,r=t.email,o=t.text;yi("api/feedbacks",{method:"POST",body:JSON.stringify({email:r.value,text:o.value,media:n.props.mediaId})})}},n.formEl=o.a.createRef(),n.state={isSent:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(t,o.a.Component),n=t,(r=[{key:"renderForm",value:function(){return o.a.createElement("form",{className:"page-media-popup-review",onSubmit:this.handleClickSend,ref:this.formEl},o.a.createElement("div",{className:"page-media-popup-review__row page-media-popup-review__row_2x"},o.a.createElement("h1",{className:"page-media-popup-review__h1"},o.a.createElement(K.b,{id:"page-media.popup-review__title"}))),o.a.createElement("div",{className:"page-media-popup-review__row"},o.a.createElement("input",{name:"email",type:"email",className:"page-media-popup-review__input",placeholder:this.context.intl.formatMessage({id:"page-media.popup-review__email"})})),o.a.createElement("div",{className:"page-media-popup-review__row page-media-popup-review__row_2x"},o.a.createElement("textarea",{required:!0,className:"page-media-popup-review__textarea",name:"text",placeholder:this.context.intl.formatMessage({id:"page-media.popup-review__textarea"})})),o.a.createElement("div",{className:"page-media-popup-review__row"},o.a.createElement(le,{type:"gradient",onClick:this.handleClickSend,block:!0},o.a.createElement(K.b,{id:"page-media.popup-review__send"}))))}},{key:"renderSuccess",value:function(){return o.a.createElement(ci,{handleClickClose:this.props.closeModal})}},{key:"render",value:function(){return o.a.createElement(Qn,{closeModal:this.props.closeModal},this.state.isSent?this.renderSuccess():this.renderForm())}}])&&vi(n.prototype,r),a&&vi(n,a),t}();Oi.contextTypes={intl:Ot.a.objectOf(Ot.a.any)},Oi.defaultProps={closeModal:function(){}};var _i=Oi,Si=(n(332),function(e){var t=e.handleClickClose;return o.a.createElement("div",{className:"popup-blame-success"},o.a.createElement("h1",{className:"popup-blame-success__title"},o.a.createElement(K.b,{id:"page-media.popup-blame__success-title"})),o.a.createElement("span",{className:"popup-blame-success__description"},o.a.createElement(K.b,{id:"page-media.popup-blame__success-description"})),o.a.createElement("div",{className:"popup-blame-success__action"},o.a.createElement(le,{type:"gradient",onClick:t,block:!0},o.a.createElement(K.b,{id:"page-media.popup-blame__success-done"}))))});Si.defaultProps={handleClickClose:void 0};var Ci=Si;n(334);function ki(e){return(ki="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ji(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Di(e,t){return!t||"object"!==ki(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pi(e){return(Pi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ai(e,t){return(Ai=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xi=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Di(this,Pi(t).call(this,e))).handleClickSend=function(e){if(n.formEl.current.checkValidity()){e.preventDefault(),n.setState({isSent:!0});var t=n.formEl.current.elements,r=t.name,o=t.phone,a=t.address,i=t.email,c=t.text;fetch("/abuse",{method:"POST",body:JSON.stringify({name:r.value,phone:o.value,address:a.value,email:i.value,text:c.value,mediaId:n.props.mediaId})})}},n.formEl=o.a.createRef(),n.state={isSent:!1},n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ai(e,t)}(t,o.a.Component),n=t,(r=[{key:"renderForm",value:function(){return o.a.createElement("form",{className:"page-media-popup-blame",onSubmit:this.handleClickSend,ref:this.formEl},o.a.createElement("h1",{className:"page-media-popup-blame__h1"},o.a.createElement(K.b,{id:"page-media.popup-blame__title"})),o.a.createElement("div",{className:"page-media-popup-blame__row"},o.a.createElement("input",{required:!0,name:"name",type:"text",className:"page-media-popup-blame__input",placeholder:this.context.intl.formatMessage({id:"page-media.popup-blame__name"})})),o.a.createElement("div",{className:"page-media-popup-blame__row"},o.a.createElement("input",{required:!0,name:"phone",type:"phone",className:"page-media-popup-blame__input",placeholder:this.context.intl.formatMessage({id:"page-media.popup-blame__phone"})})),o.a.createElement("div",{className:"page-media-popup-blame__row"},o.a.createElement("input",{required:!0,name:"address",type:"text",className:"page-media-popup-blame__input",placeholder:this.context.intl.formatMessage({id:"page-media.popup-blame__address"})})),o.a.createElement("div",{className:"page-media-popup-blame__row"},o.a.createElement("input",{required:!0,name:"email",type:"email",className:"page-media-popup-blame__input",placeholder:this.context.intl.formatMessage({id:"page-media.popup-blame__email"})})),o.a.createElement("div",{className:"page-media-popup-blame__row page-media-popup-blame__row_2x"},o.a.createElement("textarea",{required:!0,name:"text",className:"page-media-popup-blame__textarea",placeholder:this.context.intl.formatMessage({id:"page-media.popup-blame__message"})})),o.a.createElement("div",{className:"page-media-popup-blame__row page-media-popup-blame__row_2x"},o.a.createElement("div",{className:"page-media-popup-blame__checkbox-container"},o.a.createElement("input",{className:"page-media-popup-blame__checkbox",type:"checkbox",name:"foo",value:"baz",id:"confirmation",required:!0}),o.a.createElement("label",{htmlFor:"confirmation"}," ",o.a.createElement(K.b,{id:"page-media.popup-blame__confirmation"})))),o.a.createElement("div",{className:"page-media-popup-blame__row"},o.a.createElement(le,{type:"gradient",onClick:this.handleClickSend,block:!0},o.a.createElement(K.b,{id:"page-media.popup-blame__send"}))))}},{key:"renderSuccess",value:function(){return o.a.createElement(Ci,{handleClickClose:this.props.closeModal})}},{key:"render",value:function(){return o.a.createElement(Qn,{closeModal:this.props.closeModal},this.state.isSent?this.renderSuccess():this.renderForm())}}])&&ji(n.prototype,r),a&&ji(n,a),t}();xi.contextTypes={intl:Ot.a.objectOf(Ot.a.any)},xi.defaultProps={closeModal:function(){}};var Ti=xi;n(336);function Ni(e){return(Ni="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mi(e,t){return!t||"object"!==Ni(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Li(e){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ii(e,t){return(Ii=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ri=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Mi(this,Li(t).call(this,e))).state={showTooltip:!1,showReview:!1,showBlame:!1,translate:0},n.handleOpen=function(){n.setState({showTooltip:!0,translate:n.childrenEl.current.clientWidth/2}),n.props.onOpen()},n.handleClose=function(){n.setState({showTooltip:!1,showReview:!1,showBlame:!1}),n.props.onClose()},n.childrenEl=o.a.createRef(),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ii(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"page-media-tooltip-blame",ref:this.childrenEl},o.a.createElement("div",{className:"page-media-tooltip-blame__children",onClick:this.state.showTooltip?this.handleClose:this.handleOpen},this.props.children),this.state.showTooltip&&o.a.createElement("div",{className:"page-media-tooltip-blame__tooltip",style:{transform:"translateX(".concat(this.state.translate,"px)")}},o.a.createElement(Xe,{closeRequest:this.handleClose},o.a.createElement(ze,null,this.props.showDownload&&o.a.createElement(We,{href:this.props.downloadURL,target:"_blank",onClick:function(){return e.setState({showTooltip:!1})},icon:o.a.createElement(de,{name:"icon-download",color:"#000000",size:27})},o.a.createElement(K.b,{id:"page_media.download_gif"})),o.a.createElement(We,{onClick:function(){return e.setState({showReview:!0,showTooltip:!1})},icon:o.a.createElement(de,{name:"icon-write-us",color:"#1EC2BA",size:27})},o.a.createElement(K.b,{id:"page-media-blame.tooltip-leave-a-review"})),o.a.createElement(We,{onClick:function(){return e.setState({showBlame:!0,showTooltip:!1})},icon:o.a.createElement(de,{name:"icon-Wrong",color:"#C65656",size:27})},o.a.createElement(K.b,{id:"page-media-blame.tooltip-blame"})),!0===this.props.isMobile&&o.a.createElement(We,{onClick:this.props.onClickEmbed,icon:o.a.createElement(de,{name:"icon-embed",size:27})},o.a.createElement(K.b,{id:"page_media.embed"}))))),this.state.showReview&&o.a.createElement(_i,{closeModal:this.handleClose,mediaId:this.props.mediaId}),this.state.showBlame&&o.a.createElement(Ti,{closeModal:this.handleClose,mediaId:this.props.mediaId}))}}])&&Fi(n.prototype,a),i&&Fi(n,i),t}();Ri.defaultProps={isMobile:!1,onOpen:function(){},onClose:function(){},onClickEmbed:function(){},showDownload:!1,downloadURL:void 0};var Ui=Ri;n(338);function Bi(e){return(Bi="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Wi(e,t){return(Wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Gi=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=zi(t).call(this,e))||"object"!==Bi(o)&&"function"!==typeof o?qi(r):o).state={URLCopied:!1},n.handleCopyUrl=n.handleCopyUrl.bind(qi(qi(n))),n.handleLikeClick=n.handleLikeClick.bind(qi(qi(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wi(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&this.setState({URLCopied:!1})}},{key:"componentWillUpdate",value:function(e,t){t.URLCopied&&t.URLCopied!==this.state.URLCopied&&this.props.showAlert("alert.url_copied")}},{key:"handleLikeClick",value:function(){this.props.isAuth?this.props.likeMedia(this.props.id,!this.props.liked):this.props.openAuthPopup(),this.props.liked||this.props.onLike()}},{key:"handleCopyUrl",value:function(){var e=this;this.setState({URLCopied:!0}),this.props.onCopyUrl(),setTimeout(function(){e.setState({URLCopied:!1})},2e3)}},{key:"render",value:function(){var e=["page-media-controls",this.props.isMobile?"mobile":"desktop"];return o.a.createElement("div",{className:e.join(" ")},o.a.createElement("div",{className:"buttons"},o.a.createElement("div",{className:"page-media-controls__button"},o.a.createElement(ai,{className:"like-button ".concat(this.props.liked?"active":""),onClick:this.handleLikeClick,icon:o.a.createElement(de,{name:"icon-like",color:this.props.liked?"#ef4a4a":void 0,size:24}),title:this.props.isMobile?void 0:o.a.createElement(K.b,{id:this.props.liked?"page_media.already_in_fav":"page_media.add_to_fav"})})),!this.props.isMobile&&o.a.createElement("div",{className:"page-media-controls__button"},o.a.createElement(ai,{download:!0,onClick:this.props.onClickDownload,href:this.props.downloadURL,rel:"noopener noreferrer",target:"_blank",className:"download",icon:o.a.createElement(de,{name:"icon-download",size:24}),title:o.a.createElement(K.b,{id:"page_media.download_gif"})})),o.a.createElement(Et.a,{text:this.props.mediaURL},o.a.createElement("div",{className:"page-media-controls__button"},o.a.createElement(ai,{className:"copy-url ".concat(this.state.URLCopied?"active":""),title:this.props.isMobile?void 0:o.a.createElement(K.b,{id:this.state.URLCopied?"page_media.copy_url_done":"page_media.copy_url"}),onClick:this.handleCopyUrl,icon:o.a.createElement(de,{name:"icon-copy-url",size:24})}))),!1===this.props.isMobile&&o.a.createElement("div",{className:"page-media-controls__button"},o.a.createElement(ai,{onClick:this.props.onClickEmbed,icon:o.a.createElement(de,{name:"icon-embed",size:24}),title:o.a.createElement(K.b,{id:"page_media.embed"})})),!0===this.props.isMobile&&o.a.createElement("div",{className:"page-media-controls__button"},o.a.createElement(Ui,{isMobile:this.props.isMobile,onOpen:this.props.onBlameTooltipOpen,onClose:this.props.onBlameTooltipClose,showDownload:this.props.isMobile,downloadURL:this.props.downloadURL,mediaId:this.props.id,onClickEmbed:this.props.onClickEmbed},o.a.createElement(ai,{icon:o.a.createElement(de,{name:"icon-point",size:24})})))))}}])&&Hi(n.prototype,r),a&&Hi(n,a),t}();Gi.defaultProps={liked:!1,isMobile:!1,downloadURL:void 0,mediaURL:void 0,onBlameTooltipOpen:void 0,onBlameTooltipClose:void 0,onClickEmbed:void 0};var Vi=Gi;n(340);function Ki(e){return(Ki="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qi(e,t){return!t||"object"!==Ki(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ji(e){return(Ji=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xi(e,t){return(Xi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var $i=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Qi(this,(e=Ji(t)).call.apply(e,[this].concat(o)))).state={copiedFixed:!1,copiedAdaptive:!1},n.handleClickCopyFixed=function(){n.setState({copiedFixed:!0,copiedAdaptive:!1}),setTimeout(function(){return n.setState({copiedFixed:!1})},1e3)},n.handleClickCopyAdaptive=function(){n.setState({copiedAdaptive:!0,copiedFixed:!1}),setTimeout(function(){return n.setState({copiedAdaptive:!1})},1e3)},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Xi(e,t)}(t,r["Component"]),n=t,(a=[{key:"handleClickInput",value:function(e){e.target.select()}},{key:"render",value:function(){var e=this.context.intl,t=this.props,n=t.id,r=t.width,a=t.height,i="".concat("https://gifer.com","/embed/").concat(n),c=(480*a/r).toFixed(3),s="".concat((a/r*100).toFixed(3),"%"),u='<iframe src="'.concat(i,'" width=').concat(480," height=").concat(c,' frameBorder="0" allowFullScreen></iframe><p><a href="').concat("https://gifer.com",'">').concat(e.formatMessage({id:"embed-modal.via"}),"</a></p>"),l='<div style="padding-top:'.concat(s,';position:relative;"><iframe src="').concat(i,'" width="100%" height="100%" style=\'position:absolute;top:0;left:0;\' frameBorder="0" allowFullScreen></iframe></div><p><a href="').concat("https://gifer.com",'">').concat(e.formatMessage({id:"embed-modal.via"}),"</a></p>");return o.a.createElement("div",{className:"embed-modal-form"},o.a.createElement("p",{className:"embed-modal-form__input-label"},o.a.createElement(K.b,{id:"embed-modal.fixed-label"})),o.a.createElement("div",{className:"embed-modal-form__input-container"},o.a.createElement("input",{className:"embed-modal-form__input",value:u,onClick:this.handleClickInput,spellCheck:!1}),o.a.createElement(Et.a,{text:u},o.a.createElement("div",null,o.a.createElement(le,{className:"embed-modal-form__copy_mobile",type:"gradient",size:"small",onClick:this.handleClickCopyFixed,icon:this.state.copiedFixed?o.a.createElement(de,{name:"icon-complete",size:24}):o.a.createElement(de,{name:"icon-copy"})}),o.a.createElement(le,{type:"gradient",size:"s50",onClick:this.handleClickCopyFixed,className:"embed-modal-form__copy_desktop"},this.state.copiedFixed?o.a.createElement(K.b,{id:"embed-modal.copy-done"}):o.a.createElement(K.b,{id:"embed-modal.copy"}))))),o.a.createElement("p",{className:"embed-modal-form__input-label"},o.a.createElement(K.b,{id:"embed-modal.adaptive-label"})),o.a.createElement("div",{className:"embed-modal-form__input-container"},o.a.createElement("input",{className:"embed-modal-form__input",value:l,onClick:this.handleClickInput,spellCheck:!1}),o.a.createElement(Et.a,{text:l},o.a.createElement("div",null,o.a.createElement(le,{className:"embed-modal-form__copy_mobile",type:"gradient",size:"small",onClick:this.handleClickCopyAdaptive,icon:this.state.copiedAdaptive?o.a.createElement(de,{name:"icon-complete",size:24}):o.a.createElement(de,{name:"icon-copy"})}),o.a.createElement(le,{type:"gradient",size:"s50",onClick:this.handleClickCopyAdaptive,className:"embed-modal-form__copy_desktop"},this.state.copiedAdaptive?o.a.createElement(K.b,{id:"embed-modal.copy-done"}):o.a.createElement(K.b,{id:"embed-modal.copy"}))))))}}])&&Yi(n.prototype,a),i&&Yi(n,i),t}();$i.contextTypes={intl:Ot.a.objectOf(Ot.a.any)},$i.defaultProps={width:200,height:0};var Zi=$i;function ec(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tc=Object(a.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ec(e,t,n[t])})}return e}({},e.media.entities[t.id])})(Zi),nc=(n(342),function(e){var t=e.id;return o.a.createElement(Xn,{className:"embed-modal"},o.a.createElement("div",{className:"embed-modal__header"},o.a.createElement(K.b,{id:"embed-modal.greeting"})),o.a.createElement("div",{className:"embed-modal__description"},o.a.createElement(K.b,{id:"embed-modal.description"})),o.a.createElement(tc,{id:t}))}),rc=Object(a.b)(function(e,t){var n=e.media.entities[t.id],r=n&&n.file&&e.uploadServers.data[n.file.server];return{mediaURL:r?"".concat(r,"/").concat(t.id,".gif"):"",downloadURL:r?"".concat(r,"/embedded/download/").concat(t.id,".gif"):"",isMobile:e.env.isMobile,isAuth:!!e.auth.myId,liked:e.media.entities[t.id].liked}},function(e,t){return{likeMedia:function(){return e(Yt.apply(void 0,arguments))},openAuthPopup:function(){return e(Xt(or))},showAlert:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e(ar(n))},onClickEmbed:function(){return e(Xt(nc,{id:t.id}))}}})(Vi),oc=n(144),ac=n.n(oc);n(393);function ic(e){return(ic="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cc(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uc(e,t){return!t||"object"!==ic(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function pc(e,t){return(pc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var fc=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=uc(this,(e=lc(t)).call.apply(e,[this].concat(o)))).state={buttons:n.getButtons()},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pc(e,t)}(t,r["Component"]),n=t,(a=[{key:"getButtons",value:function(){var e=[{key:"facebook",icon:"icon-facebook",color:"#3b5998"},{key:"twitter",icon:"icon-twitter",color:"#00ccff"},{key:"tumblr",icon:"icon-tumblr",color:"#395976"},{key:"pinterest",icon:"icon-pinterest",color:"#bd081c"},{key:"reddit",icon:"icon-reddit",color:"#FF4500"},{key:"viber",icon:"icon-viber",color:"#834995"},{key:"telegram",icon:"icon-telegram",color:"#009cd3"},{key:"whatsapp",icon:"icon-whatsup",color:"#00c450"},{key:"google",icon:"icon-google",color:"#dc3534"}];return"ru"===this.props.locale&&(e.push({key:"ok",icon:"icon-odno",color:"#f7931f"}),e.push({key:"vk",icon:"icon-vkontakte",color:"#2c4762"})),this.props.isMobile&&e.push({key:"fb",icon:"icon-mesenger",color:"#008bff"},{key:"sms",icon:"icon-sms",color:"#17c077"}),e=this.sortButtons(e)}},{key:"setButtonOrder",value:function(e){var t=JSON.parse(et.getItem("social-buttons-order"))||[],n=t.indexOf(e);n>-1&&(t=t.slice(n,1)),t=[e].concat(cc(t)),et.setItem("social-buttons-order",JSON.stringify(t))}},{key:"sortButtons",value:function(e){var t,n=JSON.parse(et.getItem("social-buttons-order"))||[];return t=this.props.isMobile?"en"===this.props.locale?["sms","facebook","twitter","pinterest","reddit","tumblr","viber","telegram","whatsapp","fb","google"]:["sms","vk","facebook","twitter","pinterest","ok","reddit","tumblr","viber","telegram","whatsapp","fb","google"]:"en"===this.props.locale?["facebook","twitter","tumblr","pinterest","reddit","whatsapp","viber","telegram","google"]:["vk","facebook","twitter","tumblr","ok","pinterest","reddit","viber","telegram","whatsapp","google"],ac()(e,function(r){var o=r.key,a=n.indexOf(o),i=t.indexOf(o);return a>-1?a:i+e.length})}},{key:"handleClick",value:function(e){var t,n=encodeURIComponent(this.props.pageUrl),r=encodeURIComponent(this.props.mediaUrl);switch(e){case"facebook":t="http://www.facebook.com/sharer/sharer.php?u=".concat(n);break;case"twitter":t="https://twitter.com/intent/tweet?url=".concat(n);break;case"reddit":t="http://www.reddit.com/submit?url=".concat(n);break;case"vk":t="https://vk.com/share.php?url=".concat(n);break;case"google":t="https://plus.google.com/share?url=".concat(n);break;case"pinterest":t="http://www.pinterest.com/pin/create/link/?url=".concat(n,"&media=").concat(this.props.gifSrc,"&description=").concat(this.props.pinterestDescription);break;case"tumblr":t="https://www.tumblr.com/widgets/share/tool/preview?canonicalUrl=".concat(n,"&content=").concat(this.props.gifSrc,"&caption=").concat(this.props.tumblrCaption,"&posttype=photo&tags=").concat(this.props.tumblrTags);break;case"whatsapp":t=this.props.isMobile?"whatsapp://send?text=".concat(n):"https://api.whatsapp.com/send?text=".concat(n);break;case"viber":t="viber://forward?text=".concat(r||n);break;case"telegram":t=this.props.isMobile?"tg://msg?text=".concat(n):"https://telegram.me/share/url?url=".concat(n);break;case"fb":t="fb-messenger://share?link=".concat(n);break;case"sms":t="sms:?&body=".concat(n);break;case"ok":t="https://connect.ok.ru/offer?url=".concat(n);break;default:throw new Error("Unknown social <".concat(e,">"))}window.open(t,"share","width=650, height=490"),this.props.onClick(e),this.setButtonOrder(e)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"share-buttons ".concat(this.props.isMobile?"share-buttons_mobile":"")},o.a.createElement("div",{className:"share-buttons__list"},this.state.buttons.map(function(t){var n=t.icon,r=t.key,a=t.color;return o.a.createElement("div",{className:"share-buttons__list-item",key:r},o.a.createElement(le,{animateIcon:!e.props.isMobile,className:r,color:a,size:"s50",onClick:function(){return e.handleClick(r)},icon:o.a.createElement(de,{name:n,size:"27px"})}))})))}}])&&sc(n.prototype,a),i&&sc(n,i),t}();fc.defaultProps={pageUrl:"",mediaUrl:"",gifSrc:"",pinterestDescription:"",tumblrCaption:"",tumblrTags:"",locale:"en",isMobile:!1,onClick:function(){}};var mc=fc;n(395);function dc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hc=function(e,t){var n="".concat("https://gifer.com","/").concat(e.locale,"/").concat(e.id),r="https://i.gifer.com/".concat(e.id,".gif"),a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){dc(e,t,n[t])})}return e}({},e.textValues,{url:n});return o.a.createElement("div",{className:"page-media-social-block ".concat(e.isMobile?"page-media-social-block_mobile":""," ")},o.a.createElement(mc,Object.assign({pageUrl:n,mediaUrl:r,pinterestDescription:t.intl.formatMessage({id:"page_media.share_pinterest_caption"},a),tumblrCaption:encodeURIComponent(t.intl.formatMessage({id:"page_media.share_tumblr_caption"},a)),tumblrTags:t.intl.formatMessage({id:"page_media.share_tags"},a)},e)))};hc.contextTypes={intl:Ot.a.objectOf(Ot.a.any)},hc.defaultProps={id:"",isMobile:!1};var yc=hc,bc=n(145),vc=n.n(bc);n(398);function gc(e){return(gc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ec(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oc(e,t){return(Oc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Sc=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=wc(t).call(this,e))||"object"!==gc(o)&&"function"!==typeof o?_c(r):o).swipingLeft=n.swiping.bind(_c(_c(n)),"right"),n.swipingRight=n.swiping.bind(_c(_c(n)),"left"),n.swipedLeft=n.swiped.bind(_c(_c(n)),"right"),n.swipedRight=n.swiped.bind(_c(_c(n)),"left"),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oc(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidUpdate",value:function(e){this.props.isMobile&&e.id!==this.props.id&&(this.el_left.style.left="-".concat(60,"px"),this.el_right.style.right="-".concat(60,"px"))}},{key:"swiping",value:function(e,t,n){this["el_".concat(e)].style[e]="".concat(Math.min(0,-60+n),"px")}},{key:"swiped",value:function(e,t,n){if(Math.abs(n)<60)this["el_".concat(e)].style[e]="-".concat(60,"px");else switch(e){case"right":this.props.gotoNextPost(),wr({event:"page_media_swipe_next"});break;case"left":this.props.gotoPrevPost(),wr({event:"page_media_swipe_prev"});break;default:throw new Error("unknown prop")}}},{key:"render",value:function(){var e=this,t=o.a.createElement("div",{ref:function(t){return e.el=t},className:"page-media-swipe ".concat(this.props.isMobile?"mobile":"desktop")},o.a.createElement("div",{className:"container"},this.props.showPrevButton&&o.a.createElement("div",{ref:function(t){return e.el_left=t},className:"swipe-left",onClick:this.props.gotoPrevPost},o.a.createElement(de,{name:"icon-arrow-left-2",color:"#fff",size:44})),this.props.children,this.props.showNextButton&&o.a.createElement("div",{ref:function(t){return e.el_right=t},className:"swipe-right",onClick:this.props.gotoNextPost},o.a.createElement(de,{name:"icon-arrow-right-2",color:"#fff",size:44}))));return this.props.isMobile?o.a.createElement(vc.a,{onSwipingLeft:this.props.showNextButton?this.swipingLeft:void 0,onSwipingRight:this.props.showPrevButton?this.swipingRight:void 0,onSwipedLeft:this.props.showNextButton?this.swipedLeft:void 0,onSwipedRight:this.props.showPrevButton?this.swipedRight:void 0},t):t}}])&&Ec(n.prototype,r),a&&Ec(n,a),t}();Sc.defaultProps={showPrevButton:!1,showNextButton:!1};var Cc=Sc;n(400);function kc(e){return(kc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dc(e,t){return!t||"object"!==kc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pc(e){return(Pc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ac(e,t){return(Ac=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var xc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Dc(this,Pc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ac(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){var e=this.props.animationDelay+this.props.fadeMs;setTimeout(this.props.onAnimationEnd,e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"page-media-action-animation"},o.a.createElement("div",{className:"page-media-action-animation__inner",style:{animationDelay:"".concat(this.props.animationDelay,"ms"),animationDuration:"".concat(this.props.fadeMs,"ms")}},o.a.createElement("div",{className:"page-media-action-animation__cover"}),o.a.createElement("div",{className:"page-media-action-animation__icon"},this.props.icon),o.a.createElement("div",{className:"page-media-action-animation__text"},this.props.text)))}}])&&jc(n.prototype,a),i&&jc(n,i),t}();xc.defaultProps={text:"text",icon:"icon",animationDelay:1e3,fadeMs:200,onAnimationEnd:function(){}};var Tc=xc;n(402);function Nc(e){return(Nc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mc(e,t){return!t||"object"!==Nc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ic(e,t){return(Ic=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Rc=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=Mc(this,Lc(t).call(this,e))).state={animationAction:void 0,showMasonry:"undefined"===typeof window,blameTooltipDisplay:!1},"undefined"!==typeof window&&(n.maxHeight=window.innerHeight-150),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ic(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"page-media mobile"},"undefined"===typeof window&&o.a.createElement("h1",null,o.a.createElement(K.b,{id:"".concat(this.props.textKey,".h1"),values:this.props.textValues})),o.a.createElement("div",{className:"page-media__swipe"},this.state.animationAction&&o.a.createElement("div",{className:"page-media__image-animation"},o.a.createElement(Tc,Object.assign({},this.state.animationAction,{onAnimationEnd:function(){return e.setState({animationAction:void 0})}}))),o.a.createElement(Cc,{isMobile:!0,id:this.props.id,gotoPrevPost:function(){return e.props.goTo("/".concat(e.props.prevMediaId))},gotoNextPost:function(){return e.props.goTo("/".concat(e.props.nextMediaId))},showPrevButton:!!this.props.prevMediaId,showNextButton:!!this.props.nextMediaId},o.a.createElement(Lt,{main:!0,id:this.props.id,onContextMenu:this.props.onContextMenu,onError:function(){return e.setState({showMasonry:!0})},onLoad:function(){return e.setState({showMasonry:!0})},maxHeight:this.maxHeight}))),this.props.isLoaded&&o.a.createElement("div",null,o.a.createElement("div",{className:"page-media__scrollable-content ".concat(this.state.blameTooltipDisplay?"page-media__scrollable-content_disable":"")},o.a.createElement("div",{className:"page-media__controls"},o.a.createElement(rc,{onBlameTooltipOpen:function(){return e.setState({blameTooltipDisplay:!0})},onBlameTooltipClose:function(){return e.setState({blameTooltipDisplay:!1})},id:this.props.id,onLike:function(){e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag}),e.setState({animationAction:{icon:o.a.createElement(de,{name:"icon-like",color:"#ef4a4a"}),text:o.a.createElement(K.b,{id:"page_media.animation_added"})}})},onCopyUrl:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})},onClickDownload:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})}})),o.a.createElement(yc,Object.assign({isMobile:!0},this.props,{onClick:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})}}))),this.props.creator&&o.a.createElement(Ya,{id:this.props.creator}),o.a.createElement(qa,{id:this.props.id,key:"tags-".concat(this.props.id),isMobile:!0}),o.a.createElement(ni,{key:"other-media-".concat(this.props.id),style:{marginTop:20},sourceTag:this.props.sourceTag,showAutoPlay:!0}),this.state.showMasonry&&o.a.createElement("div",{className:"page-media__media-masonry page-media__media-masonry_section_".concat(this.props.section)},o.a.createElement(Nr,{key:this.props.id,id:this.props.mediaFilter,mainMedia:this.props.id,statPayload:{tag:this.props.sourceTag},contextMenuEvent:"mobile_copy_image_gif_".concat(this.props.section),offset:500}))))}}])&&Fc(n.prototype,a),i&&Fc(n,i),t}();Rc.defaultProps={textKey:void 0,prevMediaId:void 0,nextMediaId:void 0,sourceTag:void 0,mediaFilter:void 0,creator:void 0,section:void 0};var Uc=Rc;n(404);function Bc(e){return(Bc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zc(e,t){return!t||"object"!==Bc(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Wc(e){return(Wc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qc(e,t){return(qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Gc=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zc(this,Wc(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&qc(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){document.querySelector("body").classList.add("noscroll")}},{key:"componentWillUnmount",value:function(){document.querySelector("body").classList.remove("noscroll")}},{key:"render",value:function(){var e="".concat(this.props.server,"/").concat(this.props.id,".mp4");return o.a.createElement("div",{className:"fullscreenview"},o.a.createElement("div",{className:"fullscreenview__nav fullscreenview__nav-left",onClick:this.props.onClickPrev},o.a.createElement("div",{className:"fullscreenview__nav-icon"},o.a.createElement(de,{name:"icon-arrow-left-2",color:"#fff",size:50}))),o.a.createElement("div",{className:"fullscreenview__media",onClick:this.props.clickMedia},o.a.createElement("video",{key:e,className:"fullscreenview__media-video",loop:!0,autoPlay:!0,muted:!0,playsInline:!0},o.a.createElement("source",{src:e,type:"video/mp4"}))),o.a.createElement("div",{className:"fullscreenview__nav fullscreenview__nav-right",onClick:this.props.onClickNext},o.a.createElement("div",{className:"fullscreenview__nav-icon"},o.a.createElement(de,{name:"icon-arrow-right-2",color:"#fff",size:50}))))}}])&&Hc(n.prototype,a),i&&Hc(n,i),t}();n(406);function Vc(e){return(Vc="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Kc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Qc(e,t){return(Qc=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Jc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Xc=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Yc(t).call(this,e))||"object"!==Vc(o)&&"function"!==typeof o?Jc(r):o).state={animationAction:void 0,fullscreen:!1,showMasonry:"undefined"===typeof window,blameTooltipDisplay:!1},n.handleKeyDown=n.handleKeyDown.bind(Jc(Jc(n))),n.goNext=n.goNext.bind(Jc(Jc(n))),n.goPrev=n.goPrev.bind(Jc(Jc(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qc(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"handleKeyDown",value:function(e){if(!["INPUT","TEXTAREA"].includes(document.activeElement.tagName))switch(e.keyCode){case 38:case 87:e.preventDefault(),this.setState({fullscreen:!0});break;case 27:case 40:case 83:if(!1===this.state.fullscreen)break;e.preventDefault(),this.setState({fullscreen:!1});break;case 37:case 65:e.preventDefault(),this.goPrev();break;case 39:case 68:e.preventDefault(),this.goNext()}}},{key:"goNext",value:function(){this.props.nextMediaId&&this.props.goTo("/".concat(this.props.nextMediaId))}},{key:"goPrev",value:function(){this.props.prevMediaId&&this.props.goTo("/".concat(this.props.prevMediaId))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"page-media desktop"},this.state.fullscreen&&o.a.createElement(Gc,{server:this.props.server,id:this.props.id,onClickPrev:this.goNext,onClickNext:this.goPrev,clickMedia:function(){return e.setState({fullscreen:!1})}}),this.props.isLoaded&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{itemProp:"mainEntity",itemScope:!0,itemType:"http://schema.org/ImageObject"},"undefined"===typeof window&&o.a.createElement("h1",{itemProp:"name caption"},this.props.intl.formatMessage({id:"".concat(this.props.textKey,".h1")},this.props.textValues)),o.a.createElement("div",{className:"image-block"},o.a.createElement("div",{className:"image"},o.a.createElement("meta",{itemProp:"representativeOfPage",content:"true"}),o.a.createElement("meta",{itemProp:"url",content:"/".concat(this.props.intl.locale).concat(this.props.location.pathname)}),this.state.animationAction&&o.a.createElement("div",{className:"page-media__image-animation"},o.a.createElement(Tc,Object.assign({},this.state.animationAction,{onAnimationEnd:function(){return e.setState({animationAction:void 0})}}))),o.a.createElement("figure",null,o.a.createElement("div",{className:"bg"},o.a.createElement(Cc,{id:this.props.id,isMobile:!1,gotoPrevPost:this.goPrev,gotoNextPost:this.goNext,showPrevButton:!!this.props.prevMediaId,showNextButton:!!this.props.nextMediaId},o.a.createElement(Lt,{main:!0,onError:function(){return e.setState({showMasonry:!0})},onLoad:function(){return e.setState({showMasonry:!0})},onContextMenu:this.props.onContextMenu,id:this.props.id,textValues:this.props.textValues,alt:this.props.intl.formatMessage({id:"".concat(this.props.textKey,".imageAlt")},this.props.textValues)}))),"undefined"===typeof window&&o.a.createElement("figcaption",{className:"desc",itemProp:"description"},this.props.intl.formatMessage({id:"".concat(this.props.textKey,".image_description")},this.props.textValues)))),o.a.createElement("div",{className:"image-right-block"},"undefined"===typeof window&&o.a.createElement("div",null,o.a.createElement("div",{className:"image-size"},this.props.intl.formatMessage({id:"page_media.resolution"}),":\xa0",o.a.createElement("span",{itemProp:"width"},this.props.width)," ","x\xa0",o.a.createElement("span",{itemProp:"height"},this.props.height)," ","px")),o.a.createElement(rc,{id:this.props.id,onLike:function(){e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag}),e.setState({animationAction:{icon:o.a.createElement(de,{name:"icon-like",color:"#ef4a4a"}),text:o.a.createElement(K.b,{id:"page_media.animation_added"})}})},onCopyUrl:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})},onClickDownload:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})}}),o.a.createElement("div",{className:"page-media__social"},o.a.createElement(yc,Object.assign({},this.props,{onClick:function(){return e.props.incStat({type:"other",media:e.props.id,tag:e.props.sourceTag})}}))),this.props.creator&&o.a.createElement(Ya,{id:this.props.creator}),o.a.createElement("div",{className:"page-media__blame"},o.a.createElement(Ui,{onOpen:function(){return e.setState({blameTooltipDisplay:!0})},onClose:function(){return e.setState({blameTooltipDisplay:!1})},mediaId:this.props.id},o.a.createElement(le,{className:"page-media__blame-button ".concat(this.state.blameTooltipDisplay?"page-media__blame-button_active":""),icon:o.a.createElement(de,{name:"icon-flag",size:16}),size:"small",type:"transparent"},o.a.createElement(K.b,{id:"page-media.blame-text"})))))),"undefined"===typeof window&&o.a.createElement("h2",{style:{marginTop:10}},this.props.intl.formatMessage({id:"page_media.tags_title"})),o.a.createElement(qa,{key:"tags-".concat(this.props.id),id:this.props.id})),o.a.createElement("div",{className:"other-media"},o.a.createElement(ni,{key:"other-media-".concat(this.props.id),sourceTag:this.props.sourceTag,showAutoPlay:!0}),this.state.showMasonry&&o.a.createElement("div",{className:"page-media__media-masonry page-media__media-masonry_section_".concat(this.props.section)},o.a.createElement(Nr,{key:this.props.id,id:this.props.mediaFilter,mainMedia:this.props.id,statPayload:{tag:this.props.sourceTag},contextMenuEvent:"desktop_right_button_gif_".concat(this.props.section),offset:500})))))}}])&&Kc(n.prototype,r),a&&Kc(n,a),t}();Xc.defaultProps={intl:void 0,textKey:void 0,width:void 0,height:void 0,prevMediaId:void 0,nextMediaId:void 0,creator:void 0,mediaFilter:void 0,sourceTag:void 0,server:void 0,section:void 0};var $c=Object(K.e)(Xc),Zc=Object(a.b)(function(e,t){var n=e.media.entities[t.mediaId]||{};return{pageUrl:e.env.url,file:n.file,clientType:e.env.clientType,server:n.file&&e.uploadServers.data[n.file.server]}})(Object(K.e)(function(e){var t=[],n=e.clientType,r=e.server,a=e.moderated,i=e.intl,c=e.values,s=e.id,u=e.mediaId,l=e.pageUrl,p=i.formatMessage({id:"".concat(s,".meta_og_title")},c),f="".concat(r,"/embedded/oembed?url=").concat(encodeURIComponent(l)),m=[{rel:"alternate",type:"application/json+oembed",href:"".concat(f,"&format=json"),title:p},{rel:"alternate",type:"text/xml+oembed",href:"".concat(f,"&format=xml"),title:p}];!1===a&&t.push({name:"robots",content:"noindex, follow"});var d=e.file||{},h=_t(r,d.path,"gif",{width:300});if(["facebook","vk"].includes(n))t.push({property:"og:image",content:_t(r,d.path,"gif",{preset:"".concat(n,"_play")})});else if("ok"===n)t.push({property:"og:type",content:"video.other"}),t.push({property:"og:image",content:_t(r,d.path,"jpeg",{preset:"ok_play"})});else if("telegram"===n){var y=_t(r,d.path,"mp4");t.push({property:"og:image",content:h},{property:"og:type",content:"video.other"},{property:"og:video",content:y},{property:"og:video:type",content:"video/mp4"},{property:"og:video:width",content:d.width},{property:"og:video:height",content:d.height},{name:"twitter:card",content:"player"},{name:"twitter:player",content:"".concat(r,"/embedded/media/").concat(u)},{name:"twitter:player:stream",content:y},{name:"twitter:player:stream:content_type",content:"video/mp4"},{name:"twitter:player:width",content:d.width},{name:"twitter:player:height",content:d.height},{name:"twitter:image",content:h})}else if("twitter"===n){var b=_t(r,d.path,"gif",{preset:"twitter_play"});t.push({name:"twitter:card",content:"summary_large_image"},{name:"twitter:image",content:b})}else{var v="".concat(r,"/").concat(u,".gif"),g="".concat(r,"/").concat(u,".mp4");t.push({property:"og:type",content:"video.other"},{property:"og:image",content:v},{property:"og:image:type",content:"image/gif"},{property:"og:image:width",content:d.width},{property:"og:image:height",content:d.height},{property:"og:video",content:g},{property:"og:video:secure_url",content:g},{property:"og:video:type",content:"video/mp4"},{property:"og:video:width",content:d.width},{property:"og:video:height",content:d.height})}return o.a.createElement(Ur,Object.assign({},e,{meta:t,links:m}))})),es=function(e){return e.isMobile?e.mobile:e.desktop};es.propTypes={isMobile:Ot.a.bool,mobile:Ot.a.node.isRequired,desktop:Ot.a.node.isRequired},es.defaultProps={isMobile:!1};var ts=es,ns=Object(a.b)(function(e){return{isMobile:e.env.isMobile}})(ts),rs=function(e){return o.a.createElement(r.Fragment,null,o.a.createElement(Zc,{id:e.textKey,values:e.textValues,mediaId:e.id,url:"/".concat(e.id)}),o.a.createElement(ns,{mobile:o.a.createElement(Uc,Object.assign({key:e.id},e)),desktop:o.a.createElement($c,e)}))};rs.defaultProps={id:void 0,textKey:void 0};var os=rs;function as(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function is(e){return(is="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function us(e,t){return(us=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ls(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ps=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=ss(t).call(this,e))||"object"!==is(o)&&"function"!==typeof o?ls(r):o).handleContextMenu=n.handleContextMenu.bind(ls(ls(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&us(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.isLoaded||this.props.fetchMediaRequest(this.props.id),this.fetchPageList(this.props.pageFilter,this.props.isPageListLoaded)}},{key:"componentDidUpdate",value:function(e){!0===this.props.masonryList.isLoaded&&!1===e.masonryList.isLoaded&&0===this.props.masonryList.ids.length&&this.props.saveMediaListFilter("popular"),e.pageFilter!==this.props.pageFilter&&this.fetchPageList()}},{key:"fetchPageList",value:function(){if(this.props.saveMediaPageFilter(this.props.pageFilter),!this.props.isPageListLoaded){this.props.fetchMediaListRequest(this.props.pageFilter,0,80)}}},{key:"handleContextMenu",value:function(){this.props.incStat({type:"other",media:this.props.id,tag:this.props.sourceTag}),wr({event:this.props.isMobile?"mobile_copy_image_mp4":"desktop_right_button_mp4"})}},{key:"render",value:function(){return o.a.createElement(os,Object.assign({},this.props,{onContextMenu:this.handleContextMenu}))}}])&&cs(n.prototype,r),a&&cs(n,a),t}();ps.defaultProps={id:void 0,sourceTag:void 0,isMobile:!1};var fs={fetchMediaRequest:lt,saveMediaPageFilter:function(e){return{filter:e,type:"SAVE_MEDIA_PAGE_FILTER"}},saveMediaListFilter:it,fetchMediaListRequest:rt,goTo:s.c,incStat:bt},ms=Object(a.b)(function(e,t){var n=t.match.params.id,r=e.env.isMobile,o=!!e.media.entities[n],a=o?e.media.entities[n]:{},i=e.users.entities[a.creator],c="media/".concat(n),s=e.media.lastFilter||e.media.pageFilter||c,u=(Or(s)||{}).section,l=!(!t.location.state||!t.location.state.thumb);"media"===u&&l&&(s=c);var p,f,m=(e.media.lists[s]||{}).ids,d=!!m;if(d){var h=m.indexOf(n);p=m[h+1]||m[0],h>0&&(f=m[h-1]||m[m.length-1])}var y=e.media.lastFilter||c,b=Or(e.media.lastFilter),v=b.tag,g=b.query,E=b.section,w=a.file&&e.uploadServers.data[a.file.server],O="";w&&(O=_t(w,a.file.path,"gif"));var _=Ft({media:a,creator:i}),S=n.charAt(n.length-1).toLowerCase(),C="12abcde".includes(S)?"1":"34fghij".includes(S)?"2":"",k="page_media".concat(_.user.length?"":".wou").concat(C),j=e.media.lists[y]||{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){as(e,t,n[t])})}return e}({},a,{isLoaded:o,isMobile:r,nextMediaId:p,prevMediaId:f,mediaFilter:y,gifSrc:O,textValues:_,textKey:k,id:t.match.params.id,locale:e.intl.locale,sourceTag:v||g,section:E,server:w,pageFilter:s,isPageListLoaded:d,masonryList:j})},fs)(ps),ds=(n(408),function(e){return o.a.createElement("div",{className:"tag-thumb-title ".concat(e.type," ").concat(e.isMobile?"mobile":"desktop")},o.a.createElement("span",{className:"title"},o.a.createElement("span",{className:"hash"}),e.children))});ds.defaultProps={type:"default"};var hs=ds,ys=Object(K.e)(function(e){return o.a.createElement(Vt,{showActions:!1,isMobile:e.isMobile,href:"/gifs/".concat(It(e.id)),paddingTop:"60%",id:e.cover,title:o.a.createElement(hs,{isMobile:e.isMobile,type:e.type},e.id),alt:e.intl.formatMessage({id:"tag_image_alt"},{name:e.id,category:e.category})})}),bs=Object(a.b)(function(e,t){var n=e.fullTags[t.tag]||{};return{id:n.id,cover:n.cover,isMobile:e.env.isMobile}})(ys);n(410);function vs(e){return(vs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Es(e){return(Es=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ws(e,t){return(ws=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Os(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var _s=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Es(t).call(this,e))||"object"!==vs(o)&&"function"!==typeof o?Os(r):o).handleRenderItem=n.handleRenderItem.bind(Os(Os(n))),n.handleCellHeight=n.handleCellHeight.bind(Os(Os(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ws(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleCellHeight",value:function(e,t){return.6*t}},{key:"handleRenderItem",value:function(e){var t=this.props.tags[e];return o.a.createElement(bs,{category:this.props.category,tag:t})}},{key:"render",value:function(){return o.a.createElement(Be,{columnCount:this.props.isMobile?1:"undefined"===typeof window?3:4,gutter:this.props.gutter,offset:150,data:this.props.tags,render:this.handleRenderItem,cellHeight:this.handleCellHeight})}}])&&gs(n.prototype,r),a&&gs(n,a),t}();function Ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cs(e){return(Cs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function js(e,t){return!t||"object"!==Cs(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ds(e){return(Ds=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ps(e,t){return(Ps=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var As=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),js(this,Ds(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ps(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.getCategoryTags(this.props.id)}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&this.props.getCategoryTags(e.id)}},{key:"render",value:function(){return this.props.isLoaded?o.a.createElement(_s,{isMobile:this.props.isMobile,category:this.props.id,gutter:this.props.isMobile?5:15,tags:this.props.tags}):o.a.createElement("div",null,"loading...")}}])&&ks(n.prototype,r),a&&ks(n,a),t}(),xs={getCategoryTags:function(e){return{type:U,categoryId:e}}},Ts=Object(a.b)(function(e,t){var n=e.categories.entities[t.id],r=e.categories.tags[t.id]||{};return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ss(e,t,n[t])})}return e}({},n,{isMobile:e.env.isMobile,isLoaded:r.isLoaded,tags:r.ids})},xs)(As),Ns=(n(412),Object(K.e)(function(e){var t=e.category,n=e.intl;return o.a.createElement("div",{className:"page-category"},o.a.createElement(Ur,{id:"page_category",values:{category:t.name},url:"/category/".concat(t.slug),meta:[{property:"og:image",content:_t("https://i.gifer.com","".concat(t.image),"gif")}]}),o.a.createElement("div",{className:"page-category__header"},o.a.createElement("div",{className:"page-category__header-h1"},o.a.createElement(ye,{title:n.formatMessage({id:"page_category.title"},{category:t.name}),element:"h1"})),o.a.createElement(tt,null)),o.a.createElement(Ts,{id:t.id}))})),Fs=Object(a.b)(function(e,t){return{category:Object.values(e.categories.entities).find(function(e){return e.slug===t.match.params.id})}})(Ns),Ms=n(21),Ls=(n(414),function(e){return o.a.createElement("div",{className:"smart-tags"},o.a.createElement("div",{className:"smart-tags__container"},o.a.createElement("div",{className:"smart-tags__list"},o.a.createElement(Wa,Object.assign({showMore:!1},e))),o.a.createElement("div",{className:"smart-tags__autoplay"},o.a.createElement(tt,null))))});function Is(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rs(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var Us=Math.E,Bs={listId:void 0,isLoaded:!1,result:[]},Hs=Object(a.b)(function(e,t){var n=t.listId,r=t.exclude,o=void 0===r?[]:r;if(Bs.id===n&&Bs.isLoaded)return Bs.result;var a=e.media.lists[n]||{},i=a.ids,c=void 0===i?[]:i,s=a.isLoaded,u=c.reduce(function(t,n){var r=e.media.entities[n],o=r.sLack;return t[o]=[].concat(Rs(t[o]||[]),[r]),t},[]),l=c.reduce(function(t,n){var r=e.media.entities[n],o=r.tags,a=r.sLack,i=Object(Ms.meanBy)(u[a].slice(0,3),"sScore"),c=Math.min(function(e,t){var n=e.sLack,r=e.sScore;return Math.pow(Us,Math.pow(Us,r))/Math.pow(Us,Math.pow(Us,t))/Math.pow(100,n)}(r,i),1);return o.forEach(function(e){var n=e.r50,r=void 0===n?0:n,o=e.tag.id;t[o]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Is(e,t,n[t])})}return e}({},e,{score:Object(Ms.get)(t,[o,"score"],0)+Math.log(r+1)*c})}),t},{}),p=Object.values(l).filter(function(e){return!1===o.includes(e.tag.id)}).sort(function(e,t){return e.score<t.score?1:-1}).slice(0,10),f={isMobile:e.env.isMobile,tags:p,listId:n};return Bs.id=n,Bs.isLoaded=s,Bs.result=f,f})(Ls),zs=(n(416),Number("50")),Ws=function(e,t){return t>1?"".concat(e,"?p=").concat(t):e},qs=function(e){var t=e.count,n=e.tag,r=e.url,a=e.page,i=e.showCanonical,c=t<zs?a:a+1;if("undefined"!==typeof window||!t||c<=1)return null;var s=Array(c).fill(0).map(function(e,t){return o.a.createElement("a",{key:t+1,href:Ws(r,t+1)},t+1)});return o.a.createElement("div",{className:"pagination"},o.a.createElement(ee.a,null,i&&o.a.createElement("link",{rel:"canonical",href:r}),a>1&&o.a.createElement("meta",{name:"yandex",content:"noindex, follow"}),a>1&&o.a.createElement("link",{rel:"prev",href:Ws(r,a-1)}),c>a&&o.a.createElement("link",{rel:"next",href:Ws(r,a+1)})),a>1&&o.a.createElement("a",{href:r},o.a.createElement(K.b,{id:"page_tag.pagination_extra_url",values:{tag:n}})),s)};qs.defaultProps={showCanonical:!0,page:1,tag:void 0};var Gs=qs;n(418);function Vs(e){return(Vs="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ks(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ys(e,t){return!t||"object"!==Vs(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Qs(e){return(Qs=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Js(e,t){return(Js=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Xs=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Ys(this,(e=Qs(t)).call.apply(e,[this].concat(o)))).state={imagePreviewAltId:void 0},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Js(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){this.setPageTagAltId()}},{key:"componentWillUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.setPageTagAltId()}},{key:"setPageTagAltId",value:function(){var e,t,n,r=(e=this.props.match.params.id,t=ja()(e)(),n=Math.ceil(3*t),"page_tag".concat(n,".alt"));return this.setState({imagePreviewAltId:r}),"POP"===this.props.history.action&&wr({event:r,dimension2:r}),r}},{key:"render",value:function(){var e=/p=(\d+)/.exec(this.props.location.search);e=e?Number(e[1]):1;var t,n=this.context.intl,r=this.props.server,a=Number("undefined"===typeof window?"50":"80"),i=(e-1)*a,c=this.props.name,s=c.charAt(0).toUpperCase()+c.slice(1),u="".concat("https://gifer.com","/").concat(this.props.locale,"/gifs/").concat(this.props.match.params.id),l={name:c,count:this.props.count,Name:s,page:e},p=this.props.firstMedia;return p&&this.props.showLdJSON&&"undefined"===typeof window&&(t=Da({url:u,intl:n,media:p,server:r,messageValues:l,seedKey:c,intlPrefix:"page_tag.article_"})),o.a.createElement("div",{className:"page-tag",itemProp:"mainEntity",itemScope:"image",itemType:"http://schema.org/ImageGallery"},o.a.createElement(Z.Helmet,null,t&&o.a.createElement("script",{type:"application/ld+json"},JSON.stringify(t)),0===this.props.count&&o.a.createElement("meta",{name:"robots",content:"noindex, follow"})),o.a.createElement(Ur,{id:"page_tag",values:l,url:this.props.url,page:e,showHreflang:this.props.showHreflang,meta:this.props.firstMedia?[{property:"og:image",content:_t(this.props.server,this.props.firstMedia.file.path,"gif")}]:void 0}),o.a.createElement("div",{className:"header"},o.a.createElement("div",{className:"header-text"},o.a.createElement("link",{itemProp:"url",content:u}),o.a.createElement("link",{itemProp:"mainEntityOfPage",content:u}),o.a.createElement("meta",{itemProp:"keywords",content:n.formatMessage({id:"page_tag.article_keywords"},l)}),o.a.createElement("div",{className:"page-tag__tag-name"},o.a.createElement("h1",{itemProp:"headline name"},o.a.createElement(K.a,{id:"page_tag.tag_name",values:{name:c}}))))),o.a.createElement("div",{className:"page-tag__smart-tags"},o.a.createElement(Hs,{showMore:!1,listId:this.props.mediaFilter,exclude:[Rt(this.props.match.params.id)]})),o.a.createElement(Nr,{save:!0,skip:i,limit:a,query:this.props.match.params.id,id:this.props.mediaFilter,statPayload:{tag:Rt(this.props.match.params.id)},imagePreviewAltId:this.state.imagePreviewAltId}),o.a.createElement(Gs,{tag:c,page:e,count:this.props.count,url:u,showCanonical:this.props.showHreflang}))}}])&&Ks(n.prototype,a),i&&Ks(n,i),t}();Xs.defaultProps={server:void 0},Xs.contextTypes={intl:Ot.a.objectOf(Ot.a.any)};var $s=Object(h.a)(Xs),Zs=function(e){return yi("api/tags/".concat(encodeURIComponent(e)))};function eu(e){return(eu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ru(e,t){return!t||"object"!==eu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ou(e){return(ou=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function au(e,t){return(au=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var iu=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=ru(this,(e=ou(t)).call.apply(e,[this].concat(o)))).state={tagExist:void 0,error:void 0},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&au(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){this.checkTagExisting(this.props)}},{key:"componentWillUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.checkTagExisting(e)}},{key:"checkTagExisting",value:function(){var e,t=(e=ui.a.mark(function e(t){var n,r,o;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLoaded){e.next=3;break}return this.setState({tagExist:!1,error:void 0}),e.abrupt("return");case 3:return e.prev=3,this.setState({tagExist:void 0,error:void 0}),n=Rt(t.match.params.id),e.next=8,Zs(n);case 8:r=e.sent,o="object"===eu(r)&&null!==r,this.setState({tagExist:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),this.setState({error:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[3,13]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){tu(a,r,o,i,c,"next",e)}function c(e){tu(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?this.state.error:void 0===this.state.tagExist?null:!0===this.state.tagExist?o.a.createElement(Y.a,{to:"/gifs/".concat(this.props.match.params.id)}):o.a.createElement($s,this.props)}}])&&nu(n.prototype,a),i&&nu(n,i),t}(),cu=Object(a.b)(function(e,t){var n="search/".concat(t.match.params.id),r=e.media.lists[n],o=$()(r,"ids.0"),a=e.media.entities[o];return{mediaFilter:n,firstMedia:a,server:a&&a.file&&e.uploadServers.data[a.file.server],showHreflang:!1,showLdJSON:!1,locale:e.intl.locale,isMobile:e.env.isMobile,count:$()(e,["media","lists",n,"count"],0),name:Rt(t.match.params.id),url:"/s/".concat(t.match.params.id),isLoaded:$()(r,"isLoaded")}})(iu);function su(e){return(su="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uu(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function lu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t){return!t||"object"!==su(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fu(e){return(fu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mu(e,t){return(mu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var du=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=pu(this,(e=fu(t)).call.apply(e,[this].concat(o)))).state={tagExist:void 0,error:void 0},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mu(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){this.checkTagExisting(this.props)}},{key:"componentWillUpdate",value:function(e){e.match.params.id!==this.props.match.params.id&&this.checkTagExisting(e)}},{key:"checkTagExisting",value:function(){var e,t=(e=ui.a.mark(function e(t){var n,r,o;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLoaded){e.next=3;break}return this.setState({tagExist:!0,error:void 0}),e.abrupt("return");case 3:return e.prev=3,this.setState({tagExist:void 0,error:void 0}),n=Rt(t.match.params.id),e.next=8,Zs(n);case 8:r=e.sent,o="object"===su(r)&&null!==r,this.setState({tagExist:o}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),this.setState({error:e.t0.message});case 16:case"end":return e.stop()}},e,this,[[3,13]])}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){uu(a,r,o,i,c,"next",e)}function c(e){uu(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.error?this.state.error:void 0===this.state.tagExist?null:!1===this.state.tagExist?o.a.createElement(Y.a,{to:"/s/".concat(this.props.match.params.id)}):o.a.createElement($s,Object.assign({},this.props,{showHreflang:!0,showLdJSON:!0}))}}])&&lu(n.prototype,a),i&&lu(n,i),t}();du.defaultProps={isLoaded:!1};var hu=Object(a.b)(function(e,t){var n=t.match.params.id,r="tag/".concat(n),o=e.media.lists[r],a=$()(o,"ids.0"),i=e.media.entities[a];return{mediaFilter:r,firstMedia:i,server:i&&i.file&&e.uploadServers.data[i.file.server],locale:e.intl.locale,isMobile:e.env.isMobile,count:$()(e,["media","lists",r,"ids","length"],0),name:Rt(n),url:"/gifs/".concat(t.match.params.id),isLoaded:$()(o,"isLoaded")}})(du),yu="FETCH_USER_REQUEST",bu=function(e){return{error:e,type:"FETCH_USER_FAILURE"}},vu=function(e,t){return{id:e,entities:t,type:"FETCH_USER_SUCCESS"}},gu=(n(420),function(e){return o.a.createElement("div",{className:"user-avatar",style:{background:"rgb(109, 181, 172)",width:e.size,height:e.size}},o.a.createElement(de,{name:"icon-user",size:e.iconSize}))});gu.defaultProps={size:70,iconSize:70};var Eu=gu;function wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ou=Object(a.b)(function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wu(e,t,n[t])})}return e}({},e.users.entities[t.user])})(Eu),_u=(n(422),function(e){return o.a.createElement("div",{className:"page-user-user-panel"},o.a.createElement("div",{className:"page-user-user-panel__left-part"},o.a.createElement(Ou,{size:e.isMobile?90:130,iconSize:e.isMobile?90:100,user:e.id})),o.a.createElement("div",{className:"page-user-user-panel__right-part"},o.a.createElement("span",{className:"page-user-user-panel__username"},e.username),o.a.createElement("div",{className:"page-user-user-panel__counters"},e.isOwner&&o.a.createElement("div",{className:"page-user-user-panel__favorites"},o.a.createElement("span",{className:"page-user-user-panel__favorites-value"},e.counters.likes),o.a.createElement("span",{className:"page-user-user-panel__favorites-intl"},o.a.createElement(K.b,{id:"page_user.link_to_favorites"}))),o.a.createElement("div",{className:"page-user-user-panel__uploaded"},o.a.createElement("span",{className:"page-user-user-panel__uploaded-value"},e.counters.gifs),o.a.createElement("span",{className:"page-user-user-panel__uploaded-intl"},o.a.createElement(K.b,{id:"page_user.link_to_uploaded"}))))))});function Su(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cu(e){return(Cu="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ku(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ju(e,t){return!t||"object"!==Cu(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Du(e){return(Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Pu(e,t){return(Pu=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Au=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),ju(this,Du(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pu(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.fetchUserRequest(this.props.user)}},{key:"componentWillUpdate",value:function(e){this.props.user!==e.user&&this.props.fetchUserRequest(e.user)}},{key:"render",value:function(){return this.props.isLoaded?o.a.createElement(_u,this.props):null}}])&&ku(n.prototype,r),a&&ku(n,a),t}(),xu={fetchUserRequest:function(e){return{id:e,type:yu}}},Tu=Object(a.b)(function(e,t){var n=e.users.fullEntities[t.user];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Su(e,t,n[t])})}return e}({isLoaded:!!n,isMobile:e.env.isMobile},n)},xu)(Au),Nu=n(38),Fu=n.n(Nu),Mu=n(64),Lu=n.n(Mu),Iu=(n(424),function(e){return o.a.createElement("div",{className:"page-user-part-touches"},o.a.createElement(Z.Helmet,null,o.a.createElement("meta",{name:"robots",content:"noindex, follow"})),o.a.createElement(Ur,{id:"page_user_touches",values:{user:e.username}}),o.a.createElement("div",{className:"page-user-part-touches__header"},o.a.createElement("div",{className:"page-user-part-touches__title"},o.a.createElement(K.a,{id:"page_user_history.h1",values:{user:e.username}}),o.a.createElement("span",{className:"page-user-part-touches__count"},e.counters.touches)),o.a.createElement(tt,null)),o.a.createElement("div",{className:"page-user-part-touches__content"},o.a.createElement(Nr,{forceUpdate:!0,save:!0,id:"user/".concat(e.match.params.id,"/touches"),empty:o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("picture",null,o.a.createElement("source",{srcSet:Lu.a,type:"image/webp"}),o.a.createElement("source",{srcSet:Fu.a,type:"image/gif"}),o.a.createElement("img",{src:Fu.a,alt:"empty content"})),o.a.createElement("div",{className:"page-user-part-added__content-empty"},o.a.createElement(K.a,{id:"page_user.empty_touches",values:{user:e.username}})))})))});Iu.defaultProps={username:"",counters:{touches:0}};var Ru=Iu;function Uu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bu=Object(a.b)(function(e,t){var n=t.match.params.id===e.auth.myId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Uu(e,t,n[t])})}return e}({doRedirect:e.auth.isLoaded&&!n},e.users.fullEntities[t.match.params.id])})(function(e){return e.doRedirect?o.a.createElement(Y.a,{to:"/"}):o.a.createElement(Ru,e)}),Hu=(n(426),function(e){return o.a.createElement("div",{className:"page-user-part-uploaded"},o.a.createElement(Ur,{id:"page_user_uploaded",values:{user:e.username}}),e.showProgress&&o.a.createElement(be,e),o.a.createElement("div",{className:"page-user-part-uploaded__header"},o.a.createElement("div",{className:"page-user-part-uploaded__title"},o.a.createElement("span",{className:"page-user-part-uploaded__uploaded"},o.a.createElement(K.a,{id:"page_user_uploaded.h1",values:{user:e.username}})),o.a.createElement("span",{className:"page-user-part-uploaded__uploaded-count"},e.counters.gifs)),o.a.createElement(tt,null)),o.a.createElement(Nr,{save:!0,forceUpdate:!0,id:"user/".concat(e.match.params.id,"/uploaded"),empty:o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("picture",null,o.a.createElement("source",{srcSet:Lu.a,type:"image/webp"}),o.a.createElement("source",{srcSet:Fu.a,type:"image/gif"}),o.a.createElement("img",{src:Fu.a,alt:"empty content"})),o.a.createElement("div",{className:"page-user-part-added__content-empty"},o.a.createElement(K.a,{id:"page_user.empty_uploaded",values:{user:e.username}})))}))});Hu.defaultProps={counters:{gifs:0}};var zu=Hu;function Wu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qu=Object(a.b)(function(e,t){var n=t.match.params.id===e.auth.myId&&e.upload.count>0,r={};return n&&(r.value=Object.values(e.upload.progress).reduce(function(e,t){return e+t},0),r.value/=e.upload.count,r.parts=e.upload.count,r.done=Object.values(e.upload.progress).reduce(function(e,t){return 100===t?e+1:e},0)),function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wu(e,t,n[t])})}return e}({showProgress:n&&r.value<100},e.users.fullEntities[t.match.params.id],r)})(zu),Gu=n(146),Vu=n.n(Gu),Ku=(n(428),function(e){return o.a.createElement("div",{className:"page-user-part-added"},o.a.createElement(Z.Helmet,null,o.a.createElement("meta",{name:"robots",content:"noindex, follow"})),o.a.createElement(Ur,{id:"page_user_favorites",values:{user:e.username}}),o.a.createElement("div",{className:"page-user-part-added__header"},o.a.createElement("div",{className:"page-user-part-added__title"},o.a.createElement("span",{className:"page-user-part-added__favorites"},o.a.createElement(K.a,{id:"page_user_favorites.h1",values:{user:e.username}})),o.a.createElement("span",{className:"page-user-part-added__favorites-count"},e.counters.likes)),o.a.createElement(tt,null)),o.a.createElement("div",{className:"page-user-part-added__content"},o.a.createElement(Nr,{save:!0,forceUpdate:!0,id:"user/".concat(e.match.params.id,"/favorites"),empty:o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement("img",{src:Vu.a,alt:""}),o.a.createElement("div",{className:"page-user-part-added__content-empty"},o.a.createElement(K.a,{id:"page_user.empty_favorites",values:{user:e.username}})))})))});Ku.defaultProps={username:"",counters:{likes:0}};var Yu=Ku;function Qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ju=Object(a.b)(function(e,t){var n=t.match.params.id===e.auth.myId;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Qu(e,t,n[t])})}return e}({doRedirect:e.auth.isLoaded&&!n},e.users.fullEntities[t.match.params.id])})(function(e){return e.doRedirect?o.a.createElement(Y.a,{to:"/"}):o.a.createElement(Yu,e)}),Xu=(n(430),function(e){return o.a.createElement("div",{className:"page-user-controls"},o.a.createElement(qo.a,{to:"/user/".concat(e.user,"/touches"),className:"page-user-controls__item",activeClassName:"page-user-controls__item_active",exact:!0},o.a.createElement(K.b,{id:"page_user.link_to_touches"})),o.a.createElement(qo.a,{to:"/user/".concat(e.user,"/favorites"),className:"page-user-controls__item",activeClassName:"page-user-controls__item_active",exact:!0},o.a.createElement(K.b,{id:"page_user.link_to_favorites"})),o.a.createElement(qo.a,{to:"/user/".concat(e.user),className:"page-user-controls__item",activeClassName:"page-user-controls__item_active",exact:!0},o.a.createElement(K.b,{id:"page_user.link_to_uploaded"})))}),$u=(n(432),function(e){return o.a.createElement("div",{className:"page-user ".concat(e.isMobile?"page-user_mobile":"page-user_desktop")},o.a.createElement(Tu,{user:e.match.params.id,isOwner:e.isOwner}),e.isOwner&&o.a.createElement("div",{className:"page-user__controls"},o.a.createElement(Xu,{user:e.match.params.id})),o.a.createElement(Q.a,{exact:!0,path:"/user/:id/touches",component:Bu}),o.a.createElement(Q.a,{exact:!0,path:"/user/:id",component:qu}),o.a.createElement(Q.a,{exact:!0,path:"/user/:id/favorites",component:Ju}))}),Zu=Object(a.b)(function(e,t){return{isOwner:t.match.params.id===e.auth.myId,isMobile:e.env.isMobile}})($u),el=function(e){var t=e.locale,n=e.id,r=e.isMobile;return o.a.createElement(mc,{locale:t,pageUrl:"".concat("https://gifer.com","/").concat(t,"/collection/").concat(n),isMobile:r})};el.defaultProps={isMobile:!1};var tl=el,nl=(n(434),function(e,t){var n,a=e.listId,i=e.id,c=e.name,s=e.description,u=e.locale,l=e.isMobile,p=e.cover,f=e.server,m=e.statQuery,d=t.intl,h="".concat(f,"/").concat(p.id,".mp4"),y="".concat("https://gifer.com","/").concat(u,"/events/").concat(i),b={name:c,description:s,Name:Object(Ms.upperFirst)(c)};return p&&"undefined"===typeof window&&(n=Da({url:y,intl:d,media:p,server:f,messageValues:b,seedKey:i,intlPrefix:"page_event.article_"})),o.a.createElement(r.Fragment,null,o.a.createElement(Z.Helmet,null,n&&o.a.createElement("script",{type:"application/ld+json"},JSON.stringify(n))),o.a.createElement(Ur,{id:"page_event",url:"/events/".concat(i),values:b,meta:[{property:"og:image",content:h}]}),o.a.createElement("div",{className:"page-event",itemProp:"mainEntity",itemScope:"image",itemType:"http://schema.org/ImageGallery"},o.a.createElement("div",{className:"page-event__photostatus"},o.a.createElement("div",{className:"page-event__photostatus-image-container"},o.a.createElement("video",{key:h,className:"page-event__photostatus-image",loop:!0,autoPlay:!0,muted:!0,playsInline:!0},o.a.createElement("source",{src:h,type:"video/mp4"}))),o.a.createElement("div",{className:"page-event__photostatus-info"},o.a.createElement("link",{itemProp:"url",content:y}),o.a.createElement("link",{itemProp:"mainEntityOfPage",content:y}),o.a.createElement("meta",{itemProp:"keywords",content:d.formatMessage({id:"page_event.article_keywords"},b)}),o.a.createElement("h1",{itemProp:"headline name",className:"page-event__photostatus-title"},o.a.createElement(K.b,{id:"page_event.tag_name",values:{Name:Object(Ms.upperFirst)(c),name:c}})),o.a.createElement("div",{className:"page-event__photostatus-description"},s),!1===l&&o.a.createElement("div",{className:"page-event__photostatus-share_desktop"},o.a.createElement(tl,{locale:u,id:i})))),!0===l&&o.a.createElement("div",{className:"page-event__photostatus-share_mobile"},o.a.createElement(tl,{locale:u,id:i,isMobile:!0})),o.a.createElement("div",{className:"page-event__smart-tags"},o.a.createElement(Hs,{showMore:!1,listId:a})),a&&o.a.createElement("div",{className:"page-event__masonry"},o.a.createElement(Nr,{id:a,save:!0,statPayload:{tag:m},query:m,contextMenuEvent:l?"mobile_right_button_gif_events":"desktop_right_button_gif_events"}))))});nl.defaultProps={listId:void 0,cover:{file:{}},locale:"en",name:" ",description:"",statQuery:"",server:void 0,isMobile:!0},nl.contextTypes={intl:Ot.a.objectOf(Ot.a.any)};var rl=nl;function ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function al(e){return(al="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cl(e,t){return!t||"object"!==al(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function sl(e){return(sl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ul(e,t){return(ul=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var ll=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),cl(this,sl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ul(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){!1===this.props.isLoaded&&this.props.fetchEventRequest(this.props.id)}},{key:"render",value:function(){return o.a.createElement(rl,this.props)}}])&&il(n.prototype,a),i&&il(n,i),t}(),pl={fetchEventRequest:function(e){return{type:co,slug:e}}},fl=Object(a.b)(function(e,t){var n=t.match.params.id,r=e.events.data.find(function(e){return e.slug===n}),o=r?"event/".concat(r.id,"/").concat(r.slug,"/").concat(r.statQuery):void 0,a=Object(Ms.get)(r,"cover.file.server"),i=e.uploadServers.data[a];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){ol(e,t,n[t])})}return e}({isLoaded:!!r},r,{id:n,isMobile:e.env.isMobile,locale:e.intl.locale,server:i,listId:o})},pl)(ll),ml=(n(436),function(e,t){var n,r=e.name,a=e.slug,i=e.listId,c=e.statQuery,s=e.media,u=e.server,l=e.isMobile,p=e.locale,f=t.intl,m="".concat(u,"/").concat(s.id,".mp4"),d="".concat("https://gifer.com","/").concat(p,"/emoji/").concat(a),h={name:r,Name:Object(Ms.upperFirst)(r)};return"undefined"===typeof window&&(n=Da({url:d,intl:f,media:s,server:u,messageValues:h,seedKey:a,intlPrefix:"page_smile.article_"})),o.a.createElement(o.a.Fragment,null,o.a.createElement(Z.Helmet,null,n&&o.a.createElement("script",{type:"application/ld+json"},JSON.stringify(n))),o.a.createElement(Ur,{id:"page_smile",url:"/emoji/".concat(a),values:h,meta:[{property:"og:image",content:m}]}),o.a.createElement("div",{className:"page-smile"},o.a.createElement("div",{className:"page-smile__panel"},o.a.createElement(Ca,{isDimmed:!0,activeSlug:a})),o.a.createElement("div",{className:"page-smile__tags-container"},o.a.createElement(Hs,{showMore:!1,listId:i})),i&&o.a.createElement(Nr,{id:i,save:!0,statPayload:{tag:c},query:c,contextMenuEvent:l?"mobile_right_button_gif_smiles":"desktop_right_button_gif_smiles"})))});ml.defaultProps={name:void 0,slug:void 0,listId:void 0,statQuery:void 0,isMobile:!1,locale:"en",media:{}},ml.contextTypes={intl:Ot.a.objectOf(Ot.a.any)};var dl=ml;function hl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function bl(e){return(bl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gl(e,t){return!t||"object"!==bl(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function El(e){return(El=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function wl(e,t){return(wl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ol=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),gl(this,El(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wl(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isLoaded,r=t.smilesIsLoaded,o=t.slug;!e.smilesIsLoaded&&r&&!1===n&&this.props.fetchSmileRequest(o)}},{key:"render",value:function(){return o.a.createElement(dl,this.props)}}])&&vl(n.prototype,a),i&&vl(n,i),t}(),_l={fetchSmileRequest:function(e){return{type:fa,slug:e}}},Sl=Object(a.b)(function(e,t){var n=t.match.params.slug,r=e.smiles.data.find(function(e){return e.slug===n}),o=r?"smile/".concat(r.id,"/").concat(r.slug,"/").concat(r.statQuery):void 0,a=yl($()(e.media.lists,[o,"ids"],[]),1)[0],i=e.media.entities[a],c=i&&i.file&&e.uploadServers.data[i.file.server];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hl(e,t,n[t])})}return e}({},r,{smilesIsLoaded:e.smiles.isLoaded,slug:n,listId:o,isLoaded:!!r,isMobile:e.env.isMobile,locale:e.intl.locale,media:i,server:c})},_l)(Ol),Cl=n(37),kl=n.n(Cl),jl=(n(438),function(e){var t=e.onClickShare;return o.a.createElement("div",{className:"page-embed-header"},o.a.createElement("a",{className:"page-embed-header__logo",href:"".concat("https://gifer.com","/?utm_source=").concat(encodeURIComponent(document.referrer),"&utm_medium=embed-main&utm_campaign=iFRame"),target:"_blank",rel:"noopener noreferrer"},o.a.createElement("img",{src:kl.a,alt:"logo",className:"page-embed-header__logo-image"}),o.a.createElement(de,{size:"21px",color:"#fff",name:"icon-logo-text"})),o.a.createElement(le,{className:"page-embed-header__share-button",type:"transparent",icon:o.a.createElement(de,{name:"icon-share",color:"#FFFFFF"}),size:"small",onClick:t},o.a.createElement(K.b,{id:"page-embed-header.share-button"})))});jl.defaultProps={onClickShare:void 0};var Dl=jl;n(440);function Pl(e){return(Pl="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xl(e,t){return!t||"object"!==Pl(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tl(e){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Nl(e,t){return(Nl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Fl=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=xl(this,(e=Tl(t)).call.apply(e,[this].concat(o)))).state={section:"main",copied:!1},n.handleClickCopy=function(){n.setState({copied:!0}),n.props.onClickCopy(),setTimeout(function(){return n.setState({copied:!1})},2e3)},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Nl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"page-embed-share"},o.a.createElement(Qn,{closeModal:this.props.onCloseRequest},o.a.createElement("div",{className:"page-embed-share__content"},"main"!==this.state.section&&o.a.createElement("div",{className:"page-embed-share__back-button"},o.a.createElement(le,{onClick:function(){return e.setState({section:"main"})},type:"transparent",icon:o.a.createElement(de,{name:"icon-arrow-left-2",color:"white",size:"24px"})})),("main"===this.state.section||"share"===this.state.section)&&o.a.createElement("div",{className:"page-embed-share__socials ".concat("share"===this.state.section?"page-embed-share__socials_extended":"")},o.a.createElement(mc,{pageUrl:this.props.gifSrc}),"main"===this.state.section&&o.a.createElement(le,{type:"black-transparent",onClick:function(){return e.setState({section:"share"})},className:"page-embed-share__share-more-button",size:"s50",icon:o.a.createElement(de,{name:"icon-point"})})),"main"===this.state.section&&o.a.createElement("div",{className:"page-embed-share__actions"},o.a.createElement(le,{type:"black-transparent",href:this.props.downloadUrl,onClick:this.props.onClickDownload,nativeProps:{download:!0},icon:o.a.createElement(de,{name:"icon-download"}),size:"small",style:{height:40},block:!0,external:!0},o.a.createElement(K.b,{id:"page-embed-share.download-gif"})),o.a.createElement(Et.a,{text:this.props.gifSrc},o.a.createElement(le,{onClick:this.handleClickCopy,type:"black-transparent",icon:o.a.createElement(de,{name:"icon-copy-url"}),size:"small",style:{height:40},block:!0},this.state.copied?o.a.createElement(K.b,{id:"page-embed-share.copy-gif-done"}):o.a.createElement(K.b,{id:"page-embed-share.copy-gif"}))),o.a.createElement(le,{type:"transparent",className:"page-embed-share__embed-button",icon:o.a.createElement(de,{name:"icon-embed"}),size:"small",style:{height:40},onClick:function(){return e.setState({section:"embed"})},block:!0},o.a.createElement(K.b,{id:"page-embed-share.embed"}))),"embed"===this.state.section&&o.a.createElement("div",{className:"page-embed-share__embed"},o.a.createElement(tc,{id:this.props.id})))))}}])&&Al(n.prototype,a),i&&Al(n,i),t}();Fl.defaultProps={onClickDownload:function(){},onClickCopy:function(){},onCloseRequest:function(){}};var Ml=Fl;n(442);function Ll(e){return(Ll="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(e,t){return!t||"object"!==Ll(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ul(e){return(Ul=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Bl(e,t){return(Bl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Hl=function(e){function t(){var e,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=Rl(this,(e=Ul(t)).call.apply(e,[this].concat(o)))).state={showHeader:!0,showShare:!1},n.handleClickShare=function(){n.setState({showHeader:!1,showShare:!0})},n.handleCloseShare=function(){n.setState({showHeader:!0,showShare:!1})},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bl(e,t)}(t,r["Component"]),n=t,(a=[{key:"render",value:function(){var e=this.props,t=e.id,n=e.server,r=e.file,a=e.alt,i=e.locale,c=e.width,s=400*e.height/c,u=_t(this.props.server,r.path,"gif"),l=_t(this.props.server,"".concat(r.path,"_w200"),"gif"),p="".concat(n,"/").concat(t,".gif"),f="".concat(n,"/").concat(t,".webp"),m="".concat(n,"/embedded/download/").concat(t,".gif"),d="".concat("https://gifer.com","/").concat(t);return o.a.createElement("div",{className:"page-embed ".concat(this.props.isMobile?"page-embed_mobile":"page-embed_desktop")},this.state.showHeader&&o.a.createElement("div",{className:"page-embed__header"},o.a.createElement(Dl,{onClickShare:this.handleClickShare})),o.a.createElement("div",{className:"page-embed__header_mini"},o.a.createElement(le,{href:d,external:!0,type:"transparent",icon:o.a.createElement(de,{name:"icon-share",color:"white"})})),this.state.showShare&&o.a.createElement("div",{className:"page-embed__share"},o.a.createElement(Ml,{id:t,locale:i,onCloseRequest:this.handleCloseShare,downloadUrl:m,gifSrc:p})),o.a.createElement("a",{href:"".concat(d,"?utm_source=").concat(encodeURIComponent(document.referrer),"&utm_medium=embed-action&utm_campaign=iFRame"),target:"_blank",rel:"noopener noreferrer",className:"page-embed__media"},n&&o.a.createElement("picture",null,o.a.createElement("source",{media:"(max-width: ".concat(400,"px) and (max-height: ").concat(s,"px)"),srcSet:l,type:"image/gif"}),r.formats.includes("webp")&&o.a.createElement("source",{srcSet:f,type:"image/webp"}),o.a.createElement("source",{srcSet:u,type:"image/gif"}),o.a.createElement("img",{className:"page-embed__image",itemProp:"contentUrl",alt:a,src:u}))))}}])&&Il(n.prototype,a),i&&Il(n,i),t}();Hl.defaultProps={isMobile:!1,alt:void 0,server:void 0,width:0,height:0,file:{formats:[]}};var zl=Hl;function Wl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ql(e){return(ql="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vl(e,t){return!t||"object"!==ql(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Kl(e){return(Kl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Yl(e,t){return(Yl=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var Ql=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Vl(this,Kl(t).apply(this,arguments))}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Yl(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillMount",value:function(){this.props.fetchMediaRequest(this.props.id)}},{key:"render",value:function(){return o.a.createElement(zl,this.props)}}])&&Gl(n.prototype,a),i&&Gl(n,i),t}(),Jl={fetchMediaRequest:lt},Xl=Object(a.b)(function(e,t){var n=t.match.params.id,r=e.intl.locale,o=e.env.isMobile,a=e.media.entities[n];return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Wl(e,t,n[t])})}return e}({id:n,server:a&&a.file&&e.uploadServers.data[a.file.server],locale:r,isMobile:o},a)},Jl)(Ql),$l=(n(444),function(){return o.a.createElement("div",{className:"page-privacy"},o.a.createElement("title",null,"Privacy Policy"),o.a.createElement("h1",null,"Privacy Policy"),o.a.createElement("p",null,'This Privacy Policy (the "Policy") describes the policies and procedures on the collection, use and disclosure of your information in connection with your use of gifer.com (the "Site"), the services, features, or content we offer (collectively with the Site, the "Services"). When you use the Services, you are consenting to the collection, transfer, manipulation, storage, disclosure and other uses of your information as described in this Policy.'),o.a.createElement("h2",null,"1. Information we collect and the purposes for which we use it"),o.a.createElement("p",null,"If you create an Account, you will provide information that could be Personal Data, such as your email address and a password. Additionally, if you register for or access the Services using a third party services (such as your social media account login credentials), we receive data that you have made available to share through such services, which include your user ID and name. You acknowledge that this information may be personal to you, and by creating an Account and providing Personal Data to us, you allow others, including us, to identify you and therefore may not be anonymous."),o.a.createElement("p",null,"Some features of the Services allow you to provide content to the Services, including personal data if you so choose. User contributions include, but are not limited to, Video, GIFs, written comments, links, and pictures. All content submitted by you to the Services may be retained by us indefinitely, even after you terminate your account or your access to the Services is terminated."),o.a.createElement("p",null,"The information we gather enables us to personalize, improve, understand and continue to operate the Services."),o.a.createElement("h2",null,"2. Use of Cookies"),o.a.createElement("p",null,"We may use cookies to enable our servers to recognize your web browser and tell us how and when you visit the Site and otherwise use the Services. Our cookies do not, by themselves, contain any personal data. However, we may match cookies with your personal data to identify you, and we may use cookies to identify that your web browser has accessed aspects of the Services and may associate that information with your account if you have one."),o.a.createElement("p",null,"We may allow third party web analytics service providers to use cookies or similar technologies to collect information about your use of the Services. We use Google Analytics to help us understand how users use the Services and to enhance your experience when you use the Services. For more information, please go to ",o.a.createElement("a",{href:"https://policies.google.com/technologies/partner-sites"},"https://policies.google.com/technologies/partner-sites")," and to opt out of data recording and analysis by Google Analytics on the Services, please visit ",o.a.createElement("a",{href:"https://tools.google.com/dlpage/gaoptout"},"https://tools.google.com/dlpage/gaoptout"),"."),o.a.createElement("p",null,"We may allow third party vendors, including Google, use cookies to serve ads based on a user's prior visits to Site. Google's use of the DoubleClick cookie enables it and its partners to serve ads to you based on your visit to Site and/or other sites on the internet. You can opt out of the use of the cookies for interest-based advertising by visiting ",o.a.createElement("a",{href:"https://adssettings.google.com"},"Ads Settings")," and ",o.a.createElement("a",{href:"http://www.aboutads.info/choices/"},"http://www.aboutads.info/choices/"),"."),o.a.createElement("h2",null,"3. Information you contribute"),o.a.createElement("p",null,"Every content item uploaded to Services or posted there is public \u2013 whether uploaded directly without going through a user account, or uploaded via a user account \u2013 and has its own URL. No matter what your privacy settings are, every image can always be accessed and viewed by anyone who types in that exact URL. No image uploaded to Services is ever completely hidden from public view."),o.a.createElement("h2",null,"4. Accessing, correcting, and disclosing of personal data"),o.a.createElement("p",null,"Because we don't collect information about the identity of our users and don't receive any information from third parties enabling us to identify our users, we have no means of knowing, or providing information about you we might have on our servers \u2013 unless you have user account. If you have an account, you may log in and access your data, correct whatever information you deem to be incorrect or delete your account contacting us by clicking \"Report\" button on any Site page."),o.a.createElement("p",null,"We do not provide any personal data to third parties, at the same time we reserve the right to disclose any information as we reasonably believe is necessary to satisfy any applicable law, regulation, legal process or governmental request."),o.a.createElement("h2",null,"5. Data Protection"),o.a.createElement("p",null,"We take every reasonable precaution to protect the data on our servers from loss, misuse, unauthorized access, disclosure, alteration, or destruction, taking into account the risk level and the nature of the data. You are responsible for taking every reasonable precaution on your end to protect any unauthorized person from accessing your account."),o.a.createElement("h2",null,"6. Miscellaneous"),o.a.createElement("p",null,'We may revise this Policy from time to time without notice. If you have any questions or concerns regarding privacy using the Services, please send us a detailed message to us using "Report" button on any Site page.'))}),Zl=(n(446),function(){return o.a.createElement("div",{className:"page-tos"},o.a.createElement("title",null,"Terms of Service"),o.a.createElement("h1",null,"Terms of Service"),"These Terms of Service agreement (collectively with ",o.a.createElement(te.a,{to:"/p/privacy"},"Privacy Policy"),' , the "Terms") govern your access to and use of gifer.com(the "Site") and all other services, features, content or applications that link to these Terms(collectively with the Site, the "Services").',o.a.createElement("br",null),"Using Services to do anything other than access the links to this Terms page constitutes your consent to these Terms. If you do not consent, do not use our Site.",o.a.createElement("br",null),o.a.createElement("h2",null,"1. Who May Use the Services"),"You must be at least 13 years old to use the Services. If you are under 13, you may not, under any circumstances or for any reason, use the Services.",o.a.createElement("br",null),o.a.createElement("h2",null,"2. Your Account"),"You may need to create an account to use some of our Services. We reserve the right to require that you change your account username.",o.a.createElement("br",null),"You are responsible for safeguarding your account, so use a strong password and limit its use to this account. We cannot and will not be liable for any loss or damage arising from your failure to comply with the above.",o.a.createElement("br",null),"We may need to provide you with certain communications, such as service announcements and administrative messages. These communications are considered part of the Services and your account, and you may not be able to opt-out from receiving them.",o.a.createElement("br",null),'You can choose to delete your account contacting us by clicking "Report" button on any Site page.',o.a.createElement("br",null),o.a.createElement("h2",null,"3. Content You Contribute"),"You retain your rights and you are solely responsible for all of content you contribute to the Services. By uploading a file or other content or by making a comment, you represent and warrant to us that you don't violate or infringe anyone else's rights and you created the file or other content you are uploading, or otherwise have sufficient intellectual property rights to upload the material consistent with these Terms. With regard to any file or content you upload to the public portions of our site, you grant us a non-exclusive, royalty-free, perpetual, irrevocable worldwide license (with sublicense and assignment rights) to use, to display online and in any present or future media, to create derivative works of, to allow downloads of, and/or distribute any such file or content. If you contribute your content through a public part of the Services, you acknowledge that such User Content will be accessible to other users.",o.a.createElement("br",null),o.a.createElement("h2",null,"4. Your License to Use the Services"),"Subject to these Terms, we grant you a limited, non-exclusive, non-transferable, and revocable license to use the Services. The Services may contain copyrighted material (such as text, graphics, photographs, images, and illustrations), trademarks, and other proprietary information and materials of us and our licensors. Except for content that is in the public domain or content that you have permission to use in connection with your use of the Services and in compliance with these Terms, you shall not copy, modify, publish, transmit, distribute, perform, or display any content, not shall you sell, license, rent, or otherwise use or exploit any content for commercial use or in any way that violates any third party right.",o.a.createElement("br",null),o.a.createElement("h2",null,"5. Acceptable Use"),"You may use the Services only in compliance with these Terms and all applicable laws, rules and regulations. We reserve the right to terminate user account that violates these Terms. Keep in mind that we reserve the right to remove any content at any time whether or not it infringes or violates any of the Terms.",o.a.createElement("br",null),"If someone else might own the copyright to any content, don't upload it. Don't upload gore, \"hate speech\" (i.e. demeaning race, gender, age, religious or sexual orientation, etc.), or material that is threatening, harassing, defamatory, or that encourages violence or crime. Don't upload illegal content such as child porn or nonconsensual (\"revenge\") porn. Don't hotlink to adult content or to file-sharing, gambling, torrent, warez, or Gifer rip-off sites. Don't impersonate someone else. Also, don't use Gifer to host image libraries you link to from elsewhere, content for your website, advertising, avatars, or anything else that turns us into your content delivery network.",o.a.createElement("br",null),'If you see anything on our site that shouldn\'t be there because it violates our policies, is illegal, or for some other reason, please let us know by clicking "Report" button on the page contains the violation.',o.a.createElement("br",null),o.a.createElement("h2",null,"6. Disclaimer of Warranties, Limitations of Remedies, Indemnity"),"The Services are provided on an AS IS \u2013 WITH ALL FAULTS basis. Your use of the Services is entirely at your own risk. We do not guarantee the availability of our Services at any given time, or the reliability of our Services when it is running. We do not guarantee the integrity of, or the continued availability of, files on our servers. WE DISCLAIM ALL WARRANTIES, EXPRESS AND IMPLIED, INCLUDING WITHOUT LIMITATION IMPLIED WARRANTIES OF FITNESS AND MERCHANTABILITY. NOTWITHSTANDING ANYTHING ELSE STATED IN THESE TERMS, AND IRRESPECTIVE OF WHETHER GIFER TAKES OR DOES NOT TAKE MEASURES TO REMOVE INAPPROPRIATE OR HARMFUL CONTENT FROM THE SITE, WE HAVE NO DUTY TO MONITOR ANY CONTENT ON ITS SITE. WE DO NOT ASSUME RESPONSIBILITY FOR THE ACCURACY, APPROPRIATENESS, OR HARMLESSNESS OF ANY CONTENT APPEARING ON THE SITE THAT IS NOT PRODUCED BY GIFER, INCLUDING BUT NOT LIMITED TO USER CONTENT, ADVERTISING CONTENT, OR OTHERWISE.",o.a.createElement("br",null),"Your sole remedy for the loss of the Services is to discontinue your use of the Services. WE WILL NOT BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES ARISING OUT OF YOUR USE OF, OR INABILITY TO USE, SERVICES.",o.a.createElement("br",null),"YOU WILL INDEMNIFY AND HOLD THE SITE AND ALL OF ITS PERSONNEL HARMLESS FROM ALL LOSS, LIABILITY, CLAIMS, DAMAGES AND EXPENSES, INCLUDING REASONABLE ATTORNEY FEES, ARISING OUT OF OR RELATED TO YOUR VIOLATION OF THESE TERMS, YOUR INFRINGEMENT OF ANY THIRD PARTY'S RIGHTS, AND ANY HARM CAUSED TO ANY THIRD PARTY AS A RESULT OF YOUR UPLOADING OF FILES, COMMENTS, OR ANYTHING ELSE TO OUR SERVERS.",o.a.createElement("br",null),o.a.createElement("h2",null,"7. Miscellaneous"),"These Terms contain the entire agreement between you and us regarding the use of the Services. If any part of these Terms is invalid, the remaining provisions will be unaffected. These Terms constitute the entire agreement among the parties relating to this subject matter, and they will continue to govern any issues that arise out of your use of the Services even after you discontinue using them. We may revise these terms from time to time without notice.",o.a.createElement("br",null),o.a.createElement("br",null))}),ep=function(e){var t=e.component;return t?o.a.createElement(t,e.modalProps):null},tp=Object(a.b)(function(e){return{component:e.modal.component,modalProps:e.modal.props}})(ep);n(448);function np(e){return(np="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function op(e,t){return!t||"object"!==np(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ap(e){return(ap=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ip(e,t){return(ip=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var cp=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),op(this,ap(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ip(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillReceiveProps",value:function(e){var t=this;(e.isOpen||this.props.message!==e.message)&&(clearTimeout(this.timeout),this.timeout=setTimeout(function(){t.props.closeAlert()},2e3))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeout)}},{key:"render",value:function(){var e=this,t=["alert",this.props.type];return this.props.isOpen&&t.push("visible"),o.a.createElement("div",{className:"alert-provider"},o.a.createElement("div",{className:t.join(" "),onClick:function(){return e.props.closeAlert()}},this.props.message&&o.a.createElement(K.b,{id:this.props.message,values:this.props.values})))}}])&&rp(n.prototype,r),a&&rp(n,a),t}();cp.defaultProps={type:"success",message:null,values:{}};var sp=cp,up={closeAlert:function(){return{type:"CLOSE_ALERT"}}},lp=Object(a.b)(function(e){return{message:e.alertMessage.message,values:e.alertMessage.values,type:e.alertMessage.type,isOpen:e.alertMessage.isOpen}},up)(sp),pp=function(){return{type:"OPEN_MENU"}},fp=function(){return{type:"CLOSE_MENU"}};n(450);function mp(e){return(mp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hp(e){return(hp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yp(e,t){return(yp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function bp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var vp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=hp(t).call(this,e))||"object"!==mp(o)&&"function"!==typeof o?bp(r):o).state={visible:!1,showLanguages:!1},n.showLanguages=n.showLanguages.bind(bp(bp(n))),n.handleClick=n.handleClick.bind(bp(bp(n))),n.handleDocumentClick=n.handleDocumentClick.bind(bp(bp(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yp(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick)}},{key:"showLanguages",value:function(e){e.stopPropagation(),this.setState({showLanguages:!this.state.showLanguages})}},{key:"handleDocumentClick",value:function(e){this.state.visible&&!this.popupRef.contains(e.target)&&this.hidePopup()}},{key:"handleClick",value:function(){this.state.visible?this.hidePopup():this.setState({visible:!0})}},{key:"hidePopup",value:function(){this.setState({visible:!1,showLanguages:!1})}},{key:"renderLangMenu",value:function(){var e="undefined"!==typeof window?window.location.pathname.replace(/\/\w{2}(\W|)/,""):"",t=!this.props.isAuth||this.state.showLanguages?"block":"none";return o.a.createElement("ul",{style:{display:t}},this.props.locales.map(function(t){return o.a.createElement("li",{key:t},o.a.createElement("a",{href:"/".concat(t,"/").concat(e)},o.a.createElement(K.b,{id:"lang.".concat(t)},function(e){return o.a.createElement("span",null,o.a.createElement("b",null,t.toUpperCase())," \u2013 ",e)})))}))}},{key:"renderMainMenu",value:function(){var e=this,t=this.state.showLanguages?"none":"block";return o.a.createElement("ul",{style:{display:t}},o.a.createElement("li",null,o.a.createElement("div",{onClick:this.showLanguages},o.a.createElement(de,{name:"icon-globe",size:27,style:{marginRight:5}}),o.a.createElement("span",{style:{flex:1}},o.a.createElement(K.b,{id:"lang.".concat(this.props.locale)},function(t){return o.a.createElement("span",null,o.a.createElement("b",null,e.props.locale.toUpperCase())," \u2013 ",t)})),o.a.createElement(de,{name:"icon-arrow-left-2",size:21}))),o.a.createElement("li",null,o.a.createElement("div",{onClick:this.props.onLogout},o.a.createElement(K.b,{id:"menu.logout"}))))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{ref:function(t){return e.popupRef=t},onClick:this.handleClick},o.a.createElement("div",{className:"menu-user-popup ".concat(this.props.isMobile?"mobile":""),style:{display:this.state.visible?"block":"none"}},this.renderLangMenu(),this.props.isAuth&&this.renderMainMenu()),this.props.children)}}])&&dp(n.prototype,r),a&&dp(n,a),t}();vp.defaultProps={isMobile:!1};var gp=vp,Ep=(n(452),function(e){return o.a.createElement("div",{className:"menu-user-panel mobile"},!0===e.isAuth&&o.a.createElement(le,{type:"transparent",style:{justifyContent:"flex-start",color:"#fff"},href:"/user/".concat(e.id,"/touches"),size:"s50",icon:o.a.createElement(de,{name:"icon-user",size:"26px",className:"menu-user-panel__user-icon"})},e.username),!0===e.isAuth&&o.a.createElement(le,{type:"transparent",href:"/user/".concat(e.id,"/favorites"),size:"s50",icon:o.a.createElement(de,{name:"icon-like",size:"26px",color:"#fff"})}),!1===e.isAuth&&o.a.createElement(le,{size:"s50",style:{justifyContent:"flex-start",color:"#fff"},onClick:e.onLoginClick,type:"transparent",icon:o.a.createElement(de,{name:"icon-login",size:"24px"})},o.a.createElement(K.b,{id:"menu.auth_button"})),o.a.createElement(gp,{isMobile:!0,isAuth:e.isAuth,onLogout:e.logout,locales:e.locales,locale:e.locale},!0===e.isAuth&&o.a.createElement(le,{size:"s50",type:"transparent",icon:o.a.createElement(de,{name:"icon-gear",size:27,color:"#fff"})}),!1===e.isAuth&&o.a.createElement(le,{style:{color:"#fff",minWidth:0},size:"s50",type:"transparent",icon:o.a.createElement(de,{name:"icon-globe",size:27,color:"#fff"})},e.locale.toUpperCase())))}),wp=(n(454),function(e){var t={justifyContent:"flex-start"};return o.a.createElement("div",{className:"menu-user-panel desktop"},e.isAuth?o.a.createElement(le,{style:t,size:"small",href:"/user/".concat(e.id,"/touches"),icon:o.a.createElement(de,{name:"icon-user",style:{marginLeft:-12,padding:10,backgroundColor:"rgb(109, 181, 172)"}})},e.username):o.a.createElement(le,{style:t,size:"small",onClick:e.onLoginClick,icon:o.a.createElement(de,{name:"icon-login"})},o.a.createElement(K.b,{id:"menu.auth_button"})),o.a.createElement(gp,{isAuth:e.isAuth,onLogout:e.logout,locales:e.locales,locale:e.locale},e.isAuth?o.a.createElement(le,{className:"menu-user-panel__settings",size:"small"},o.a.createElement(de,{name:"icon-gear",size:24,color:"#b3b3b3"})):o.a.createElement(le,{size:"small",style:{minWidth:0},icon:o.a.createElement(de,{name:"icon-globe",size:23})},e.locale.toUpperCase())))}),Op=function(e){return o.a.createElement(ns,{mobile:o.a.createElement(Ep,e),desktop:o.a.createElement(wp,e)})},_p=Object(a.b)(function(e){return{isAuth:!!e.auth.myId,id:e.auth.myId,locale:e.intl.locale,locales:e.intl.locales,username:e.auth.myId?e.users.entities[e.auth.myId].username:null}},function(e){return{logout:function(){return e({type:j})},onLoginClick:function(){return e(Xt(or))}}})(Op),Sp=(n(456),function(e){return!1===e.isOpen?null:o.a.createElement("div",{className:"vertical-menu-mobile"},o.a.createElement("div",{className:"vertical-menu-mobile__overlay",onClick:e.closeMenu,onTouchMove:e.closeMenu}),o.a.createElement("div",{className:"vertical-menu-mobile__menu"},o.a.createElement("div",{className:"vertical-menu-mobile__user-panel"},o.a.createElement(_p,null)),o.a.createElement("div",{className:"vertical-menu-mobile__categories"},e.categories.map(function(e){var t=_t("https://i.gifer.com","".concat(e.image,"_mob"),"gif"),n=_t("https://i.gifer.com","".concat(e.image,"_w200"),"webp"),r="undefined"===typeof window?"#000000":ge()({luminosity:"light"});return o.a.createElement(te.a,{to:"/category/".concat(e.slug),className:"vertical-menu-mobile__categories-item",key:e.id},o.a.createElement("picture",{className:"vertical-menu-mobile__categories-item-bg",style:{backgroundColor:r}},o.a.createElement("source",{srcSet:n,type:"image/webp"}),o.a.createElement("source",{srcSet:t,type:"image/gif"}),o.a.createElement("img",{key:t,className:"vertical-menu-mobile__categories-item-image",itemProp:"contentUrl",alt:"",src:t})),o.a.createElement("div",{className:"vertical-menu-mobile__categories-item-name"},e.name))}),o.a.createElement("div",{className:"vertical-menu-mobile__links"},o.a.createElement(te.a,{className:"vertical-menu-mobile__links-item",to:"/p/privacy"},o.a.createElement(K.b,{id:"menu.privacy-policy"})),o.a.createElement(te.a,{className:"vertical-menu-mobile__links-item",to:"/p/tos"},o.a.createElement(K.b,{id:"menu.terms-of-service"}))))))});Sp.defaultProps={isOpen:!1,categories:[],closeMenu:function(){}};var Cp=Sp,kp={closeMenu:fp},jp=Object(a.b)(function(e){return{isOpen:e.menu.isOpen,categories:Object.values(e.categories.entities)}},kp)(Cp),Dp=n(147),Pp=n.n(Dp);n(458);function Ap(e){return(Ap="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tp(e){return(Tp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Np(e,t){return(Np=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Mp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Tp(t).call(this,e))||"object"!==Ap(o)&&"function"!==typeof o?Fp(r):o).state={url:""},n.onButtonClick=n.onButtonClick.bind(Fp(Fp(n))),n.onDrop=n.onDrop.bind(Fp(Fp(n))),n.handleKeyPress=n.handleKeyPress.bind(Fp(Fp(n))),n.handleChangeUrl=n.handleChangeUrl.bind(Fp(Fp(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Np(e,t)}(t,o.a.Component),n=t,(r=[{key:"onButtonClick",value:function(){this.dropzone.open()}},{key:"onDrop",value:function(e){this.props.onSelect(e)}},{key:"handleChangeUrl",value:function(e){this.setState({url:e.target.value})}},{key:"handleKeyPress",value:function(e){"Enter"===e.key&&this.props.onSelect([this.state.url])}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"upload-gif"},this.props.showTitle&&o.a.createElement("div",{className:"upload-gif__title"},o.a.createElement(K.b,{id:"upload.tooltip_title"})),o.a.createElement(Pp.a,{disableClick:!0,style:{},ref:function(t){e.dropzone=t},onDrop:this.onDrop,accept:["image/gif","video/*"]},o.a.createElement(le,{block:!0,type:"default",onClick:this.onButtonClick,size:"s50"},o.a.createElement(K.b,{id:"upload.button_upload"})),o.a.createElement("div",{className:"upload-gif__separator"},o.a.createElement(K.b,{id:"or"})),o.a.createElement("input",{className:"upload-gif__input",type:"text",placeholder:this.props.intl.formatMessage({id:"upload.placeholder_link"}),value:this.state.url,onKeyPress:this.handleKeyPress,onChange:this.handleChangeUrl,autoFocus:this.props.autoFocus})))}}])&&xp(n.prototype,r),a&&xp(n,a),t}();Mp.defaultProps={showTitle:!1,autoFocus:!1,onSelect:function(){}};var Lp=Object(K.e)(Mp),Ip="START_UPLOAD",Rp="FILE_UPLOAD_REQUEST",Up=function(e,t){return{id:e,progress:t,type:"FILE_UPLOAD_PROGRESS"}},Bp=function(e,t){return{id:e,data:t,type:"FILE_UPLOAD_SUCCESS"}},Hp=function(e,t){return{id:e,file:t,type:Rp}},zp=function(e,t){return{id:e,error:t,type:"FILE_UPLOAD_FAILURE"}},Wp=Object(a.b)(null,function(e){return{onSelect:function(t){return e(function(e){return{files:e,type:Ip}}(t))}}})(Lp);n(460);function qp(e){return(qp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vp(e){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kp(e,t){return(Kp=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qp=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vp(t).call(this,e))||"object"!==qp(o)&&"function"!==typeof o?Yp(r):o).state={showTooltip:!1},n.handleClickUpload=n.handleClickUpload.bind(Yp(Yp(n))),n.handleClickOverlay=n.handleClickOverlay.bind(Yp(Yp(n))),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kp(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){this.props.location.key!==e.location.key&&this.setState({showTooltip:!1})}},{key:"handleClickUpload",value:function(e){e.stopPropagation(),this.state.showTooltip?this.closeTooltip():this.openTooltip()}},{key:"handleClickOverlay",value:function(){this.closeTooltip()}},{key:"openTooltip",value:function(){this.setState({showTooltip:!0})}},{key:"closeTooltip",value:function(){this.setState({showTooltip:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"hor-menu mobile"},o.a.createElement("div",{className:"controls"},o.a.createElement(le,{className:"menu-button",type:"transparent",icon:o.a.createElement(de,{size:"27px",name:"icon-menu",color:"white"}),onClick:this.props.openMenu}),o.a.createElement(te.a,{className:"logo",to:"/"},o.a.createElement("img",{src:kl.a,alt:"logo",className:"hor-menu__logo"}),o.a.createElement(de,{size:"21px",name:"icon-logo-text",color:"white"})),o.a.createElement("div",{className:"hor-menu__upload"},o.a.createElement(le,{className:"hor-menu__upload-button ".concat(this.state.showTooltip?"hor-menu__upload-button_active":""),type:"transparent",icon:o.a.createElement(de,{size:"27px",name:"icon-plus",color:"white"}),onClick:this.handleClickUpload}),this.state.showTooltip&&o.a.createElement("div",{className:"hor-menu__upload-tooltip",ref:function(t){return e.tooltip=t}},o.a.createElement(Wp,{showTitle:!0})),this.state.showTooltip&&o.a.createElement("div",{className:"hor-menu__overlay",onTouchMove:this.handleClickOverlay,onClick:this.handleClickOverlay}))))}}])&&Gp(n.prototype,a),i&&Gp(n,i),t}(),Jp=Object(h.a)(Qp);n(462);function Xp(e){return(Xp="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zp(e){return(Zp=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ef(e,t){return(ef=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var nf=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Zp(t).call(this,e))||"object"!==Xp(o)&&"function"!==typeof o?tf(r):o).state={showTooltip:!1},n.handleClick=n.handleClick.bind(tf(tf(n))),n.handleClickUpload=n.handleClickUpload.bind(tf(tf(n))),n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ef(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){this.props.location.key!==e.location.key&&this.setState({showTooltip:!1})}},{key:"handleClickUpload",value:function(e){e.stopPropagation(),this.state.showTooltip?this.closeTooltip():this.openTooltip()}},{key:"handleClick",value:function(e){this.tooltip&&(!1===this.tooltip.contains(e.target)&&this.closeTooltip())}},{key:"openTooltip",value:function(){this.setState({showTooltip:!0}),window.addEventListener("click",this.handleClick)}},{key:"closeTooltip",value:function(){this.setState({showTooltip:!1}),window.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"hor-menu desktop"},o.a.createElement("div",{className:"controls"},o.a.createElement(_p,null),o.a.createElement("div",{className:"hor-menu__upload"},o.a.createElement(le,{className:"hor-menu__upload-button ".concat(this.state.showTooltip?"hor-menu__upload-button_active":""),icon:o.a.createElement(de,{name:"icon-plus-web",color:"#fff",size:27}),size:"small",onClick:this.handleClickUpload},o.a.createElement(K.b,{id:"menu.upload_button"})),this.state.showTooltip&&o.a.createElement("div",{className:"hor-menu__upload-tooltip",ref:function(t){return e.tooltip=t}},o.a.createElement(Wp,{autoFocus:!0})))))}}])&&$p(n.prototype,a),i&&$p(n,i),t}(),rf=Object(h.a)(nf),of=function(e){return o.a.createElement(ns,{mobile:o.a.createElement(Jp,e),desktop:o.a.createElement(rf,e)})},af=Object(a.b)(function(e){return{isSearchOpen:e.search.isOpen,query:e.search.query,pathname:Object(Ms.get)(e,"router.location.pathname"),tagUrl:(t="undefined"!==typeof window&&/\/s\/([^\/?]+)/.exec(window.location.href),t?"".concat(Rt(t[1])):"")};var t},function(e){return{openMenu:function(){return e({type:"OPEN_MENU"})},onUploadClick:function(){return e(Xt(Wp))}}})(of);n(464);function cf(e){return(cf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uf(e){return(uf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function lf(e,t){return(lf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function pf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ff=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=uf(t).call(this,e))||"object"!==cf(o)&&"function"!==typeof o?pf(r):o).handleChange=n.handleChange.bind(pf(pf(n))),n.handleSubmit=n.handleSubmit.bind(pf(pf(n))),n.handleFocus=n.handleFocus.bind(pf(pf(n))),n.handleBlur=n.handleBlur.bind(pf(pf(n))),n.handleClickOpenMenu=n.handleClickOpenMenu.bind(pf(pf(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&lf(e,t)}(t,o.a.Component),n=t,(r=[{key:"handleFocus",value:function(e){var t=e.target.value;e.target.value="",e.target.value=t,setTimeout(this.props.onFocus,50)}},{key:"handleBlur",value:function(){this.props.onBlur()}},{key:"handleChange",value:function(e){var t=e.target.value;this.changeQuery(t)}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.input.blur(),this.props.query&&this.props.onSubmit()}},{key:"handleClickOpenMenu",value:function(e){e.preventDefault(),this.props.openMenu()}},{key:"changeQuery",value:function(e){this.props.onChange(e)}},{key:"render",value:function(){var e=this,t=["search-dropdown-input",this.props.isMobile?"mobile":"desktop",this.props.showMenuButton?"search-dropdown-input_show-menu-button":""].join(" ");return o.a.createElement("form",{action:"",className:t,onSubmit:this.handleSubmit},o.a.createElement("button",{"aria-label":"Button",type:"submit",onClick:this.handleSubmit,style:{position:"absolute",left:-100}}),o.a.createElement("div",{className:"search-dropdown-input__menu"},o.a.createElement(le,{onClick:this.handleClickOpenMenu,className:"search-dropdown-input__menu-button",type:"transparent",size:"large",icon:o.a.createElement(de,{size:"27px",name:"icon-menu"})})),o.a.createElement("input",{name:"search",ref:function(t){e.input=t,e.props.inputRef(t)},onChange:this.handleChange,onTouchStart:this.props.onTouchStart,onBlur:this.props.onBlur,onFocus:this.handleFocus,onClick:this.props.onClick,value:this.props.query,placeholder:this.context.intl.formatMessage({id:"search.placeholder"}),"aria-label":this.context.intl.formatMessage({id:"search.placeholder"}),autoCorrect:"off",autoComplete:"off",autoCapitalize:"off",spellCheck:"off",className:"search-dropdown-input__input"}),o.a.createElement("div",{className:"search-dropdown-input__input-buttons"},this.props.query.length>0&&o.a.createElement(le,{type:"transparent",icon:o.a.createElement(de,{size:"24px",name:"icon-close"}),nativeProps:{onMouseDown:function(t){e.changeQuery(""),t.preventDefault()}}}),o.a.createElement(le,{type:"gradient",size:"large",icon:o.a.createElement(de,{size:"27px",name:"icon-search"}),onClick:this.handleSubmit})))}}])&&sf(n.prototype,r),a&&sf(n,a),t}();ff.defaultProps={query:void 0,showMenuButton:!1,openMenu:function(){},inputRef:function(){},onBlur:function(){},onChange:function(){},onFocus:function(){},onTouchStart:function(){},onClick:function(){},onSubmit:function(){}},ff.contextTypes={intl:Ot.a.objectOf(Ot.a.any)};var mf=ff,df=(n(466),function(e){var t=e.highlight,n=e.text,r=e.className,a=t.trim().replace(/[-[\]{}()*+?,\\^$|#\s]/g,"\\$&"),i=new RegExp("((?:\\s)|(?:^))(".concat(a,")"),"ig"),c=n.split(i).map(function(e,t){return e.toLowerCase()===a.toLowerCase()?o.a.createElement("span",{key:t,className:r},e):o.a.createElement("span",{key:t},e)});return o.a.createElement("span",{className:"highlight-text"},c)});df.defaultProps={className:"highlight-text__highlight"};var hf=df,yf=(n(468),function(e){return o.a.createElement(te.a,{to:e.href,className:"search-results-item ".concat(e.isActive?"search-results-item_active":"")},e.leftIcon,o.a.createElement("span",{className:"name"},e.highlight?o.a.createElement(hf,{highlight:e.highlight,text:e.title}):e.title))}),bf=function(e){var t=e.matches,n=e.highlight,r=e.activeItem;return o.a.createElement("div",null,t.map(function(e,t){return o.a.createElement(yf,{href:"/gifs/".concat(It(e)),key:e,title:e,highlight:n,isActive:r===t})}))};n(470);function vf(e){return(vf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ef(e,t){return!t||"object"!==vf(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function wf(e){return(wf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Of(e,t){return(Of=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var _f=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Ef(this,wf(t).apply(this,arguments))}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Of(e,t)}(t,o.a.Component),n=t,(r=[{key:"shouldComponentUpdate",value:function(e){return!0===this.props.isLoading&&!1===e.isLoading}},{key:"render",value:function(){return o.a.createElement("div",{className:"search-results mobile"},o.a.createElement("div",{className:"search-results-panel"},o.a.createElement(bf,{matches:this.props.matches,highlight:this.props.query})))}}])&&gf(n.prototype,r),a&&gf(n,a),t}();_f.defaultProps={query:"",isLoading:!1};var Sf=_f;n(472);function Cf(e){return(Cf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function jf(e){return(jf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Df(e,t){return(Df=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Pf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Af=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=jf(t).call(this,e))||"object"!==Cf(o)&&"function"!==typeof o?Pf(r):o).state={active:-1},n.handleKeydown=n.handleKeydown.bind(Pf(Pf(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Df(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeydown)}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.state.active!==t.active,r=!0===this.props.isLoading&&!1===e.isLoading;return n||r}},{key:"componentWillUpdate",value:function(e){!0===this.props.isLoading&&!1===e.isLoading&&this.setState({active:-1})}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeydown)}},{key:"handleKeydown",value:function(e){var t=this.state.active;t+="ArrowDown"===e.key?1:0,-2===(t-="ArrowUp"===e.key?1:0)&&(t=this.props.matches.length-1),t===this.props.matches.length&&(t=-1),this.state.active!==t&&(e.stopPropagation(),e.preventDefault(),this.setState({active:t}),this.props.onKeyboardSelect(t,this.props.matches[t]))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"search-results desktop"},o.a.createElement("div",{className:"search-results-panel",ref:function(t){return e.el=t}},o.a.createElement(bf,{activeItem:this.state.active,matches:this.props.matches,highlight:this.props.query})))}}])&&kf(n.prototype,r),a&&kf(n,a),t}();Af.defaultProps={onKeyboardSelect:function(){},query:"",isLoading:!1};var xf=Af,Tf=function(e){return o.a.createElement(ns,{mobile:o.a.createElement(Sf,e),desktop:o.a.createElement(xf,e)})},Nf=Object(a.b)(function(e){return{query:e.search.query,isLoading:e.search.isLoading,matches:e.search.matches.slice(0,8)}})(Tf);n(474);function Ff(e){return(Ff="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Lf(e){return(Lf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function If(e,t){return(If=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Rf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Uf={query:void 0,queryKeyboard:void 0,focus:!1},Bf=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Lf(t).call(this,e))||"object"!==Ff(o)&&"function"!==typeof o?Rf(r):o).handleClick=n.handleClick.bind(Rf(Rf(n))),n.handleFocus=n.handleFocus.bind(Rf(Rf(n))),n.handleChange=n.handleChange.bind(Rf(Rf(n))),n.handleSubmit=n.handleSubmit.bind(Rf(Rf(n))),n.closeDropdown=n.closeDropdown.bind(Rf(Rf(n))),n.handleClickOverlay=n.handleClickOverlay.bind(Rf(Rf(n))),n.state=Uf,n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&If(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentWillReceiveProps",value:function(e){this.props.location.key!==e.location.key&&this.setState(Uf)}},{key:"handleClick",value:function(e){!1===this.container.contains(e.target)&&this.closeDropdown()}},{key:"handleChange",value:function(e){this.props.searchRequest(e),this.setState({query:e,queryKeyboard:void 0,focus:!0})}},{key:"handleFocus",value:function(){this.openDropdown()}},{key:"handleSubmit",value:function(){var e=this.state.queryKeyboard||this.state.query;e&&(wr({event:"enter-search"}),this.props.history.push("/gifs/".concat(It(e))))}},{key:"openDropdown",value:function(){this.setState({focus:!0}),"undefined"!==typeof window&&window.addEventListener("click",this.handleClick)}},{key:"closeDropdown",value:function(){this.setState({focus:!1}),"undefined"!==typeof window&&window.removeEventListener("click",this.handleClick)}},{key:"handleClickOverlay",value:function(e){return this.input.blur(),this.closeDropdown(),e.stopPropagation(),e.preventDefault(),!1}},{key:"render",value:function(){var e=this,t=this.state.queryKeyboard||this.state.query||this.props.query||"",n=["search-dropdown",[this.state.focus?"search-dropdown_focus":""],[this.props.isMobile?"search-dropdown_mobile":"search-dropdown_desktop"]].join(" ");return o.a.createElement("div",{className:n,ref:function(t){return e.container=t}},this.props.showOverlay&&this.state.focus&&o.a.createElement("div",{className:"search-dropdown__overlay",onTouchMove:this.handleClickOverlay,onClick:this.handleClickOverlay}),o.a.createElement(mf,Object.assign({},this.props,{inputRef:function(t){return e.input=t},key:"search-dropdown-input-".concat(this.props.location.pathname),isMobile:this.props.isMobile,query:t,onChange:this.handleChange,onFocus:this.handleFocus,onSubmit:this.handleSubmit,showMenuButton:this.props.isMobile&&!this.state.focus&&this.props.showMenuButton})),t&&this.state.focus&&o.a.createElement("div",{className:"search-dropdown__results"},o.a.createElement(Nf,{onKeyboardSelect:function(t,n){return e.setState({queryKeyboard:n})}})))}}])&&Mf(n.prototype,a),i&&Mf(n,i),t}();Bf.defaultProps={isMobile:!1,showOverlay:!1,showMenuButton:!1};var Hf=Bf,zf={openMenu:pp,searchRequest:function(e){return{type:Ao,query:e}}},Wf=Object(h.a)(Object(a.b)(function(e){return{query:e.search.query}},zf)(Hf));function qf(e){return(qf="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vf(e){return(Vf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kf(e,t){return(Kf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Yf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Qf=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=Vf(t).call(this,e))||"object"!==qf(o)&&"function"!==typeof o?Yf(r):o).handleScroll=we()(n.handleScroll.bind(Yf(Yf(n))),200),n.state={showMenu:!1},n}var n,a,i;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Kf(e,t)}(t,r["Component"]),n=t,(a=[{key:"componentDidMount",value:function(){"undefined"!==typeof window&&window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){"undefined"!==typeof window&&window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var e=window.scrollY>50;this.state.showMenu!==e&&this.setState({showMenu:e})}},{key:"render",value:function(){return o.a.createElement(Wf,{isMobile:!0,showOverlay:!0,showMenuButton:this.state.showMenu})}}])&&Gf(n.prototype,a),i&&Gf(n,i),t}(),Jf=(n(476),function(e){return o.a.createElement("div",null,o.a.createElement(lp,null),o.a.createElement(tp,null),o.a.createElement("div",{className:"app mobile"},o.a.createElement("div",{className:"vertical-menu-container"},o.a.createElement(jp,null)),o.a.createElement("div",{className:"app-content"},o.a.createElement(af,null),o.a.createElement("div",{className:"app-content__search"},o.a.createElement(Qf,null)),e.children)))}),Xf=n(148),$f=n.n(Xf),Zf=(n(519),function(e){return o.a.createElement("li",{className:e.className},o.a.createElement(te.a,{to:e.to},e.icon,e.text))});Zf.dedaultProps={className:""};var em=function(e){return o.a.createElement("ul",{className:"vertical-menu-categories"},e.isAuth&&o.a.createElement(Zf,{icon:o.a.createElement(de,{name:"icon-like",color:"#c65656",size:24}),className:"main",to:"/user/".concat(e.myId,"/favorites"),text:o.a.createElement(K.b,{id:"menu.favorites"})}),o.a.createElement(Zf,{icon:o.a.createElement(de,{name:"icon-reactions",color:"#fdca47",size:24}),className:"main last-main",to:"/category/".concat(e.specialCategory.slug),text:e.specialCategory.name}),e.categories.map(function(e){return o.a.createElement(Zf,{key:e.id,to:"/category/".concat(e.slug),text:e.name})}))},tm=Object(a.b)(function(e){var t=Object.values(e.categories.entities),n=t.find(function(e){return e.special})||{};return{categories:t,specialCategory:n,myId:e.auth.myId,isAuth:!!e.auth.myId}})(em),nm=(n(521),function(){return o.a.createElement($f.a,null,o.a.createElement("div",{className:"vertical-menu"},o.a.createElement(te.a,{className:"vertical-menu__logo",to:"/"},o.a.createElement("img",{src:kl.a,alt:"logo",className:"vertical-menu__logo-image"}),o.a.createElement(de,{size:"27px",color:"#fff",name:"icon-logo-text"})),o.a.createElement("div",{className:"vertical-menu__categories"},o.a.createElement(tm,null)),o.a.createElement("div",{className:"vertical-menu__links"},o.a.createElement(te.a,{className:"vertical-menu__links-item",to:"/p/privacy"},o.a.createElement(K.b,{id:"menu.privacy-policy"})),o.a.createElement(te.a,{className:"vertical-menu__links-item",to:"/p/tos"},o.a.createElement(K.b,{id:"menu.terms-of-service"})))))}),rm=(n(523),function(e){return o.a.createElement("div",null,o.a.createElement(lp,null),o.a.createElement(tp,null),o.a.createElement("div",{className:"app desktop"},o.a.createElement("div",{className:"vertical-menu-container"},o.a.createElement(nm,null)),o.a.createElement("div",{className:"app-content"},o.a.createElement(af,null),o.a.createElement("div",{className:"app-content__search"},o.a.createElement(Wf,null)),e.children)))}),om=(n(525),n(527),n(529),function(e){return o.a.createElement(ns,{mobile:o.a.createElement(Jf,e),desktop:o.a.createElement(rm,e)})});function am(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var im=function(e,t){return function(n){var r=decodeURIComponent(n.match.params.id),a=It(Rt(n.match.params.id),!1);return r===a?o.a.createElement(t,n):o.a.createElement(Y.a,{to:"".concat(e,"/").concat(It(a))})}},cm=function(e){var t=e.isMobile,n=am(e,["isMobile"]);return o.a.createElement(om,{isMobile:t},o.a.createElement(Q.a,n))},sm=function(e){return o.a.createElement(K.c,e,o.a.createElement(J.a,null,o.a.createElement(Q.a,{exact:!0,path:"/embed/:id",component:Xl}),o.a.createElement(cm,{exact:!0,path:"/",component:Ma}),o.a.createElement(cm,{exact:!0,path:"/events/:id",component:fl}),o.a.createElement(cm,{exact:!0,path:"/emoji/:slug",component:Sl}),o.a.createElement(cm,{exact:!0,path:"/category/:id",component:Fs}),o.a.createElement(cm,{exact:!0,path:"/search/:id",render:function(e){return o.a.createElement(Y.a,{to:"/gifs/".concat(e.match.params.id)})}}),o.a.createElement(cm,{exact:!0,path:"/s/:id",render:im("/s",cu)}),o.a.createElement(cm,{exact:!0,path:"/gifs/:id",render:im("/gifs",hu)}),o.a.createElement(cm,{path:"/user/:id",component:Zu}),o.a.createElement(cm,{exact:!0,path:"/p/privacy",component:$l}),o.a.createElement(cm,{exact:!0,path:"/p/tos",component:Zl}),o.a.createElement(cm,{exact:!0,path:"/:id",component:ms})))};sm.defaultProps={isMobile:!1};var um=sm;function lm(e){return(lm="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fm(e){return(fm=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mm(e,t){return(mm=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function dm(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var hm=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,(n=!(o=fm(t).call(this,e))||"object"!==lm(o)&&"function"!==typeof o?dm(r):o).handleWindowResize=n.handleWindowResize.bind(dm(dm(n))),n}var n,r,a;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&mm(e,t)}(t,o.a.Component),n=t,(r=[{key:"componentWillMount",value:function(){this.props.initEnv(),this.props.initIntl(),this.props.initAuth(),this.props.fetchCategoriesRequest(),this.props.fetchUploadServersRequest()}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleWindowResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleWindowResize)}},{key:"handleWindowResize",value:function(){this.props.changeEnvVariable("width",window.innerWidth)}},{key:"render",value:function(){return this.props.isReady?o.a.createElement(um,this.props):null}}])&&pm(n.prototype,r),a&&pm(n,a),t}();hm.defaultProps={isReady:!1};var ym={initEnv:function(){return{type:y}},initIntl:function(){return{type:v}},initAuth:function(){return{type:_}},fetchCategoriesRequest:function(){return{type:R}},fetchUploadServersRequest:function(){return{type:q}},changeEnvVariable:b},bm=Object(h.a)(Object(a.b)(function(e){var t=e.intl.locale,n=e.intl.messages[t];return{messages:n,locale:t,isReady:n&&e.categories.fetch.isLoaded&&e.uploadServers.isLoaded,isMobile:e.env.isMobile}},ym)(hm)),vm=n(17),gm=n(47);function Em(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){wm(e,t,n[t])})}return e}function wm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Om={locale:null,locales:"en;ru".split(";"),messages:{}};function _m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Sm(e,t,n[t])})}return e}function Sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cm={isOpen:!1};function km(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){jm(e,t,n[t])})}return e}function jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dm={myId:null,loginError:null,signupError:null,emailChecks:{},error:null,isLoaded:!1};function Pm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){xm(e,t,n[t])})}return e}function xm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Nm(e,t,n[t])})}return e}function Nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Fm={ids:[],error:null,isLoading:!1,isLoaded:!1},Mm=Object(vm.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.entities&&t.entities.categories?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Pm(e,t,n[t])})}return e}({},e,t.entities.categories):e},fetch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Tm({},e,{isLoading:!0,isLoaded:!1,error:null});case"FETCH_CATEGORIES_FAILURE":return Tm({},e,{error:t.error,isLoading:!1,isLoaded:!1});case"FETCH_CATEGORIES_SUCCESS":return Tm({},e,{isLoading:!1,isLoaded:!0,ids:t.ids});default:return e}},tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U:return Am({},e,xm({},t.categoryId,{isLoaded:!1,isLoading:!0,error:null,ids:[]}));case"CATEGORY_TAGS_SUCCESS":return Am({},e,xm({},t.categoryId,{isLoaded:!0,isLoading:!1,error:null,ids:t.ids}));case"CATEGORY_TAGS_FAILURE":return Am({},e,xm({},t.categoryId,{isLoaded:!1,isLoading:!1,error:t.error}));default:return e}}});function Lm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Im(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Um(e,t,n[t])})}return e}function Um(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bm(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){zm(e,t,n[t])})}return e}function zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wm=Object(vm.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(t.entities&&t.entities.media)return Rm({},e,t.entities.media);switch(t.type){case Kt:return Rm({},e,Um({},t.id,Rm({},e[t.id],{liked:t.like})));case"LIKE_MEDIA_FAILURE":return Rm({},e,Um({},t.id,Rm({},e[t.id],{liked:!t.like})));default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case nt:return Hm({},e,zm({},t.list,{isLoading:!0,isLoaded:!(!t.skip||!e[t.list])&&e[t.list].isLoaded,ids:t.skip&&e[t.list]?e[t.list].ids:[]}));case"FETCH_MEDIA_LIST_SUCCESS":return Hm({},e,zm({},t.list,{isLoading:!1,isLoaded:!0,count:t.count,ids:t.append?[].concat(Bm(e[t.list].ids),Bm(t.ids)):t.ids}));case"FETCH_MEDIA_LIST_FAILURE":return Hm({},e,zm({},t.list,{isLoading:!1}));case"ADD_MEDIA_TO_LIST":return Hm({},e,zm({},t.list,Hm({},e[t.list],{ids:e[t.list]?[t.id].concat(Bm(e[t.list].ids)):[t.id]})));default:return e}},lastFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SAVE_MEDIA_LIST_FILTER"===t.type?t.filter:e},pageFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SAVE_MEDIA_PAGE_FILTER"===t.type?t.filter:e}});function qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Gm(e,t,n[t])})}return e}function Gm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Vm={isLoading:!1,isLoaded:!1,data:null,error:null},Km=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return qm({},e,{isLoading:!0,isLoaded:!1,error:null,data:null});case"FETCH_UPLOAD_SERVERS_SUCCESS":return qm({},e,{data:t.data,isLoading:!1,isLoaded:!0,error:null});case"FETCH_UPLOAD_SERVERS_FAILURE":return qm({},e,{isLoading:!1,isLoaded:!1,error:t.error});default:return e}};function Ym(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Jm(e,t,n[t])})}return e}function Jm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xm=Object(vm.c)({entities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.entities&&t.entities.users?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Ym(e,t,n[t])})}return e}({},e,t.entities.users):e},fullEntities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.entities&&t.entities.fullUsers&&(e=Qm({},e,t.entities.fullUsers)),t.type){case"CREATE_MEDIA_SUCCESS":var n=t.entities.media[t.id].creator;return e[n]&&e[n].counters?Qm({},e,Jm({},n,Qm({},e[n],{counters:Qm({},e[n].counters,{gifs:e[n].counters.gifs+1})}))):e;default:return e}}});function $m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Zm(e,t,n[t])})}return e}function Zm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ed(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var td={matches:[],error:null,query:"",isLoading:!1,isLoaded:!1,isOpen:!1,searchHints:[]};function nd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){rd(e,t,n[t])})}return e}function rd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var od={component:null,props:{}};function ad(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){id(e,t,n[t])})}return e}function id(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var cd={progress:{},count:0};function sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ud={isMobile:!1,width:0,height:0,url:"",clientType:"browser",speed:void 0};function ld(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){pd(e,t,n[t])})}return e}function pd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fd={message:null,type:null,values:{},isOpen:!1};function md(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function dd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){hd(e,t,n[t])})}return e}function hd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var yd={isLoading:!1,isLoaded:!1,data:[],error:void 0};function bd(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){gd(e,t,n[t])})}return e}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ed={isLoading:!1,isLoaded:!1,data:[],error:void 0},wd=Object(vm.c)({env:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ud,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ENV_VARIABLE":return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){sd(e,t,n[t])})}return e}({},e,sd({},t.name,t.value));default:return e}},intl:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Om,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MESSAGES":return Em({},e,{messages:Em({},e.messages,wm({},t.locale,t.messages))});case"SET_LOCALE":return Em({},e,{locale:t.locale});default:return e}},menu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cm;switch((arguments.length>1?arguments[1]:void 0).type){case"OPEN_MENU":return _m({},e,{isOpen:!0});case"CLOSE_MENU":case"OPEN_MODAL":return _m({},e,{isOpen:!1});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dm,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_AUTH_SUCCESS":return km({},e,{isLoaded:!0});case"LOGIN_FAILURE":case"SIGNUP_FAILURE":return km({},e,{error:t.error});case C:return km({},e,{error:null});case"LOGIN_SUCCESS":return km({},e,{myId:t.id,error:null});case"LOGOUT_SUCCESS":return km({},Dm);case"CHECK_EMAIL_SUCCESS":return km({},e,{emailChecks:km({},e.emailChecks,jm({},t.email,t.exists))});case"CLEAR_AUTH_ERROR":return km({},e,{error:null});default:return e}},categories:Mm,tags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.entities&&t.entities.tags?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Lm(e,t,n[t])})}return e}({},e,t.entities.tags):e},fullTags:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return t.entities&&t.entities.fullTags?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){Im(e,t,n[t])})}return e}({},e,t.entities.fullTags):e},uploadServers:Km,media:Wm,users:Xm,autoPlay:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ENABLE_AUTOPLAY":return!0;case"DISABLE_AUTOPLAY":return!1;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:td,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.b:var n="",r=[],o=ed(t.payload.pathname.match(/\/(?:gifs|s)\/(.*)/)||[],2)[1];return o&&(n=Rt(o),r=Rt(e.query)===n?e.matches:[]),0===t.payload.pathname.search(/^\/(\w+)$/)&&(n=e.query,r=e.matches),$m({},e,{isOpen:!1,matches:r,query:n});case"CLEAR_SEARCH":return $m({},e,{query:"",isOpen:!1});case"OPEN_SEARCH":return $m({},e,{isOpen:!0});case"CLOSE_SEARCH":return $m({},e,{isOpen:!1});case Ao:return $m({},e,{error:null,isLoading:!0,isLoaded:!1,isOpen:!0,query:t.query});case"SEARCH_FAILURE":return $m({},e,{error:t.error,isLoading:!1,matches:[]});case"SEARCH_SUCCESS":return $m({},e,{matches:t.matches,error:null,isLoading:!1,isLoaded:!0});case"FETCH_SEARCH_HINTS_SUCCESS":return $m({},e,{searchHints:t.hints});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:od,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_MODAL":return nd({},e,{component:t.component,props:t.props});case s.b:case"CLOSE_MODAL":return nd({},e,{component:null});default:return e}},upload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ip:return ad({},e,{progress:{},count:t.files.length});case Rp:return ad({},e,{progress:ad({},e.progress,id({},t.id,0))});case"FILE_UPLOAD_PROGRESS":return ad({},e,{progress:ad({},e.progress,id({},t.id,t.progress))});case"FILE_UPLOAD_FAILURE":case"FILE_UPLOAD_SUCCESS":return ad({},e,{progress:ad({},e.progress,id({},t.id,100))});default:return e}},alertMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SHOW_ALERT":return ld({},e,{type:t.alertType,values:t.values,message:t.message,isOpen:!0});case"CLOSE_ALERT":return ld({},e,{isOpen:!1});default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yd,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENT_SUCCESS":return dd({},e,{data:[].concat(md(e.data),[t.data])});case io:return dd({},e,{isLoading:!0});case"FETCH_EVENTS_SUCCESS":return dd({},e,{isLoading:!1,isLoaded:!0,data:t.data});case"FETCH_EVENTS_FAILURE":return dd({},e,{isLoading:!1,error:t.error});default:return e}},smiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ed,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SMILE_SUCCESS":return vd({},e,{data:[].concat(bd(e.data),[t.data])});case pa:return vd({},e,{isLoading:!0});case"FETCH_SMILES_SUCCESS":return vd({},e,{isLoading:!1,isLoaded:!0,data:t.data});case"FETCH_SMILES_FAILURE":return vd({},e,{isLoading:!1,error:t.error});default:return e}},router:s.e}),Od=n(3),_d=n(149),Sd=n.n(_d),Cd=n(150),kd=n.n(Cd),jd=function(e){return yi("api/i18n/".concat(e,".json"))},Dd=ui.a.mark(Td),Pd=ui.a.mark(Nd),Ad=ui.a.mark(Fd),xd=ui.a.mark(Md);function Td(){var e;return ui.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(Od.a)(m);case 2:return e=t.sent,t.next=5,Object(Od.a)(K.d,Sd.a);case 5:return t.next=7,Object(Od.a)(K.d,kd.a);case 7:return t.next=9,Object(Od.c)(E(e));case 9:return t.next=11,Object(Od.c)(O(e));case 11:case"end":return t.stop()}},Dd,this)}function Nd(e){var t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.a)(jd,e.locale);case 3:return t=n.sent,n.next=6,Object(Od.c)(w(e.locale,t));case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}},Pd,this,[[0,8]])}function Fd(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(g,Nd);case 2:case"end":return e.stop()}},Ad,this)}function Md(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(v,Td);case 2:case"end":return e.stop()}},xd,this)}var Ld=function(e){return e.auth.myId},Id=function(e){return e.intl.locale},Rd=new li.b.Entity("categories"),Ud=new li.b.Entity("users",{},{idAttribute:function(e){return e.id||e._id}}),Bd=new li.b.Entity("media",{creator:Ud}),Hd=new li.b.Entity("fullTags",{cover:Bd}),zd=function(e){return yi("api/categories",{locale:e,normalize:[Rd]})},Wd=function(e,t){return yi("api/categories/".concat(encodeURIComponent(e),"/tags?include=cover"),{locale:t,normalize:[Hd]})},qd=ui.a.mark(Yd),Gd=ui.a.mark(Qd),Vd=ui.a.mark(Jd),Kd=ui.a.mark(Xd);function Yd(){var e,t,n,r;return ui.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Od.d)(Id);case 3:return e=o.sent,o.next=6,Object(Od.a)(zd,e);case 6:return t=o.sent,n=t.result,r=t.entities,o.next=11,Object(Od.c)(B(n,r));case 11:o.next=17;break;case 13:return o.prev=13,o.t0=o.catch(0),o.next=17,Object(Od.c)(H(o.t0.message));case 17:case"end":return o.stop()}},qd,this,[[0,13]])}function Qd(e){var t,n,r,o;return ui.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Od.d)(Id);case 3:return t=a.sent,a.next=6,Object(Od.a)(Wd,e.categoryId,t);case 6:return n=a.sent,r=n.result,o=n.entities,a.next=11,Object(Od.c)(z(e.categoryId,r,o));case 11:a.next=17;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(Od.c)(W(e.categoryId,a.t0));case 17:case"end":return a.stop()}},Gd,this,[[0,13]])}function Jd(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(R,Yd);case 2:case"end":return e.stop()}},Vd,this)}function Xd(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(U,Qd);case 2:case"end":return e.stop()}},Kd,this)}function $d(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}var Zd=function(){var e,t=(e=ui.a.mark(function e(t){var n,r,o,a,i,c,s,u,l,p,f,m,d,h;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.skip,o=void 0===r?0:r,a=t.rnd,i=void 0===a?null:a,c=t.limit,s=void 0===c?"80":c,u=t.locale,l=Or(n),p=l.query||l.tag,f="api/media?",l.user&&"uploaded"===l.type?f="api/users/".concat(l.user,"/media?"):l.user&&"favorites"===l.type?f="api/users/".concat(l.user,"/likes/media?"):l.user&&"touches"===l.type?f="api/users/".concat(l.user,"/touches?"):"event"===l.section?f="api/events/".concat(encodeURIComponent(l.id),"/media?"):"smile"===l.section?f="api/smiles/".concat(encodeURIComponent(l.id),"/media?"):p&&(f="api/search/media?q=".concat(encodeURIComponent(p))),m="",l.media&&(m="&by_media=".concat(l.media).concat(i?"&rnd=".concat(i):"")),e.next=9,yi("".concat(f,"&limit=").concat(s,"&skip=").concat(o,"&include=creator,tags.tag").concat(m),{locale:u});case 9:return d=e.sent,h=d.filter(function(e){return!!e}),e.abrupt("return",Object(li.a)(h,[Bd]));case 12:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){$d(a,r,o,i,c,"next",e)}function c(e){$d(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),eh=function(e,t){return yi("api/media/".concat(e,"?include=creator,tags.tag"),{locale:t,normalize:Bd})},th=function(e){return yi("api/media",{data:e,method:"post",normalize:Bd})},nh=function(e,t){return yi("api/stats",{data:e,locale:t,method:"post"})},rh=ui.a.mark(ph),oh=ui.a.mark(fh),ah=ui.a.mark(mh),ih=ui.a.mark(dh),ch=ui.a.mark(hh),sh=ui.a.mark(yh),uh=ui.a.mark(bh),lh=ui.a.mark(vh);function ph(e){var t,n,r,o,a;return ui.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Object(Od.d)(Id);case 3:return t=i.sent,i.next=6,Object(Od.a)(Zd,{id:e.list,skip:e.skip,limit:e.limit,locale:t});case 6:return n=i.sent,r=n.result,o=n.entities,a=n.count,i.next=12,Object(Od.c)(ot(e.list,r,o,!!e.skip,a));case 12:i.next=18;break;case 14:return i.prev=14,i.t0=i.catch(0),i.next=18,Object(Od.c)(at(i.t0.message));case 18:case"end":return i.stop()}},rh,this,[[0,14]])}function fh(e){var t,n,r,o;return ui.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(Od.d)(Id);case 3:return t=a.sent,a.next=6,Object(Od.a)(eh,e.id,t);case 6:return n=a.sent,r=n.result,o=n.entities,a.next=11,Object(Od.c)(ft(r,o));case 11:a.next=19;break;case 13:return a.prev=13,a.t0=a.catch(0),a.next=17,Object(Od.c)(pt(a.t0.message));case 17:return a.next=19,Object(Od.c)(Object(s.c)("/"));case 19:case"end":return a.stop()}},oh,this,[[0,13]])}function mh(e){var t,n,r;return ui.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Od.a)(th,e.media);case 3:return t=o.sent,n=t.result,r=t.entities,o.next=8,Object(Od.c)(ht(n,r));case 8:return o.next=10,Object(Od.c)(yt("user/".concat(r.media[n].creator||0,"/uploaded"),n));case 10:o.next=16;break;case 12:return o.prev=12,o.t0=o.catch(0),o.next=16,Object(Od.c)(dt(o.t0.message));case 16:case"end":return o.stop()}},ah,this,[[0,12]])}function dh(e){var t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.d)(Id);case 3:return t=n.sent,n.next=6,Object(Od.a)(nh,e.data,t);case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Od.c)(vt(n.t0));case 12:case"end":return n.stop()}},ih,this,[[0,8]])}function hh(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(nt,ph);case 2:case"end":return e.stop()}},ch,this)}function yh(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(ct,fh);case 2:case"end":return e.stop()}},sh,this)}function bh(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(st,mh);case 2:case"end":return e.stop()}},uh,this)}function vh(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(ut,dh);case 2:case"end":return e.stop()}},lh,this)}var gh=n(151),Eh=n.n(gh),wh=n(87),Oh=n.n(wh);function _h(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}function Sh(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){_h(a,r,o,i,c,"next",e)}function c(e){_h(a,r,o,i,c,"throw",e)}i(void 0)})}}var Ch="https://i.gifer.com";function kh(e,t){return jh.apply(this,arguments)}function jh(){return(jh=Sh(ui.a.mark(function e(t,n){var r,o;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Oh.a.post("".concat(Ch,"/upload"))).attach("files",n),r.on("progress",function(e){"upload"===e.direction&&jb.dispatch(Up(t,e.percent))}),e.next=5,r.then();case 5:return o=e.sent,e.abrupt("return",o.body[0]);case 7:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Dh(e,t){return Ph.apply(this,arguments)}function Ph(){return(Ph=Sh(ui.a.mark(function e(t,n){var r,o;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Oh.a.post("".concat(Ch,"/upload"))).field("url",n),e.next=4,r.then();case 4:return o=e.sent,e.abrupt("return",o.body[0]);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var Ah=ui.a.mark(Fh),xh=ui.a.mark(Mh),Th=ui.a.mark(Lh),Nh=ui.a.mark(Ih);function Fh(e){var t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Od.d)(Ld);case 2:return t=n.sent,n.next=5,Object(Od.c)(Object(s.c)("/user/".concat(t||0)));case 5:return n.next=7,e.files.map(function(e){var t=Eh()("upload_file");return Object(Od.c)(Hp(t,e))});case 7:case"end":return n.stop()}},Ah,this)}function Mh(e){var t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t="string"===typeof e.file?Dh:kh,r.next=4,Object(Od.a)(t,e.id,e.file);case 4:return n=r.sent,r.next=7,Object(Od.c)(Bp(e.id,n));case 7:return r.next=9,Object(Od.c)(mt({width:n.width,height:n.height,file:n}));case 9:r.next=15;break;case 11:return r.prev=11,r.t0=r.catch(0),r.next=15,Object(Od.c)(zp(e.id,r.t0.message));case 15:case"end":return r.stop()}},xh,this,[[0,11]])}function Lh(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(Rp,Mh);case 2:case"end":return e.stop()}},Th,this)}function Ih(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(Ip,Fh);case 2:case"end":return e.stop()}},Nh,this)}var Rh=function(e){return yi("login",{data:e,method:"POST",normalize:Ud})},Uh=function(e){return yi("signup",{data:e,method:"POST",normalize:Ud})},Bh=function(){return yi("api/users/me",{normalize:Ud})},Hh=function(){return yi("logout",{method:"POST"})},zh=function(e){return new Promise(function(t,n){var r=window.open("".concat("https://gifer.com","/auth/").concat(e),"sauth","width=600,height=600,resizable=yes,scrollbars=yes,status=yes"),o=setInterval(function(){r.closed&&(clearInterval(o),Bh().then(t).catch(n))},500)})},Wh=function(e){return yi("api/emails/".concat(e)).then(function(){return!0}).catch(function(){return!1})},qh=ui.a.mark(ny),Gh=ui.a.mark(ry),Vh=ui.a.mark(oy),Kh=ui.a.mark(ay),Yh=ui.a.mark(iy),Qh=ui.a.mark(cy),Jh=ui.a.mark(sy),Xh=ui.a.mark(uy),$h=ui.a.mark(ly),Zh=ui.a.mark(py),ey=ui.a.mark(fy),ty=ui.a.mark(my);function ny(e){var t,n,r;return ui.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Od.a)(Rh,e.data);case 3:return t=o.sent,n=t.result,r=t.entities,o.next=8,Object(Od.c)(T(n,r));case 8:return o.next=10,Object(Od.c)(ar("alert.auth_success","success",{user:r.users[n].username}));case 10:return o.next=12,Object(Od.c)($t());case 12:o.next=20;break;case 14:return o.prev=14,o.t0=o.catch(0),o.next=18,Object(Od.c)(ar("alert.some_error","error"));case 18:return o.next=20,Object(Od.c)(x(o.t0||"Bad request"));case 20:case"end":return o.stop()}},qh,this,[[0,14]])}function ry(e){var t,n,r;return ui.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Od.a)(Uh,e.data);case 3:return t=o.sent,n=t.result,r=t.entities,o.next=8,Object(Od.c)(T(n,r));case 8:return o.next=10,Object(Od.c)($t());case 10:o.next=18;break;case 12:return o.prev=12,o.t0=o.catch(0),o.next=16,Object(Od.c)(ar("alert.some_error","error"));case 16:return o.next=18,Object(Od.c)(N(o.t0));case 18:case"end":return o.stop()}},Gh,this,[[0,12]])}function oy(){var e,t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Od.a)(Bh);case 3:return e=r.sent,t=e.result,n=e.entities,r.next=8,Object(Od.c)(T(t,n));case 8:r.next=12;break;case 10:r.prev=10,r.t0=r.catch(0);case 12:return r.prev=12,r.next=15,Object(Od.c)(P());case 15:return r.finish(12);case 16:case"end":return r.stop()}},Vh,this,[[0,10,12,16]])}function ay(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Od.a)(Hh);case 3:return e.next=5,Object(Od.c)(F());case 5:e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(0),e.next=11,Object(Od.c)(M(e.t0));case 11:case"end":return e.stop()}},Kh,this,[[0,7]])}function iy(e){var t,n,r,o;return ui.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.provider,a.prev=1,a.next=4,Object(Od.a)(zh,t);case 4:return n=a.sent,r=n.entities,o=n.result,a.next=9,Object(Od.c)(T(o,r));case 9:return a.next=11,Object(Od.c)(ar("alert.auth_success","success",{user:r.users[o].username}));case 11:return a.next=13,Object(Od.c)($t());case 13:a.next=21;break;case 15:return a.prev=15,a.t0=a.catch(1),a.next=19,Object(Od.c)(ar("alert.some_error","error"));case 19:return a.next=21,Object(Od.c)(x(a.t0));case 21:case"end":return a.stop()}},Yh,this,[[1,15]])}function cy(e){var t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.email,r.prev=1,r.next=4,Object(Od.a)(Wh,t);case 4:return n=r.sent,r.next=7,Object(Od.c)(I(t,n));case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object(Od.c)(L(t,r.t0));case 13:case"end":return r.stop()}},Qh,this,[[1,9]])}function sy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(k,ry);case 2:case"end":return e.stop()}},Jh,this)}function uy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(C,ny);case 2:case"end":return e.stop()}},Xh,this)}function ly(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(_,oy);case 2:case"end":return e.stop()}},$h,this)}function py(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(j,ay);case 2:case"end":return e.stop()}},Zh,this)}function fy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(S,iy);case 2:case"end":return e.stop()}},ey,this)}function my(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(D,cy);case 2:case"end":return e.stop()}},ty,this)}var dy=new li.b.Entity("tags"),hy=function(e,t){return yi("api/search/autocomplete?q=".concat(e),{locale:t})},yy=function(e){return yi("api/tags?type=search_hints",{locale:e,normalize:[dy]})},by=ui.a.mark(wy),vy=ui.a.mark(Oy),gy=ui.a.mark(_y),Ey=ui.a.mark(Sy);function wy(e){var t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Od.a)(gm.c,150);case 3:return r.next=5,Object(Od.d)(Id);case 5:return t=r.sent,r.next=8,Object(Od.a)(hy,e.query,t);case 8:return n=r.sent,r.next=11,Object(Od.c)(No(n));case 11:r.next=17;break;case 13:return r.prev=13,r.t0=r.catch(0),r.next=17,Object(Od.c)(To(r.t0.message));case 17:case"end":return r.stop()}},by,this,[[0,13]])}function Oy(){var e,t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Od.d)(Id);case 3:return e=r.sent,r.next=6,Object(Od.a)(yy,e);case 6:return t=r.sent,n=t.result,r.next=10,Object(Od.c)(Mo(n));case 10:r.next=16;break;case 12:return r.prev=12,r.t0=r.catch(0),r.next=16,Object(Od.c)(Fo(r.t0));case 16:case"end":return r.stop()}},vy,this,[[0,12]])}function _y(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.f)(Ao,wy);case 2:case"end":return e.stop()}},gy,this)}function Sy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(xo,Oy);case 2:case"end":return e.stop()}},Ey,this)}function Cy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function ky(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}var jy=function(e){return yi("api/events?include=cover&date=".concat(new Date),{locale:e})},Dy=function(){var e,t=(e=ui.a.mark(function e(t){var n,r,o,a;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="api/events?slug=".concat(encodeURIComponent(t),"&include=cover"),e.next=3,yi(n,{locale:"all"});case 3:return r=e.sent,o=Cy(r,1),a=o[0],e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){ky(a,r,o,i,c,"next",e)}function c(e){ky(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),Py=ui.a.mark(Ny),Ay=ui.a.mark(Fy),xy=ui.a.mark(My),Ty=ui.a.mark(Ly);function Ny(){var e,t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.d)(Id);case 3:return e=n.sent,n.next=6,Object(Od.a)(jy,e);case 6:return t=n.sent,n.next=9,Object(Od.c)(so(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Od.c)(uo(n.t0.message));case 15:case"end":return n.stop()}},Py,this,[[0,11]])}function Fy(e){var t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.a)(Dy,e.slug);case 3:return t=n.sent,n.next=6,Object(Od.c)(lo(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Od.c)(po(n.t0.message));case 12:case"end":return n.stop()}},Ay,this,[[0,8]])}function My(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(io,Ny);case 2:case"end":return e.stop()}},xy,this)}function Ly(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(co,Fy);case 2:case"end":return e.stop()}},Ty,this)}function Iy(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(s){o=!0,a=s}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Ry(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(u){return void n(u)}c.done?t(s):Promise.resolve(s).then(r,o)}var Uy=function(e){return yi("api/smiles",{locale:e})},By=function(){var e,t=(e=ui.a.mark(function e(t){var n,r,o,a;return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="api/smiles?slug=".concat(encodeURIComponent(t)),e.next=3,yi(n,{locale:"all"});case 3:return r=e.sent,o=Iy(r,1),a=o[0],e.abrupt("return",a);case 7:case"end":return e.stop()}},e,this)}),function(){var t=this,n=arguments;return new Promise(function(r,o){var a=e.apply(t,n);function i(e){Ry(a,r,o,i,c,"next",e)}function c(e){Ry(a,r,o,i,c,"throw",e)}i(void 0)})});return function(e){return t.apply(this,arguments)}}(),Hy=ui.a.mark(Gy),zy=ui.a.mark(Vy),Wy=ui.a.mark(Ky),qy=ui.a.mark(Yy);function Gy(){var e,t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.d)(Id);case 3:return e=n.sent,n.next=6,Object(Od.a)(Uy,e);case 6:return t=n.sent,n.next=9,Object(Od.c)(ma(t));case 9:n.next=15;break;case 11:return n.prev=11,n.t0=n.catch(0),n.next=15,Object(Od.c)(da(n.t0.message));case 15:case"end":return n.stop()}},Hy,this,[[0,11]])}function Vy(e){var t;return ui.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Od.a)(By,e.slug);case 3:return t=n.sent,n.next=6,Object(Od.c)(ha(t));case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n.catch(0),n.next=12,Object(Od.c)(ya(n.t0.message));case 12:case"end":return n.stop()}},zy,this,[[0,8]])}function Ky(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(pa,Gy);case 2:case"end":return e.stop()}},Wy,this)}function Yy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(fa,Vy);case 2:case"end":return e.stop()}},qy,this)}var Qy=function(){return fetch("".concat("https://i.gifer.com","/servers")).then(function(e){return e.json()})},Jy=ui.a.mark($y),Xy=ui.a.mark(Zy);function $y(){var e;return ui.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Od.a)(Qy);case 3:return e=t.sent,t.next=6,Object(Od.c)(G(e));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Od.c)(V(t.t0.message));case 12:case"end":return t.stop()}},Jy,this,[[0,8]])}function Zy(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(q,$y);case 2:case"end":return e.stop()}},Xy,this)}var eb=ui.a.mark(nb),tb=ui.a.mark(rb);function nb(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.c)(fp());case 2:"undefined"!==typeof window&&(window.scrollTo(0,0),"undefined"!==typeof window.ga&&(window.ga("set","page",window.location.pathname+window.location.search),window.ga("send","pageview")));case 3:case"end":return e.stop()}},eb,this)}function rb(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(s.b,nb);case 2:case"end":return e.stop()}},tb,this)}var ob=new li.b.Entity("fullUsers"),ab=function(e){return yi("api/users/".concat(e,"?include=counters"),{normalize:ob})},ib=ui.a.mark(sb),cb=ui.a.mark(ub);function sb(e){var t,n,r;return ui.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,Object(Od.a)(ab,e.id);case 3:return t=o.sent,n=t.result,r=t.entities,o.next=8,Object(Od.c)(vu(n,r));case 8:o.next=14;break;case 10:return o.prev=10,o.t0=o.catch(0),o.next=14,Object(Od.c)(bu(o.t0.message));case 14:case"end":return o.stop()}},ib,this,[[0,10]])}function ub(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(yu,sb);case 2:case"end":return e.stop()}},cb,this)}var lb=function(e){return/telegrambot/i.test(e)?"telegram":/twitterbot.*facebookexternalhit|facebookexternalhit.*twitterbot/i.test(e)?"iMessage":/developers.google.com\/\+\/web\/snippet/i.test(e)?"googleplus":/twitterbot/i.test(e)?"twitter":/facebook/i.test(e)?"facebook":/vkshare/i.test(e)?"vk":/odklbot/i.test(e)?"ok":/google/i.test(e)?"google":/redditbot/i.test(e)?"reddit":/whatsapp/i.test(e)?"whatsapp":"browser"},pb=ui.a.mark(mb),fb=ui.a.mark(db);function mb(){var e,t,n;return ui.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return e=(e=/iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone|mobile/i.test(navigator.userAgent))||window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),r.next=4,Object(Od.c)(b("isMobile",!!e));case 4:return r.next=6,Object(Od.c)(b("width",window.innerWidth));case 6:return r.next=8,Object(Od.c)(b("height",window.innerHeight));case 8:return r.next=10,Object(Od.c)(b("url",window.location.href));case 10:return r.next=12,Object(Od.c)(b("clientType",lb(navigator.userAgent)));case 12:return r.next=14,Object(Od.c)(b("speed",St));case 14:if(8,t=JSON.parse(et.getItem("autoplay")),n=null===t&&St>=8,!0!==t){r.next=22;break}return r.next=20,Object(Od.c)(Ze());case 20:r.next=26;break;case 22:if(!n){r.next=26;break}return r.next=25,Object(Od.c)(Ze());case 25:wr({event:"auto_autoplay"});case 26:case"end":return r.stop()}},pb,this)}function db(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(y,mb);case 2:case"end":return e.stop()}},fb,this)}var hb=function(e,t){return yi("api/likes/media/".concat(e),{method:t?"post":"delete"})},yb=ui.a.mark(vb),bb=ui.a.mark(gb);function vb(e){return ui.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Od.a)(hb,e.id,e.like);case 3:return t.next=5,Object(Od.c)(Jt(e.id,e.like));case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(Od.c)(Qt(t.t0.message,e.id,e.like));case 11:case"end":return t.stop()}},yb,this,[[0,7]])}function gb(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Od.e)(Kt,vb);case 2:case"end":return e.stop()}},bb,this)}var Eb=ui.a.mark(wb);function wb(){return ui.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[Object(Od.b)(db),Object(Od.b)(rb),Object(Od.b)(Zy),Object(Od.b)(ub),Object(Od.b)(gb),Object(Od.b)(My),Object(Od.b)(Ly),Object(Od.b)(Ky),Object(Od.b)(Yy),Object(Od.b)(_y),Object(Od.b)(Sy),Object(Od.b)(Ih),Object(Od.b)(Lh),Object(Od.b)(hh),Object(Od.b)(yh),Object(Od.b)(bh),Object(Od.b)(vh),Object(Od.b)(Md),Object(Od.b)(Fd),Object(Od.b)(Jd),Object(Od.b)(Xd),Object(Od.b)(ly),Object(Od.b)(uy),Object(Od.b)(sy),Object(Od.b)(py),Object(Od.b)(fy),Object(Od.b)(my)];case 2:case"end":return e.stop()}},Eb,this)}var Ob,_b,Sb,Cb,kb=(_b=Object(gm.b)(),Sb="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||vm.d,(Cb=Object(vm.e)(wd,Ob,Sb(Object(vm.a)(Object(s.d)(d),_b)))).runSaga=_b.run,Cb.close=function(){return Cb.dispatch(gm.a)},Cb);kb.runSaga(wb);var jb=kb;c.a.render(o.a.createElement(a.a,{store:jb},o.a.createElement(s.a,{history:d},o.a.createElement(bm,null))),document.getElementById("root"))},64:function(e,t,n){e.exports=n.p+"static/media/empty-uploaded.9f426921.webp"}},[[154,2,1]]]);
//# sourceMappingURL=main.92332741.chunk.js.map